# Wildboar X.500 Directory Applications

## Rules

- When anything writes to the database, the verb used to describe it shall be "save."
- When anything reads from the database, the verb used to describe it shall be "load."
- When anything reads from an entry or attribute in memory, the verb used to describe it shall be "read."
- When anything writes to an entry or attribute in memory, the verb used to describe it shall be "write."

This is not to imply that these rules are current adhered to.

## Projects

<!-- - [ ] Architecture decision: each meerkat directory will house one single naming context -->

- [ ] Put object classes in the database
- [ ] Put name forms in the database
- [ ] Put friends in the database
- [ ] Lock down control over the `uniqueIdentifier` attribute
  - [ ] This is a "user" attribute, but the unique identifier must be totally unique for security purposes!
- [ ] `readEntry()` deprecation
- [ ] `findEntry()` refactor
  - [ ] Return the number of RDNs that matched, whether aliases were derefed.
  - [ ] Accept neverDerefAliases, derefInSearching, derefFindingBaseObj, derefAlways
  - [ ] Drill into database if entries are not in memory.
  - [ ] Ignore entries whose deletionTimestamp is set.
  - [ ] Return referrals / continuation references.
  - [ ] Rename to `findEntryLocally()`
- [ ] If an entry cannot be found locally, perform distributed procedures.
- [ ] X.500 Library
  - [ ] `getApplicableValues()` (see `canJoin.ts`)
  - [ ] `isLeafEntry()`
  - [ ] `isCompoundEntry()`
  - [ ] `evaluateRDNAgainstNameForm(rdn: RDN, nf: NAME_FORM)`
  - [ ] `evaluateEntryAgainstContentRule(entry: EntryInformation, cr: CONTENT_RULE)`
  - [ ] `validateObjectClasses()`
- [ ] Applications
  - [ ] Meerkat Directory Server (A lightweight, in-memory, FOSS X.500 directory server)
    - [ ] Add a `subordinatesReader` string to entries that allows them to lookup a callback for reading subordinates.
    - [ ] Technical Debt
      - [ ] Reverse the distinguished names (I think I got it completely backwards.)
      - [ ] Use Base64 UUIDs (better performance, because fewer characters to compare)
      - [ ] Combined matching rules, per ITU Recommendation X.501 (2016), Section 13.5.2.
      - [ ] Canonical Filtering Form, per Annex Q of X.501 (2016)
      - [ ] According to Section 7.3.1, it sounds like all the critical extension bits must always be set...
      - [ ] I think you can remove all of the code that checks if extension bits are set.
      - [ ] Set `aliasDereferenced` in `CommonResults`
      - [ ] Use `notification` in `CommonResults`
      - [ ] Service administration
      - [ ] Schema administration
      - [ ] Authentication
      - [ ] `readChildren(entry)` which can read either the children in memory, or those in the database.
      - [ ] `writeAttributes(entry, attributes)` which takes care of:
        - [ ] Operational attributes
        - [ ] Single-valued attributes
        - [ ] Collective attributes
        - [ ] Compound entries (marking parents as object class `parent`)
      - [x] `readUserAttributes(entry)`
      - [x] `readAllAttributes(entry)`
    - [ ] Lightweight Directory Access Protocol
      - [x] `bind`
      - [x] `unbind`
      - [ ] `search`
      - [x] `modify`
      - [x] `add`
      - [x] `del`
      - [x] `modDN`
      - [x] `compare`
      - [ ] `abandon`
      - [x] `extendedReq`
      - [x] `startTLS`
    - [ ] Administration Portal
      - [ ] DIT View
      - [ ] View Entry
        - [ ] Human View
        - [ ] XML View
        - [ ] JSON View
        - [ ] LDIF View
        - [ ] VCF View
      - [ ] Hierarchical Operational Binding Management
      - [ ] Shadow Operational Binding Management
    - [ ] gRPC API
    - [ ] Directory Access Protocol
      - [ ] Operations
        - [ ] `directoryBind`
        - [x] `abandon`
        - [ ] `administerPassword`
        - [x] `addEntry`
        - [ ] `changePassword`
        - [x] `compare`
        - [x] `modifyDN`
        - [x] `modifyEntry`
        - [x] `list`
        - [x] `read`
        - [x] `removeEntry`
        - [ ] `search`
    - [ ] Directory System Protocol
      - [ ] Operations
        - [ ] `dSABind`
        - [ ] `chainedRead`
        - [ ] `chainedCompare`
        - [ ] `chainedAbandon`
        - [ ] `chainedList`
        - [ ] `chainedSearch`
        - [ ] `chainedAddEntry`
        - [ ] `chainedRemoveEntry`
        - [ ] `chainedModifyEntry`
        - [ ] `chainedModifyDN`
        - [ ] `chainedAdministerPassword`
        - [ ] `chainedChangePassword`
        - [ ] `chainedLdapTransport`
        - [ ] `chainedLinkedLDAP`
      - [ ] Directory Information Shadowing Protocol
        - [ ] Operations
          - [ ] `requestShadowUpdate`
          - [ ] `updateShadow`
          - [ ] `coordinateShadowUpdate`
      - [ ] Directory Operational Binding Management Protocol
        - [ ] Operations
          - [ ] `establishOperationalBinding`
          - [ ] `modifyOperationalBinding`
          - [ ] `terminateOperationalBinding`
  - [ ] Wildboar Directory Server (An enterprise-grade X.500 directory server)
    - [ ] CMIP Support
    - [ ] SNMP Support
    - [ ] Webhooks Support
    - [ ] All authentication methods
    - [ ] Directory Access Protocol
      - [ ] Operations
        - [ ] `directoryBind`
          - [ ] SASL
            - [ ] `PLAIN`
            - [ ] `EXTERNAL`?
            - [ ] `ANONYMOUS`?
        - [x] `abandon`
        - [ ] `administerPassword`
        - [x] `addEntry`
        - [ ] `changePassword`
        - [ ] `compare`
        - [ ] `modifyDN`
        - [ ] `modifyEntry`
        - [ ] `list`
        - [ ] `read`
        - [x] `removeEntry`
        - [ ] `search`
    - [ ] Directory System Protocol
      - [ ] Operations
        - [ ] `dSABind`
        - [ ] `chainedRead`
        - [ ] `chainedCompare`
        - [ ] `chainedAbandon`
        - [ ] `chainedList`
        - [ ] `chainedSearch`
        - [ ] `chainedAddEntry`
        - [ ] `chainedRemoveEntry`
        - [ ] `chainedModifyEntry`
        - [ ] `chainedModifyDN`
        - [ ] `chainedAdministerPassword`
        - [ ] `chainedChangePassword`
        - [ ] `chainedLdapTransport`
        - [ ] `chainedLinkedLDAP`
      - [ ] Directory Information Shadowing Protocol
        - [ ] Operations
          - [ ] `requestShadowUpdate`
          - [ ] `updateShadow`
          - [ ] `coordinateShadowUpdate`
      - [ ] Directory Operational Binding Management Protocol
        - [ ] Operations
          - [ ] `establishOperationalBinding`
          - [ ] `modifyOperationalBinding`
          - [ ] `terminateOperationalBinding`
  - [ ] X500 Command Line Interface
    - [ ] `x500 dap add` (Basically, a subcommand for every structural class)
      - [ ] `x500 dap add entry`
        - [ ] `x500 dap add entry cRLDistributionPoint`
        - [x] `x500 dap add entry country`
        - [x] `x500 dap add entry locality`
        - [x] `x500 dap add entry organization`
        - [x] `x500 dap add entry organizationalUnit`
        - [x] `x500 dap add entry person`
        - [x] `x500 dap add entry organizationalPerson`
        - [x] `x500 dap add entry organizationalRole`
        - [ ] `x500 dap add entry groupOfNames`
        - [ ] `x500 dap add entry groupOfUniqueNames`
        - [ ] `x500 dap add entry residentialPerson`
        - [ ] `x500 dap add entry applicationProcess`
        - [ ] `x500 dap add entry applicationEntity`
        - [ ] `x500 dap add entry dSA`
        - [ ] `x500 dap add entry device`
        - [ ] `x500 dap add entry dMD`
        - [ ] `x500 dap add entry oidC1obj`
        - [ ] `x500 dap add entry oidC2obj`
        - [ ] `x500 dap add entry oidCobj`
        - [ ] `x500 dap add entry oidRoot`
        - [ ] `x500 dap add entry oidArc`
        - [ ] `x500 dap add entry urnCobj`
      - [ ] `x500 dap add subentry`
      - [ ] `x500 dap add alias`
      - [ ] `x500 dap add glue`
      - [ ] `x500 dap add subr`
    - [x] `x500 dap apwd`
    - [x] `x500 dap cpwd`
    - [x] `x500 dap compare`
    - [x] `x500 dap list`
    - [x] `x500 dap moddn`
    - [ ] `x500 dap mod` (Basically, a subcommand for every auxiliary class)
      - [ ] `x500 dap mod become accessControlSubentry`
      - [ ] `x500 dap mod become collectiveAttributeSubentry`
      - [ ] `x500 dap mod become contextAssertionSubentry`
      - [ ] `x500 dap mod become serviceAdminSubentry`
      - [ ] `x500 dap mod become pwdAdminSubentry`
      - [ ] `x500 dap mod become subschema`
      - [ ] `x500 dap mod become pmiUser`
      - [ ] `x500 dap mod become pmiAA`
      - [ ] `x500 dap mod become pmiSOA`
      - [ ] `x500 dap mod become attCertCRLDistributionPt`
      - [ ] `x500 dap mod become pmiDelegationPath`
      - [ ] `x500 dap mod become privilegePolicy`
      - [ ] `x500 dap mod become protectedPrivilegePolicy`
      - [ ] `x500 dap mod become pkiUser`
      - [ ] `x500 dap mod become pkiCA`
      - [ ] `x500 dap mod become deltaCRL`
      - [ ] `x500 dap mod become cpCps`
      - [ ] `x500 dap mod become pkiCertPath`
      - [ ] `x500 dap mod become strongAuthenticationUser`
      - [ ] `x500 dap mod become userSecurityInformation`
      - [ ] `x500 dap mod become userPwdClass`
      - [ ] `x500 dap mod become certificationAuthority`
      - [ ] `x500 dap mod become isoTagInfo`
      - [ ] `x500 dap mod become isoTagType`
      - [ ] `x500 dap mod become epcTagInfoObj`
      - [ ] `x500 dap mod become epcTagTypeObj`
      - [ ] `x500 dap mod admpoint set role=accesscontrol`
      - [ ] `x500 dap mod subtree`
      - [ ] `x500 dap mod add aci`
      - [ ] `x500 dap mod rm aci`
      - [ ] `x500 dap mod hierarchy add parent`
      - [ ] `x500 dap mod hierarchy emancipate`
      - [ ] `x500 dap mod family makechild`
      - [ ] `x500 dap mod group add`
      - [ ] `x500 dap mod group rm`
      - [ ] `x500 dap mod add pkc`
      - [ ] `x500 dap mod add ac`
      - [ ] `x500 dap mod add crl`
    - [x] `x500 dap read`
    - [x] `x500 dap rm`
    - [ ] `x500 dap search`
  - [ ] X500 Studio
- [ ] Libraries
  - [ ] IDM
  - [ ] X.500 Client
  - [ ] X.500 Server
  - [ ] X.500 Extensions
