"use strict";(self.webpackChunkdirectory=self.webpackChunkdirectory||[]).push([[83],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _=i.createContext({}),s=function(e){var t=i.useContext(_),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(_.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,_=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=s(n),u=a,E=m["".concat(_,".").concat(u)]||m[u]||h[u]||l;return n?i.createElement(E,r(r({ref:t},d),{},{components:n})):i.createElement(E,r({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=m;var o={};for(var _ in t)hasOwnProperty.call(t,_)&&(o[_]=t[_]);o.originalType=e,o.mdxType="string"==typeof e?e:a,r[1]=o;for(var s=2;s<l;s++)r[s]=n[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9748:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>_,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var i=n(7462),a=n(3366),l=(n(7294),n(3905)),r=["components"],o={},_="Environment Variables",s={unversionedId:"env",id:"env",title:"Environment Variables",description:"Meerkat DSA is configured via environment variables. In the future, it will",source:"@site/docs/env.md",sourceDirName:".",slug:"/env",permalink:"/directory/docs/env",editUrl:"https://github.com/Wildboar-Software/directory/edit/main/website/docs/env.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Setup",permalink:"/directory/docs/setup"},next:{title:"Database Administration",permalink:"/directory/docs/database"}},d=[{value:"DATABASE_URL",id:"database_url",children:[],level:2},{value:"LANG",id:"lang",children:[],level:2},{value:"MEERKAT_ADMINISTRATOR_EMAIL",id:"meerkat_administrator_email",children:[],level:2},{value:"MEERKAT_BIND_MIN_SLEEP_MS",id:"meerkat_bind_min_sleep_ms",children:[],level:2},{value:"MEERKAT_BIND_SLEEP_RANGE_MS",id:"meerkat_bind_sleep_range_ms",children:[],level:2},{value:"MEERKAT_BULK_INSERT_MODE",id:"meerkat_bulk_insert_mode",children:[],level:2},{value:"MEERKAT_CLIENT_CERT_ENGINE",id:"meerkat_client_cert_engine",children:[],level:2},{value:"MEERKAT_CHAINING_TLS_OPTIONAL",id:"meerkat_chaining_tls_optional",children:[],level:2},{value:"MEERKAT_DANGEROUSLY_ENABLE_DOP",id:"meerkat_dangerously_enable_dop",children:[],level:2},{value:"MEERKAT_DANGEROUSLY_ENABLE_DSP",id:"meerkat_dangerously_enable_dsp",children:[],level:2},{value:"MEERKAT_ECDH_CURVES",id:"meerkat_ecdh_curves",children:[],level:2},{value:"MEERKAT_ENABLE_DAP",id:"meerkat_enable_dap",children:[],level:2},{value:"MEERKAT_ENTRIES_PER_SUBORDINATES_PAGE",id:"meerkat_entries_per_subordinates_page",children:[],level:2},{value:"MEERKAT_FORBID_ANONYMOUS_BIND",id:"meerkat_forbid_anonymous_bind",children:[],level:2},{value:"MEERKAT_HONOR_CIPHER_ORDER",id:"meerkat_honor_cipher_order",children:[],level:2},{value:"MEERKAT_IDM_BUFFER_SIZE",id:"meerkat_idm_buffer_size",children:[],level:2},{value:"MEERKAT_IDM_PORT",id:"meerkat_idm_port",children:[],level:2},{value:"MEERKAT_IDMS_PORT",id:"meerkat_idms_port",children:[],level:2},{value:"MEERKAT_INIT_JS",id:"meerkat_init_js",children:[],level:2},{value:"MEERKAT_LDAP_BUFFER_SIZE",id:"meerkat_ldap_buffer_size",children:[],level:2},{value:"MEERKAT_LDAP_PORT",id:"meerkat_ldap_port",children:[],level:2},{value:"MEERKAT_LDAPS_PORT",id:"meerkat_ldaps_port",children:[],level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_SSL3",id:"meerkat_local_qualifier_points_for_using_ssl3",children:[],level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_STARTTLS",id:"meerkat_local_qualifier_points_for_using_starttls",children:[],level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS",id:"meerkat_local_qualifier_points_for_using_tls",children:[],level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_0",id:"meerkat_local_qualifier_points_for_using_tls_1_0",children:[],level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_1",id:"meerkat_local_qualifier_points_for_using_tls_1_1",children:[],level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_2",id:"meerkat_local_qualifier_points_for_using_tls_1_2",children:[],level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_3",id:"meerkat_local_qualifier_points_for_using_tls_1_3",children:[],level:2},{value:"MEERKAT_LOG_FILE",id:"meerkat_log_file",children:[],level:2},{value:"MEERKAT_LOG_FILE_MAX_FILES",id:"meerkat_log_file_max_files",children:[],level:2},{value:"MEERKAT_LOG_FILE_MAX_SIZE",id:"meerkat_log_file_max_size",children:[],level:2},{value:"MEERKAT_LOG_HTTP",id:"meerkat_log_http",children:[],level:2},{value:"MEERKAT_LOG_JSON",id:"meerkat_log_json",children:[],level:2},{value:"MEERKAT_LOG_LEVEL",id:"meerkat_log_level",children:[],level:2},{value:"MEERKAT_LOG_TAILABLE",id:"meerkat_log_tailable",children:[],level:2},{value:"MEERKAT_LOG_ZIP",id:"meerkat_log_zip",children:[],level:2},{value:"MEERKAT_MAX_CONCURRENT_OPERATIONS_PER_CONNECTION",id:"meerkat_max_concurrent_operations_per_connection",children:[],level:2},{value:"MEERKAT_MAX_CONNECTIONS",id:"meerkat_max_connections",children:[],level:2},{value:"MEERKAT_MAX_CONNECTIONS_PER_ADDRESS",id:"meerkat_max_connections_per_address",children:[],level:2},{value:"MEERKAT_MAX_IDM_PDU_SIZE",id:"meerkat_max_idm_pdu_size",children:[],level:2},{value:"MEERKAT_MAX_IDM_SEGMENTS",id:"meerkat_max_idm_segments",children:[],level:2},{value:"MEERKAT_MAX_PRE_BIND_REQUESTS",id:"meerkat_max_pre_bind_requests",children:[],level:2},{value:"MEERKAT_MIN_AUTH_LEVEL_FOR_CHAINING",id:"meerkat_min_auth_level_for_chaining",children:[],level:2},{value:"MEERKAT_MIN_AUTH_LEVEL_FOR_OB",id:"meerkat_min_auth_level_for_ob",children:[],level:2},{value:"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_CHAINING",id:"meerkat_min_auth_local_qualifier_for_chaining",children:[],level:2},{value:"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_OB",id:"meerkat_min_auth_local_qualifier_for_ob",children:[],level:2},{value:"MEERKAT_MIN_TRANSFER_SPEED_BYTES_PER_MINUTE",id:"meerkat_min_transfer_speed_bytes_per_minute",children:[],level:2},{value:"MEERKAT_MY_ACCESS_POINT_NSAPS",id:"meerkat_my_access_point_nsaps",children:[],level:2},{value:"MEERKAT_NO_COLOR",id:"meerkat_no_color",children:[],level:2},{value:"MEERKAT_NO_CONSOLE",id:"meerkat_no_console",children:[],level:2},{value:"MEERKAT_NO_TIMESTAMP",id:"meerkat_no_timestamp",children:[],level:2},{value:"MEERKAT_OB_AUTO_ACCEPT",id:"meerkat_ob_auto_accept",children:[],level:2},{value:"MEERKAT_OPEN_TOP_LEVEL",id:"meerkat_open_top_level",children:[],level:2},{value:"MEERKAT_PRIVATE_KEY_ENGINE",id:"meerkat_private_key_engine",children:[],level:2},{value:"MEERKAT_PROHIBIT_CHAINING",id:"meerkat_prohibit_chaining",children:[],level:2},{value:"MEERKAT_SENTINEL_DOMAIN",id:"meerkat_sentinel_domain",children:[],level:2},{value:"MEERKAT_SIGNING_CERT_CHAIN",id:"meerkat_signing_cert_chain",children:[],level:2},{value:"MEERKAT_SIGNING_KEY",id:"meerkat_signing_key",children:[],level:2},{value:"MEERKAT_TCP_NO_DELAY",id:"meerkat_tcp_no_delay",children:[],level:2},{value:"MEERKAT_TCP_TIMEOUT_IN_SECONDS",id:"meerkat_tcp_timeout_in_seconds",children:[],level:2},{value:"MEERKAT_TLS_CA_FILE",id:"meerkat_tls_ca_file",children:[],level:2},{value:"MEERKAT_TLS_CERT_FILE",id:"meerkat_tls_cert_file",children:[],level:2},{value:"MEERKAT_TLS_CIPHERS",id:"meerkat_tls_ciphers",children:[],level:2},{value:"MEERKAT_TLS_CLIENT_CERT_AUTH",id:"meerkat_tls_client_cert_auth",children:[],level:2},{value:"MEERKAT_TLS_CRL_FILE",id:"meerkat_tls_crl_file",children:[],level:2},{value:"MEERKAT_TLS_DH_PARAM_FILE",id:"meerkat_tls_dh_param_file",children:[],level:2},{value:"MEERKAT_TLS_HANDSHAKE_TIMEOUT_IN_SECONDS",id:"meerkat_tls_handshake_timeout_in_seconds",children:[],level:2},{value:"MEERKAT_TLS_KEY_FILE",id:"meerkat_tls_key_file",children:[],level:2},{value:"MEERKAT_TLS_KEY_PASSPHRASE",id:"meerkat_tls_key_passphrase",children:[],level:2},{value:"MEERKAT_TLS_MAX_VERSION",id:"meerkat_tls_max_version",children:[],level:2},{value:"MEERKAT_TLS_MIN_VERSION",id:"meerkat_tls_min_version",children:[],level:2},{value:"MEERKAT_TLS_PFX_FILE",id:"meerkat_tls_pfx_file",children:[],level:2},{value:"MEERKAT_TLS_SESSION_TIMEOUT_IN_SECONDS",id:"meerkat_tls_session_timeout_in_seconds",children:[],level:2},{value:"MEERKAT_TLS_SIG_ALGS",id:"meerkat_tls_sig_algs",children:[],level:2},{value:"MEERKAT_TRANSCODE_DISTINGUISHED_VALUES_TO_DER",id:"meerkat_transcode_distinguished_values_to_der",children:[],level:2},{value:"MEERKAT_TRANSCODE_VALUES_TO_DER",id:"meerkat_transcode_values_to_der",children:[],level:2},{value:"MEERKAT_USE_DATABASE_WHEN_THERE_ARE_X_SUBORDINATES",id:"meerkat_use_database_when_there_are_x_subordinates",children:[],level:2},{value:"MEERKAT_WEB_ADMIN_PORT",id:"meerkat_web_admin_port",children:[],level:2},{value:"NODE_ENV",id:"node_env",children:[],level:2}],h={toc:d};function m(e){var t=e.components,n=(0,a.Z)(e,r);return(0,l.kt)("wrapper",(0,i.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"environment-variables"},"Environment Variables"),(0,l.kt)("p",null,"Meerkat DSA is configured via environment variables. In the future, it will\nalso be configurable via command-line arguments. Environment variables that\nare specific to Meerkat DSA are namespaced such that they all start with\n",(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_"),"."),(0,l.kt)("p",null,"Meerkat DSA environment variables that represent boolean types will use\n",(0,l.kt)("inlineCode",{parentName:"p"},"1")," to represent TRUE and ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," to represent FALSE. This is because digits\nare more locale-independent. Most cultures would recognize ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," to mean\nTRUE and ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," to mean FALSE. In general, where boolean environment variables\nare used, anything other than ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," simply gets interpreted as FALSE."),(0,l.kt)("p",null,"Meerkat DSA does not validate environment variable values. If you supply\ninvalid values, you will get unspecified behavior."),(0,l.kt)("h2",{id:"database_url"},"DATABASE_URL"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Required"),". A database URL indicating the database to which Meerkat DSA must\nconnect for persistent storage. Meerkat DSA assumes full read-write access to\nthis database (not the DBMS, just the database). This URL may have a username\nand password. Read the\n",(0,l.kt)("a",{parentName:"p",href:"https://www.prisma.io/docs/reference/database-reference/connection-urls"},"Prisma Documentation"),"\nfor more information about this URL."),(0,l.kt)("h2",{id:"lang"},"LANG"),(0,l.kt)("p",null,"This is a standard environment variable on Unix-like systems. In Meerkat DSA,\nthis environment variable determines the locale used for log and error\nmessages."),(0,l.kt)("h2",{id:"meerkat_administrator_email"},"MEERKAT_ADMINISTRATOR_EMAIL"),(0,l.kt)("p",null,"The email that you specify here will be submitted along with telemetry events.\nThis will help Meerkat network administrators reach out to you to offer support,\ninform you of security vulnerabilities or active attacks, or contact you for\nother Meerkat DSA-related things."),(0,l.kt)("h2",{id:"meerkat_bind_min_sleep_ms"},"MEERKAT_BIND_MIN_SLEEP_MS"),(0,l.kt)("p",null,"This is the amount of time in milliseconds (at minimum) that Meerkat DSA will\ntake to respond to a failed authentication attempt. This exists to stifle\n",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Timing_attack"},"timing attacks"),"."),(0,l.kt)("h2",{id:"meerkat_bind_sleep_range_ms"},"MEERKAT_BIND_SLEEP_RANGE_MS"),(0,l.kt)("p",null,"This is the maximum amount of time in milliseconds that Meerkat DSA will\nadd to the time taken to respond to a failed authentication attempt on top of\nthe minimum as configured by the ",(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_BIND_MIN_SLEEP_MS")," environment\nvariable. The additional time taken in milliseconds is selected uniformly and\nat random from 0 to this number."),(0,l.kt)("p",null,"This exists to stifle\n",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Timing_attack"},"timing attacks"),"."),(0,l.kt)("h2",{id:"meerkat_bulk_insert_mode"},"MEERKAT_BULK_INSERT_MODE"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", this enables bulk-insert mode, where all access control checks\nare disabled, some schema checks are disabled, and other validation is\ndisabled. This exists to speed up a bulk insertion of data when a directory is\nstill being set up."),(0,l.kt)("h2",{id:"meerkat_client_cert_engine"},"MEERKAT_CLIENT_CERT_ENGINE"),(0,l.kt)("p",null,"This is an open-ended string that specifies the client certificate engine that\nOpenSSL can use to obtain a client certificate."),(0,l.kt)("h2",{id:"meerkat_chaining_tls_optional"},"MEERKAT_CHAINING_TLS_OPTIONAL"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", this permits the non-usage of TLS in chaining to other DSAs. In\nother words, if this is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", this DSA will still chain operations to\nother DSAs after attempting to use StartTLS, regardless of whether StartTLS\nsucceeds."),(0,l.kt)("p",null,"If this is enabled, transported operations, data, errors, responses,\ncredentials, etc. are susceptible to inspection by intermediaries, which is a\nsecurity problem. These operations may not be susceptible to tampering (other\nthan by omission) if cryptographic signing is used."),(0,l.kt)("h2",{id:"meerkat_dangerously_enable_dop"},"MEERKAT_DANGEROUSLY_ENABLE_DOP"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", this enables Directory Operational Binding Management Protocol\n(DOP). This is dangerous and should not be enabled unless you need it."),(0,l.kt)("h2",{id:"meerkat_dangerously_enable_dsp"},"MEERKAT_DANGEROUSLY_ENABLE_DSP"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", this enables Directory System Protocol (DSP).\nThis is dangerous and should not be enabled unless you need it."),(0,l.kt)("h2",{id:"meerkat_ecdh_curves"},"MEERKAT_ECDH_CURVES"),(0,l.kt)("p",null,"A colon-separated list of ECDH curves to use in ECDH key agreement. Each curve\ncan be an NID or name."),(0,l.kt)("h2",{id:"meerkat_enable_dap"},"MEERKAT_ENABLE_DAP"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),", this disables Directory Access Protocol (DAP)."),(0,l.kt)("h2",{id:"meerkat_entries_per_subordinates_page"},"MEERKAT_ENTRIES_PER_SUBORDINATES_PAGE"),(0,l.kt)("p",null,"The number of entries that Meerkat DSA will load into memory at a time when\nsearching for a subordinate."),(0,l.kt)("p",null,"Meerkat DSA searches in order of ",(0,l.kt)("em",{parentName:"p"},"descending")," IDs of entries, with the theory\nbeing that larger IDs are entries that have been recently added, and recently\nadded entries are more likely to be requested than older entries. That said,\nthis can generally be set to a fairly low number for optimal results."),(0,l.kt)("h2",{id:"meerkat_forbid_anonymous_bind"},"MEERKAT_FORBID_ANONYMOUS_BIND"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", anonymous binds are declined entirely."),(0,l.kt)("h2",{id:"meerkat_honor_cipher_order"},"MEERKAT_HONOR_CIPHER_ORDER"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will attempt to use its own preferred TLS cipher\nsuites instead of the client's."),(0,l.kt)("h2",{id:"meerkat_idm_buffer_size"},"MEERKAT_IDM_BUFFER_SIZE"),(0,l.kt)("p",null,"The number of bytes in size of the IDM buffer. This innately limits the size\nof an IDM frame. This should be large enough to accomodate all well-intentioned\nrequests and responses, but small enough to prohibit nefariously large requests\nthat are intended to exhaust Meerkat DSA's memory."),(0,l.kt)("h2",{id:"meerkat_idm_port"},"MEERKAT_IDM_PORT"),(0,l.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for IDM\ntraffic."),(0,l.kt)("h2",{id:"meerkat_idms_port"},"MEERKAT_IDMS_PORT"),(0,l.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for IDMS\n(IDM over TLS) traffic."),(0,l.kt)("h2",{id:"meerkat_init_js"},"MEERKAT_INIT_JS"),(0,l.kt)("p",null,"If set, this is the filepath to an init script. At startup, Meerkat DSA will\nload this script and execute the default export or an export named ",(0,l.kt)("inlineCode",{parentName:"p"},"init"),", if\neither one exists."),(0,l.kt)("h2",{id:"meerkat_ldap_buffer_size"},"MEERKAT_LDAP_BUFFER_SIZE"),(0,l.kt)("p",null,"The number of bytes in size of the LDAP buffer. This innately limits the size of\nan LDAP message. This should be large enough to accomodate all well-intentioned\nrequests and responses, but small enough to prohibit nefariously large requests\nthat are intended to exhaust Meerkat DSA's memory."),(0,l.kt)("h2",{id:"meerkat_ldap_port"},"MEERKAT_LDAP_PORT"),(0,l.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for LDAP\ntraffic."),(0,l.kt)("h2",{id:"meerkat_ldaps_port"},"MEERKAT_LDAPS_PORT"),(0,l.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for LDAPS\n(LDAP over TLS) traffic."),(0,l.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_ssl3"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_SSL3"),(0,l.kt)("p",null,"The number of ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using SSLv3 to secure their traffic.'),(0,l.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_starttls"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_STARTTLS"),(0,l.kt)("p",null,"The number of ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using StartTLS to secure their traffic.'),(0,l.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS"),(0,l.kt)("p",null,"The number of ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using any version of Transport Layer Security (TLS) to secure their\ntraffic.'),(0,l.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_0"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_0"),(0,l.kt)("p",null,"The number of ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.0 to secure their traffic. These points are added\non top of the points granted via the\n',(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,l.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_1"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_1"),(0,l.kt)("p",null,"The number of ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.1 to secure their traffic. These points are added\non top of the points granted via the\n',(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,l.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_2"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_2"),(0,l.kt)("p",null,"The number of ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.2 to secure their traffic. These points are added\non top of the points granted via the\n',(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,l.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_3"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_3"),(0,l.kt)("p",null,"The number of ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.3 to secure their traffic. These points are added\non top of the points granted via the\n',(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,l.kt)("h2",{id:"meerkat_log_file"},"MEERKAT_LOG_FILE"),(0,l.kt)("p",null,"The filepath of the Meerkat DSA's log file. If set, Meerkat DSA will log to\nthis file."),(0,l.kt)("h2",{id:"meerkat_log_file_max_files"},"MEERKAT_LOG_FILE_MAX_FILES"),(0,l.kt)("p",null,"The maximum number of log files Meerkat DSA will produce before it deletes\nthe oldest one to make room for the newest one."),(0,l.kt)("p",null,"This has no effect if the ",(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,l.kt)("h2",{id:"meerkat_log_file_max_size"},"MEERKAT_LOG_FILE_MAX_SIZE"),(0,l.kt)("p",null,"The maximum size (in bytes) of a log file before Meerkat DSA will start a new\nlog file."),(0,l.kt)("p",null,"This has no effect if the ",(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,l.kt)("h2",{id:"meerkat_log_http"},"MEERKAT_LOG_HTTP"),(0,l.kt)("p",null,"If set to a URL, Meerkat DSA will POST log messages to this URL. This URL may\ncontain a username and password, which will make Meerkat DSA use HTTP basic\nauthentication."),(0,l.kt)("h2",{id:"meerkat_log_json"},"MEERKAT_LOG_JSON"),(0,l.kt)("p",null,"Setting this to ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," will cause log messages to be logged in JSON format instead\nof the default plain / human-friendly format. This can be useful if your logs\nare exported to an SIEM like LogRhythm, or an APM like DataDog or\nElasticSearch."),(0,l.kt)("h2",{id:"meerkat_log_level"},"MEERKAT_LOG_LEVEL"),(0,l.kt)("p",null,"This controls the logging level. Can be one of ",(0,l.kt)("inlineCode",{parentName:"p"},"debug"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"info"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"warn"),", or\n",(0,l.kt)("inlineCode",{parentName:"p"},"error"),". Log messages at or above the specified level will get logged; all\nothers will be silently discarded."),(0,l.kt)("h2",{id:"meerkat_log_tailable"},"MEERKAT_LOG_TAILABLE"),(0,l.kt)("p",null,"Setting this to ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," will...\njust read this: ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/winstonjs/winston/blob/HEAD/docs/transports.md#file-transport"},"https://github.com/winstonjs/winston/blob/HEAD/docs/transports.md#file-transport"),"."),(0,l.kt)("p",null,"This has no effect if the ",(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,l.kt)("h2",{id:"meerkat_log_zip"},"MEERKAT_LOG_ZIP"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will compress non-current log files."),(0,l.kt)("p",null,"This has no effect if the ",(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,l.kt)("h2",{id:"meerkat_max_concurrent_operations_per_connection"},"MEERKAT_MAX_CONCURRENT_OPERATIONS_PER_CONNECTION"),(0,l.kt)("p",null,"The number of maximum concurrent operations per connection. If a connection\nattempts more operations than this permits, they will be automatically\nrejected."),(0,l.kt)("h2",{id:"meerkat_max_connections"},"MEERKAT_MAX_CONNECTIONS"),(0,l.kt)("p",null,"The absolute maximum number of connections globally. Connections opened after\nthis maximum has been reached will be automatically closed."),(0,l.kt)("h2",{id:"meerkat_max_connections_per_address"},"MEERKAT_MAX_CONNECTIONS_PER_ADDRESS"),(0,l.kt)("p",null,"The absolute maximum number of connections permitted from a given address.\nConnections by a given address opened after this maximum has been reached will\nbe automatically closed. This is important for the prevention of\n",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Slowloris_(computer_security)"},"Slow Loris attacks"),"."),(0,l.kt)("h2",{id:"meerkat_max_idm_pdu_size"},"MEERKAT_MAX_IDM_PDU_SIZE"),(0,l.kt)("p",null,"The maximum size, in bytes, of an IDM PDU. IDM PDUs larger than this will be\nrejected automatically, possibly before they are even fully read."),(0,l.kt)("h2",{id:"meerkat_max_idm_segments"},"MEERKAT_MAX_IDM_SEGMENTS"),(0,l.kt)("p",null,"The maximum number of IDM segments into which an IDM client may split an IDM\nPDU. This is important for preventing a denial of service. Without this limit,\nnefarious IDM clients may submit an infinitely-large number of IDM segments and\nexhaust memory."),(0,l.kt)("h2",{id:"meerkat_max_pre_bind_requests"},"MEERKAT_MAX_PRE_BIND_REQUESTS"),(0,l.kt)("p",null,"ITU Recommendation X.519 permits clients to submit requests after the bind\nrequest has been submitted, but before the bind response or error has been\nreceived. Meerkat DSA can handle this, but it is important to limit the\nnumber of pre-bind requests so that unauthenticated users cannot flood the\nqueue with an unlimited number of pending requests and exhaust memory."),(0,l.kt)("p",null,"It is not a security vulnerability for this to be a number greater than zero,\nbut it should be a low number. It should probably not be higher than 10."),(0,l.kt)("h2",{id:"meerkat_min_auth_level_for_chaining"},"MEERKAT_MIN_AUTH_LEVEL_FOR_CHAINING"),(0,l.kt)("p",null,"The integer representation of the minimum authentication level required for\nMeerkat DSA to chain requests to other DSAs. This is a security feature to\nprevent unauthenticated (and therefore, unaccountable) users from spamming\nthe distributed directory with cumbersome (if not malicious) requests."),(0,l.kt)("p",null,'This is important, because chaining can have the effect of making a request\n"fan-out" to multiple DSAs. A nefarious request may multiply exponentially\nwithout this check in place.'),(0,l.kt)("p",null,"This defaults to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", which corresponds to simple authentication, meaning that,\nto utilize chaining, a user must have authenticated using simple authentication\nor something stronger."),(0,l.kt)("h2",{id:"meerkat_min_auth_level_for_ob"},"MEERKAT_MIN_AUTH_LEVEL_FOR_OB"),(0,l.kt)("p",null,"The integer representation of the minimum authentication level required for\nMeerkat DSA to accept DOP requests."),(0,l.kt)("p",null,"This defaults to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", which corresponds to simple authentication, meaning that,\nto use DOP, a DSA must have authenticated using simple authentication\nor something stronger."),(0,l.kt)("h2",{id:"meerkat_min_auth_local_qualifier_for_chaining"},"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_CHAINING"),(0,l.kt)("p",null,"The minimum ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" required (on top of the minimum\nauthentication level) for Meerkat DSA to chain requests to other DSAs.\nIf the minimum authentication level--as configured by the\n',(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_MIN_AUTH_LEVEL_FOR_CHAINING")," environment variable--is exceeded, this\ndoes not matter."),(0,l.kt)("p",null,'This is important, because chaining can have the effect of making a request\n"fan-out" to multiple DSAs. A nefarious request may multiply exponentially\nwithout this check in place.'),(0,l.kt)("h2",{id:"meerkat_min_auth_local_qualifier_for_ob"},"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_OB"),(0,l.kt)("p",null,"The minimum ",(0,l.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" required (on top of the minimum\nauthentication level) for Meerkat DSA to accept DOP requests.\nIf the minimum authentication level--as configured by the\n',(0,l.kt)("inlineCode",{parentName:"p"},"MEERKAT_MIN_AUTH_LEVEL_FOR_OB")," environment variable--is exceeded, this\ndoes not matter."),(0,l.kt)("h2",{id:"meerkat_min_transfer_speed_bytes_per_minute"},"MEERKAT_MIN_TRANSFER_SPEED_BYTES_PER_MINUTE"),(0,l.kt)("p",null,"This specifies the minimum number of bytes a TCP connection is expected to\ntransfer within one minute. If the average number of bytes per minute falls\nbelow this number, the TCP socket is closed. This is important for the\nprevention of\n",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Slowloris_(computer_security)"},"Slow Loris attacks"),"."),(0,l.kt)("h2",{id:"meerkat_my_access_point_nsaps"},"MEERKAT_MY_ACCESS_POINT_NSAPS"),(0,l.kt)("p",null,"Whitespace-separated NSAP URLs that locate this DSA. This is important for\nenabling other DSAs to chain requests to this DSA. These NSAP URLs are used to\npopulate the ",(0,l.kt)("inlineCode",{parentName:"p"},"myAccessPoint")," attribute in the Root DSE."),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Do NOT include usernames and passwords in any URL\n(e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"https://username:password@example.com"),") you supply with this environment\nvariable. These URLs will be disclosed freely to all users regardless of\nauthentication or access control, so nothing sensitive should be included in\nthem at all."))),(0,l.kt)("h2",{id:"meerkat_no_color"},"MEERKAT_NO_COLOR"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not use colors in log outputs."),(0,l.kt)("h2",{id:"meerkat_no_console"},"MEERKAT_NO_CONSOLE"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not log to the console."),(0,l.kt)("h2",{id:"meerkat_no_timestamp"},"MEERKAT_NO_TIMESTAMP"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not include the timestamp in log messages."),(0,l.kt)("h2",{id:"meerkat_ob_auto_accept"},"MEERKAT_OB_AUTO_ACCEPT"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA shall accept ALL requested operational bindings.\nYour DSA is INSECURE if this is enabled. This should ONLY be enabled\nfor testing purposes."),(0,l.kt)("h2",{id:"meerkat_open_top_level"},"MEERKAT_OPEN_TOP_LEVEL"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not apply any access controls to adding new\nentries to the top level. Note that this does not negate access controls for\nalready-existing first-level DSEs."),(0,l.kt)("h2",{id:"meerkat_private_key_engine"},"MEERKAT_PRIVATE_KEY_ENGINE"),(0,l.kt)("p",null,"This is an open-ended string that specifies the private key engine that\nOpenSSL can use to obtain a private key."),(0,l.kt)("h2",{id:"meerkat_prohibit_chaining"},"MEERKAT_PROHIBIT_CHAINING"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not chain any requests."),(0,l.kt)("h2",{id:"meerkat_sentinel_domain"},"MEERKAT_SENTINEL_DOMAIN"),(0,l.kt)("p",null,"This is a fully-qualified DNS name. If it contains a TXT record whose text is\n",(0,l.kt)("inlineCode",{parentName:"p"},"meerkat:kill"),", Meerkat DSA will exit as soon as it detects this. If this\nrecord's text is ",(0,l.kt)("inlineCode",{parentName:"p"},"meerkat:hibernate"),", Meerkat DSA will enter hibernation as\nsoon as it detects this."),(0,l.kt)("p",null,'This exists so that Meerkat DSA may be remotely shut down in the event that\na severe security vulnerability is discovered. It is a "remote killswitch."'),(0,l.kt)("h2",{id:"meerkat_signing_cert_chain"},"MEERKAT_SIGNING_CERT_CHAIN"),(0,l.kt)("p",null,"The filepath to a certificate chain to use for signing requests and responses\nfrom the DSA. This does not affect TLS and may be a totally different chain\nthan that used for TLS."),(0,l.kt)("h2",{id:"meerkat_signing_key"},"MEERKAT_SIGNING_KEY"),(0,l.kt)("p",null,"The filepath to a private key to use for signing requests and responses\nfrom the DSA. This does not affect TLS and may be a totally different key\nthan that used for TLS."),(0,l.kt)("h2",{id:"meerkat_tcp_no_delay"},"MEERKAT_TCP_NO_DELAY"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will disable Nagle's algorithm for TCP connections.\nThis exists as a slight performance enhancement. There is little reason to use\nthis."),(0,l.kt)("h2",{id:"meerkat_tcp_timeout_in_seconds"},"MEERKAT_TCP_TIMEOUT_IN_SECONDS"),(0,l.kt)("p",null,"The amount of time (in seconds) after receiving no bytes from the TCP socket\nafter which the TCP connection will be reset."),(0,l.kt)("h2",{id:"meerkat_tls_ca_file"},"MEERKAT_TLS_CA_FILE"),(0,l.kt)("p",null,"The filepath of the certificate authority certs file to use for mTLS."),(0,l.kt)("h2",{id:"meerkat_tls_cert_file"},"MEERKAT_TLS_CERT_FILE"),(0,l.kt)("p",null,"The filepath of the PEM-encoded X.509 certificate chain to use for TLS."),(0,l.kt)("h2",{id:"meerkat_tls_ciphers"},"MEERKAT_TLS_CIPHERS"),(0,l.kt)("p",null,"The OpenSSL-formatted cipher list to use for TLS."),(0,l.kt)("h2",{id:"meerkat_tls_client_cert_auth"},"MEERKAT_TLS_CLIENT_CERT_AUTH"),(0,l.kt)("p",null,"If set to ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will demand client certificate authentication to\nestablish a TLS socket with a client."),(0,l.kt)("p",null,"Note that there is little point to enabling this if non-TLS versions of the\ndirectory protocols are enabled."),(0,l.kt)("h2",{id:"meerkat_tls_crl_file"},"MEERKAT_TLS_CRL_FILE"),(0,l.kt)("p",null,"The filepath to the PEM-encoded certificate revocation list (CRL) file to use\nfor evaluating the status of TLS client certificates."),(0,l.kt)("h2",{id:"meerkat_tls_dh_param_file"},"MEERKAT_TLS_DH_PARAM_FILE"),(0,l.kt)("p",null,"The filepath to the Diffie-Hellman parameters to use to enable Perfect Forward\nSecrecy (PFS)."),(0,l.kt)("h2",{id:"meerkat_tls_handshake_timeout_in_seconds"},"MEERKAT_TLS_HANDSHAKE_TIMEOUT_IN_SECONDS"),(0,l.kt)("p",null,"The number of seconds before completing the handshake after which a TLS socket\nwill be closed."),(0,l.kt)("h2",{id:"meerkat_tls_key_file"},"MEERKAT_TLS_KEY_FILE"),(0,l.kt)("p",null,"The filepath to the private key to use for TLS."),(0,l.kt)("h2",{id:"meerkat_tls_key_passphrase"},"MEERKAT_TLS_KEY_PASSPHRASE"),(0,l.kt)("p",null,"The password to use to decrypt the private key to use for TLS."),(0,l.kt)("h2",{id:"meerkat_tls_max_version"},"MEERKAT_TLS_MAX_VERSION"),(0,l.kt)("p",null,"The maximum TLS version supported."),(0,l.kt)("h2",{id:"meerkat_tls_min_version"},"MEERKAT_TLS_MIN_VERSION"),(0,l.kt)("p",null,"The minimum TLS version supported."),(0,l.kt)("h2",{id:"meerkat_tls_pfx_file"},"MEERKAT_TLS_PFX_FILE"),(0,l.kt)("p",null,"The filepath to a PFX / PKCS #12 file to use for TLS."),(0,l.kt)("h2",{id:"meerkat_tls_session_timeout_in_seconds"},"MEERKAT_TLS_SESSION_TIMEOUT_IN_SECONDS"),(0,l.kt)("p",null,"The time after which a TLS session will expire and a TLS client will have to\nnegotiate a new pre-master secret."),(0,l.kt)("h2",{id:"meerkat_tls_sig_algs"},"MEERKAT_TLS_SIG_ALGS"),(0,l.kt)("p",null,"Colon-separated list of supported signature algorithms. The list can contain\ndigest algorithms (SHA256, MD5 etc.), public key algorithms (RSA-PSS, ECDSA\netc.), combination of both (e.g 'RSA+SHA384') or TLS v1.3 scheme names (e.g.\nrsa_pss_pss_sha512)."),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"I copied the above from the NodeJS documentation.")),(0,l.kt)("h2",{id:"meerkat_transcode_distinguished_values_to_der"},"MEERKAT_TRANSCODE_DISTINGUISHED_VALUES_TO_DER"),(0,l.kt)("p",null,"Currently unused."),(0,l.kt)("h2",{id:"meerkat_transcode_values_to_der"},"MEERKAT_TRANSCODE_VALUES_TO_DER"),(0,l.kt)("p",null,"Currently unused."),(0,l.kt)("h2",{id:"meerkat_use_database_when_there_are_x_subordinates"},"MEERKAT_USE_DATABASE_WHEN_THERE_ARE_X_SUBORDINATES"),(0,l.kt)("p",null,"Even if subordinates are cached in memory, Meerkat DSA will directly query the\ndatabase to find a specific subordinate instead of iterating through the\nin-memory entries when there are more than this many subordinates in memory."),(0,l.kt)("h2",{id:"meerkat_web_admin_port"},"MEERKAT_WEB_ADMIN_PORT"),(0,l.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for the\nweb admin console."),(0,l.kt)("h2",{id:"node_env"},"NODE_ENV"),(0,l.kt)("p",null,"This is a standard NodeJS-related environment variable. This should be set to\n",(0,l.kt)("inlineCode",{parentName:"p"},"production")," unless you are actually developing Meerkat DSA."))}m.isMDXComponent=!0}}]);