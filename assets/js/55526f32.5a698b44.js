"use strict";(self.webpackChunkdirectory=self.webpackChunkdirectory||[]).push([[1166],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),h=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=h(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=h(n),p=i,m=c["".concat(l,".").concat(p)]||c[p]||u[p]||r;return n?a.createElement(m,o(o({ref:t},d),{},{components:n})):a.createElement(m,o({ref:t},d))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var h=2;h<r;h++)o[h]=n[h];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7121:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>h,toc:()=>c});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],s={},l="User's Deep Dive",h={unversionedId:"user-guide-to-x500",id:"user-guide-to-x500",title:"User's Deep Dive",description:"The X.500 specifications are so rich in features that it can seem difficult to",source:"@site/docs/user-guide-to-x500.md",sourceDirName:".",slug:"/user-guide-to-x500",permalink:"/directory/docs/user-guide-to-x500",draft:!1,editUrl:"https://github.com/Wildboar-Software/directory/edit/main/website/docs/user-guide-to-x500.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Uses",permalink:"/directory/docs/uses"},next:{title:"Administrator's Deep Dive",permalink:"/directory/docs/admin-guide-to-x500"}},d={},c=[{value:"Object Identifiers",id:"object-identifiers",level:2},{value:"Information Model",id:"information-model",level:2},{value:"Entries and Attributes",id:"entries-and-attributes",level:3},{value:"Matching Rules",id:"matching-rules",level:3},{value:"Context Types",id:"context-types",level:3},{value:"The Directory Information Tree",id:"the-directory-information-tree",level:3},{value:"Names",id:"names",level:3},{value:"Aliases",id:"aliases",level:3},{value:"Schema",id:"schema",level:3},{value:"Compound Entries",id:"compound-entries",level:3},{value:"Hierarchical Groups",id:"hierarchical-groups",level:3},{value:"Collective Attributes",id:"collective-attributes",level:3},{value:"Operations",id:"operations",level:2},{value:"ROSE Protocols and Transport",id:"rose-protocols-and-transport",level:2},{value:"Binding and Unbinding",id:"binding-and-unbinding",level:2},{value:"Authentication",id:"authentication",level:2},{value:"The DAP Operations",id:"the-dap-operations",level:2},{value:"Chaining",id:"chaining",level:2},{value:"Shadowing",id:"shadowing",level:2},{value:"Relaxation or Tightening",id:"relaxation-or-tightening",level:2},{value:"Signing",id:"signing",level:2}],u={toc:c},p="wrapper";function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"users-deep-dive"},"User's Deep Dive"),(0,r.kt)("p",null,"The X.500 specifications are so rich in features that it can seem difficult to\nbreak into it. This is a brief explanation of X.500 concepts for a user to\nmeaningfully use an X.500 directory."),(0,r.kt)("h2",{id:"object-identifiers"},"Object Identifiers"),(0,r.kt)("p",null,"X.500 directories use object identifiers to identify almost everything, so\nunderstanding what they are is important. If you finish reading this section\nunderstanding nothing else, understand that ",(0,r.kt)("em",{parentName:"p"},"object identifiers are\nglobally-unique, numeric identifiers.")),(0,r.kt)("p",null,"Object identifiers are composed of an ordered sequence of non-negative integers,\nsuch as ",(0,r.kt)("inlineCode",{parentName:"p"},"2.5.4.3"),". Each number in this list, called an ",(0,r.kt)("em",{parentName:"p"},"arc"),", identifies\n",(0,r.kt)("em",{parentName:"p"},"something"),". Arcs can be associated with a textual identifier, called a\n",(0,r.kt)("em",{parentName:"p"},"descriptor"),", but these are optional and only serve to enhance readability."),(0,r.kt)("p",null,"The first number is the root arc, which can have the values ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"2"),", exclusively. Each root arc is associated with and self-assigned to\none of three international standards organizations. These organizations define\nobject identifier arcs beneath the roots, which may be granted / delegated to\nother organizations; these secondhand organizations may then grant arcs beneath\ntheirs to other organizations, recursively."),(0,r.kt)("p",null,'There is no universal process for "registering" an object identifier. If you or\nyour organization define an object identifier, you just simply ',(0,r.kt)("em",{parentName:"p"},"publish\nwhat it means somewhere"),". You can obtain an object identifier arc of your own\nby registering with certain organizations. The Internet Assigned Numbers\nAuthority (IANA), gives away free object identifier arcs under ",(0,r.kt)("inlineCode",{parentName:"p"},"1.3.6.1.4.1"),',\nwhich it calls "Private Enterprise Numbers." The Private Enterprise Number for\nWildboar Software is ',(0,r.kt)("inlineCode",{parentName:"p"},"56490"),", meaning that the object identifier is\n",(0,r.kt)("inlineCode",{parentName:"p"},"1.3.6.1.4.1.56490"),". This means that Wildboar Software is free to define all\nobject identifiers that start with ",(0,r.kt)("inlineCode",{parentName:"p"},"1.3.6.1.4.1.56490"),"."),(0,r.kt)("p",null,"With this out of the way, we can go over how an X.500 directory presents its\ninformation."),(0,r.kt)("h2",{id:"information-model"},"Information Model"),(0,r.kt)("h3",{id:"entries-and-attributes"},"Entries and Attributes"),(0,r.kt)("p",null,"Directories represent information as ",(0,r.kt)("em",{parentName:"p"},"entries"),". Entries represent real-world\nobjects, such as a person, organization, device, etc. Entries are represented\nlike documents in a document-oriented database, or a row in a relational\ndatabase or spreadsheet."),(0,r.kt)("p",null,"Entries are composed of ",(0,r.kt)("em",{parentName:"p"},"attributes"),', which represent aspects of the real-world\nobject. If the entry represents a person, it might have a "first name"\nattribute; if the entry represents a device, it might have a "serial number"\nattribute; if the entry represents an organization, it might have a\n"phone number" attribute. Attributes are like the columns in a relational\ndatabase or spreadsheet, or like the fields of a document in a document-oriented\ndatabase. Attributes are identified by an ',(0,r.kt)("em",{parentName:"p"},"attribute type"),', which is a\nglobally-unique, numeric identifier. As a user of the X.500 directory, you do\nnot need to know or memorize these identifiers: it is expected that whatever\ntool you use to browse the X.500 directory will translate these object\nidentifiers into human-friendly names, such as "First Name" or "Serial Number."\nObject identifiers that are unrecognized by your tooling can be searched for on\nwebsites like ',(0,r.kt)("a",{parentName:"p",href:"http://www.oid-info.com/"},"this")," if your tooling does not already\ndo this for you."),(0,r.kt)("p",null,"Attributes contain one or more ",(0,r.kt)("em",{parentName:"p"},"values"),", reflecting that some attributes of\nreal world attributes may have multiple values. A person may have multiple email\naddresses, or an organization might have multiple mailing addresses, for\ninstance. Some attributes may be defined in such a way as to only permit a\nsingle value, however; this is generally only used when it is known with\ncertainty that only a single value could ever apply, such as in the\n",(0,r.kt)("inlineCode",{parentName:"p"},"createTimestamp")," attribute, which indicates the time at which a directory\nentry was created."),(0,r.kt)("p",null,"As part of an attribute's definition, an attribute may be defined to have a\nspecific syntax; for instance, the ",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber")," attribute type is defined\nto have a telephone number as its syntax. A user cannot insert a value of the\n",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber"),' attribute into a well-behaved directory server that is not a\nvalid telephone number. In addition, there may be rules specified for how values\nof such an attribute type are to be compared, sorted, or searched (called\n"matching rules"), as well as whether users are able to modify values of a given\nattribute type or whether they should be managed by the directory server itself.'),(0,r.kt)("p",null,"The attribute type definition can also indicate whether the attribute's purpose\nis to be used by the end user of the directory, making it a ",(0,r.kt)("em",{parentName:"p"},"user attribute"),", or\nwhether the attribute is for the directory's internal operation, which is called\nan ",(0,r.kt)("em",{parentName:"p"},"operational attribute"),". Yes, X.500 directories use entries and attributes to\nmanage their own configuration!"),(0,r.kt)("p",null,"Attribute types may be defined to be ",(0,r.kt)("em",{parentName:"p"},"dummy"),' attributes, which are kind of like\n"aliases" to one or more other attributes, or labeled as "obsolete," preventing\nthem from being added to the directory any further.'),(0,r.kt)("p",null,"An attribute type may be defined as a ",(0,r.kt)("em",{parentName:"p"},"subtype")," of another. For instance, the\n",(0,r.kt)("inlineCode",{parentName:"p"},"mobileTelephoneNumber")," attribute type is defined as a subtype of\n",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber"),". This means that, if you query the X.500 directory for the\n",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber")," of a person, the directory will return values of the\n",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber")," attribute as well as the ",(0,r.kt)("inlineCode",{parentName:"p"},"mobileTelephoneNumber")," attribute,\nand any other subtypes of ",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber"),", such as ",(0,r.kt)("inlineCode",{parentName:"p"},"workTelephoneNumber"),",\nunless you explicitly request for the directory to not do this. This also\napplies to matching: searches in the directory for a entries with a given\n",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber")," value will also return results for entries with a matching\n",(0,r.kt)("inlineCode",{parentName:"p"},"mobileTelephoneNumber")," value, but not the reverse."),(0,r.kt)("p",null,"The attributes used to compose an entry are governed by the entry's ",(0,r.kt)("em",{parentName:"p"},"object\nclasses"),". Object classes specify what attributes an entry ",(0,r.kt)("em",{parentName:"p"},"must")," have or ",(0,r.kt)("em",{parentName:"p"},"may"),"\nhave or both. Object classes are identified by an object identifier."),(0,r.kt)("p",null,"There are ",(0,r.kt)("em",{parentName:"p"},"structural object classes"),", which immutably define what an\nentry represents, such as a ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"organization"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"device"),". There are\nalso auxiliary object classes, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"married"),", which can be used to permit\nfurther attributes in an entry, above and beyond the structural object classes,\nsuch as ",(0,r.kt)("inlineCode",{parentName:"p"},"spouseName"),", and which usually indicate some circumstantial data about\nan entry, rather than something inherent to its definition; a ",(0,r.kt)("inlineCode",{parentName:"p"},"person")," is always\na ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),", and can never become a ",(0,r.kt)("inlineCode",{parentName:"p"},"device"),", but a person can become ",(0,r.kt)("inlineCode",{parentName:"p"},"married"),"\n(and divorced, too!)."),(0,r.kt)("p",null,"Like attribute types, object classes can be defined as subclasses of each other.\nAn ",(0,r.kt)("inlineCode",{parentName:"p"},"organizationalPerson")," is defined as a subclass of ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),". The ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),"\nobject class requires a ",(0,r.kt)("inlineCode",{parentName:"p"},"surname")," attribute, but permits a ",(0,r.kt)("inlineCode",{parentName:"p"},"commonName"),"\nattribute. As such, the ",(0,r.kt)("inlineCode",{parentName:"p"},"organizationalPerson")," subclass does the same, but also\npermits more attribute types, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"telephoneNumber"),"."),(0,r.kt)("p",null,"There is a third type of object class, which is an ",(0,r.kt)("em",{parentName:"p"},"abstract object class"),".\nAbstract object classes cannot be used to govern entries exclusively: they may\nonly be used to define further subclasses, which may then be used. These are\nrare, but you should know about them at least."),(0,r.kt)("p",null,"The most specific structural object class that defines an entry is refered to as\nthe entry's ",(0,r.kt)("em",{parentName:"p"},"structural object class"),". For instance, if an entry has the object\nclass ",(0,r.kt)("inlineCode",{parentName:"p"},"organizationalPerson"),", it necessarily also has the object class ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),",\nbut its ",(0,r.kt)("em",{parentName:"p"},"structural object class")," would be ",(0,r.kt)("inlineCode",{parentName:"p"},"organizationalPerson"),", because\n",(0,r.kt)("inlineCode",{parentName:"p"},"organizationalPerson")," is the most specific object class."),(0,r.kt)("p",null,"The object classes of an entry are stored in the ",(0,r.kt)("inlineCode",{parentName:"p"},"objectClass")," attribute, which\nhas an object identifier of ",(0,r.kt)("inlineCode",{parentName:"p"},"2.5.4.0"),". This is technically defined as a user\nattribute for historical reasons, but it still functions like an operational\nattribute."),(0,r.kt)("h3",{id:"matching-rules"},"Matching Rules"),(0,r.kt)("p",null,'X.500 directories use "matching rules" to define the logic of how two values are\nto be compared, sorted, and searched, which are called equality matching rules,\nordering matching rules, and substring matching rules, respectively. The\nsimplest example of a matching rule might be the ',(0,r.kt)("inlineCode",{parentName:"p"},"caseIgnoreMatch"),", which\ncompares two attributes that have a string syntax case-insensitively."),(0,r.kt)("p",null,"If you have ever used a database, you might know how data types have an\nalgorithm for comparing two values built-in and assumed for that data type.\nFor example, when you query a SQL database with a clause like\n",(0,r.kt)("inlineCode",{parentName:"p"},"lastName == 'Wilbur'")," that database might perform a case-sensitive comparison\nunless you specify otherwise. This is not so with directories: the rules for\ncomparing, ordering, and searching for substrings within values are explicitly\nassociated as a part of each value's attribute type. Even though, for instance,\na URL and a last name might be stored as strings, URL attribute values may be\nevaluated using case-sensitive matching, whereas last name attribute values may\nbe evaluated using case-insensitive matching. Explicitly defining how values\nare expected to be compared can help DSAs index values appropriately."),(0,r.kt)("p",null,"Attribute types may have ",(0,r.kt)("em",{parentName:"p"},"no")," matching rules associated. This does not mean that\nthey cannot be compared; it just means that the matching rule to be used will\nhave to be explicitly specified in search filters. However, attribute types for\nwhich no default equality matching rule is defined cannot have their values\nindividually added, removed, or modified: the entire attribute must be replaced\nall at once with the new desired values, and no checks take place for\nduplicates."),(0,r.kt)("p",null,"In general, attribute types that are expected to contain longer strings, such\nas descriptions, do not define equality matching rules or ordering rules--only\nsubstring matching rules. It can get computationally expensive to perform many\nstring comparisons over large strings like that to check for duplicates. This\nalso prevents huge strings, like those that might appear in the ",(0,r.kt)("inlineCode",{parentName:"p"},"description"),"\nattribute, from being used for naming entries."),(0,r.kt)("p",null,"Ordering rules are often ",(0,r.kt)("em",{parentName:"p"},"not")," defined when there is an ambiguous way for values\nto be sorted: for instance, should you sort telephone numbers by ASCII character\ncode points, alphabetically, or remove all the non-numeric characters and sort\nthem like integers? There is no obvious, universally-assumed way of sorting\nthem."),(0,r.kt)("p",null,"Substring matching rules are usually undefined for an attribute type when the\nvalues are expected to be small enough that there is little value in substring\nsearches or when a substring of the value would not have any meaning, such as\na substring of an identifier generated from randomness."),(0,r.kt)("p",null,'A matching rule may have "parent matching rules," whose meaning is left up to\ninterpretation. A matching rule may also have an assertion syntax that differs\nfrom the syntax of the value being evaluated: for example, a "letter count"\nmatching rule might take an integer as an assertion value, but evaluate against\na string type by counting the number of letters in the string. A matching rule\nmay define procedures for converting a value of a different syntax into the\nassertion syntax. If no assertion syntax is defined for a matching rule, the\nassertion syntax is the same as the syntax of the attribute on which the\nmatching rule is used.'),(0,r.kt)("h3",{id:"context-types"},"Context Types"),(0,r.kt)("p",null,'Attribute values can be tagged with a sort of "metadata" called ',(0,r.kt)("em",{parentName:"p"},"contexts"),".\nContexts are more general-purpose annotations for attribute values that are used\nlike so:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"To annotate strings with the language. For instance, if an organization has a\n",(0,r.kt)("inlineCode",{parentName:"li"},"description")," attribute value in English and another value in German, the\nEnglish value can be tagged with a ",(0,r.kt)("inlineCode",{parentName:"li"},"languageContext")," with a value that\nidentifies it as English, and likewise for the German description."),(0,r.kt)("li",{parentName:"ul"},"To indicate the time in which a value was/is true: by using a\n",(0,r.kt)("inlineCode",{parentName:"li"},"temporalContext"),", a directory entry can indicate that Mrs. Jane Smith's last\nname was Doe up until July 25th, 2023, when she got married. This would be\ndone by having a ",(0,r.kt)("inlineCode",{parentName:"li"},"surname")," attribute value of ",(0,r.kt)("inlineCode",{parentName:"li"},"Doe")," using a ",(0,r.kt)("inlineCode",{parentName:"li"},"temporalContext"),"\nindicating that this value is not applicable after July 25th, 2023, and\nanother value of ",(0,r.kt)("inlineCode",{parentName:"li"},"Smith"),' with no contexts. Instead of deleting old information\nin the directory, it can be annotated with the "validity time" so that the\ndirectory can be queried across time. This means that a directory can\nfunction like a time-series database.'),(0,r.kt)("li",{parentName:"ul"},"To indicate the applicable locale of a numeric unit, such as a currency."),(0,r.kt)("li",{parentName:"ul"},"To indicate a level of certainty associated with a value whose validity is\nuncertain."),(0,r.kt)("li",{parentName:"ul"},"To annotate a value with a source of its information. For instance, if an\nattribute value was sourced from a person's birth certificate, this could be\nindicated."),(0,r.kt)("li",{parentName:"ul"},"To annotate a value with a digital signature, providing data integrity at\nrest.")),(0,r.kt)("p",null,"The type of context is identified by an object identifier. An attribute value\nmay have zero, one, or more contexts of a given type, and may have multiple\ncontext types as well."),(0,r.kt)("h3",{id:"the-directory-information-tree"},"The Directory Information Tree"),(0,r.kt)("p",null,'The entries in a directory are arranged in a hierarchical structure, referred to\nas the Directory Information Tree (DIT). In computer science, a "tree" is\nconventionally thought of and spoken of as being upside-down. The "root" of the\ntree is at the "top," and there are branches beneath the root, leading down to\n"leaves" that terminate branches of the tree. Leaves are at the "bottom" of the\ntree, when using this terminology.'),(0,r.kt)("p",null,'The root of the tree is a magical entry called the "Root DSE," and it is not\ntechnically an "entry," but rather a special entry that is unique for every\ndirectory server, and used to provide information about the directory server.'),(0,r.kt)("p",null,'The entries immediately beneath the Root DSE are referred to as the "top level"\nor "first level." The first level contains real entries, which usually represent\ncountries, international organizations, or top-level domains. These have entries\nbeneath them, and those entries may have entries beneath them, recursively.'),(0,r.kt)("h3",{id:"names"},"Names"),(0,r.kt)("p",null,'Directory entries are named using a selection of attribute values that are\ncalled "distinguished values," each of which are presented as an attribute type\nobject identifier and a value. This group of one or more distinguished values is\nknown as the Relative Distinguished Name (RDN) of the entry.'),(0,r.kt)("p",null,'There may only be, at most, one value from each attribute type within a relative\ndistinguished name. Only certain attribute types may be used in naming. As\nimplied, the relative distinguished name must come from attribute values that\nare actually present in the entry: entries cannot "distinguish" values that they\ndo not have.'),(0,r.kt)("p",null,"The following attribute types are commonly used for naming:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"countryName"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"c")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"stateOrProvinceName"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"st")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"localityName"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"l")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"organizationName"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"o")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"organizationalUnitName"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"ou")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"commonName"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"cn")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"givenName"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"gn")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"surname"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"sn")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"domainComponent"),", often abbreviated as ",(0,r.kt)("inlineCode",{parentName:"li"},"dc")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"uid")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"title")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dnQualifier"))),(0,r.kt)("p",null,"For the purposes of displaying to humans, attribute types and values are often\nrepresented as type-equals-value pairs (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Jonathan Wilbur"),"). When\ndisplaying whole relative distinguished names, the distinguished values are\njoined with plus signs (",(0,r.kt)("inlineCode",{parentName:"p"},"+"),"), after escaping any plus signs and backslashes\nwithin the attribute values with backslashes (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"gn=Jonathan+sn=Wilbur"),")."),(0,r.kt)("p",null,"Relative distinguished names are only expected to be unique among all entries\nimmediately subordinate to a given other entry."),(0,r.kt)("p",null,'The ordered sequence of relative distinguished names going from the top level\nentry to the identified entry is refered to as the "distinguished name." This\nname uniquely and globally identifies an entry. When displayed textually, it\nis the string-form relative distinguished names, joined by commas, semi-colons,\nor forward slashes (e.g. ',(0,r.kt)("inlineCode",{parentName:"p"},"c=US,st=FL,l=Tampa,gn=Jonathan+sn=Wilbur"),")."),(0,r.kt)("p",null,"The Root DSE is an exception to the rules above. The Root DSE has a zero-length\ndistinguished name, and if needed, its relative distinguished name can be\nrepresented as a zero-length relative distinguished name."),(0,r.kt)("p",null,"The attribute types that must be present or may be present in an entry's\nrelative distinguished name is governed by a ",(0,r.kt)("em",{parentName:"p"},"name form"),". A name form is a\nschema construct that is enforced by the X.500 directory and uniquely identified\nby an object identifier. Name forms target entries by their structural object\nclass, and there can be multiple name forms defined for a given structural\nobject class. Name forms are not expected to apply uniformly throughout the\nDirectory Information Tree; some regions of the tree can enforce different\nnaming conventions from others."),(0,r.kt)("h3",{id:"aliases"},"Aliases"),(0,r.kt)("p",null,'Sometimes the names of directory entries need to be changed. For instance, when\npeople get married, it is common for the wife to change her last name to the\nhusband\'s last name. Hence, an entry representing a person may need to be\nrenamed from time to time. In other cases, there are acronyms or pseudonyms by\nwhich people refer to something other than its proper name. To make it easy for\ndirectory users to find what they are looking for, directories support\n"aliases." Aliases are special entries that are simply named pointers to other\nentries.'),(0,r.kt)("p",null,"For example, let's say a woman with a directory name ",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Sue"),' gets married\nand changes her last name to "Smith." The directory entry can be renamed to\n',(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Smith")," and a new alias entry named ",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Sue")," can be created,\nwhich contains a pointer to the ",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Smith")," entry. The directory can\nseemlessly translate requests to, for example, read the birth date of\n",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Sue")," to a request to read the birth date of ",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Smith"),". The\nreverse is true as well: ",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Smith")," could be the alias and point to\n",(0,r.kt)("inlineCode",{parentName:"p"},"cn=Peggy Sue")," instead."),(0,r.kt)("p",null,'For another use case, people may customarily refer to a company such as\n"Pricewaterhouse Coopers International Limited" simply as "PwC" and hence, a\ndirectory name ',(0,r.kt)("inlineCode",{parentName:"p"},"o=PwC")," could be used as an alias for\n",(0,r.kt)("inlineCode",{parentName:"p"},"o=Pricewaterhouse Coopers International Limited"),"."),(0,r.kt)("p",null,"Aliases can be dereferenced in the course of locating an entry, even if they are\nnot the entry sought by a user. For instance, if a directory user tries to read\nan entry ",(0,r.kt)("inlineCode",{parentName:"p"},"c=US,st=Florida,cn=Jonathan Wilbur"),", the directory can resolve the\nalias ",(0,r.kt)("inlineCode",{parentName:"p"},"st=Florida")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"st=FL")," to obtain ",(0,r.kt)("inlineCode",{parentName:"p"},"c=US,st=FL,cn=Jonathan Wilbur"),"."),(0,r.kt)("h3",{id:"schema"},"Schema"),(0,r.kt)("p",null,"In addition to the X.500 schema constructs mentioned above, further constructs\ncan constrain where entries can appear and what object classes, attributes, and\ncontexts they can have."),(0,r.kt)("p",null,"DIT Structure Rules are used to constrain what name forms (and hence, which\nentries) may be present in a given location in the Directory Information Tree.\nDIT Structure Rules are identified by a numeric identifier that is only unique\nwithin a region of the DIT. DIT Structure Rules are recursively defined as\nsubordinates of other DIT Structure Rules. An example DIT Structure Rule might\nconstrain entries of structural object class ",(0,r.kt)("inlineCode",{parentName:"p"},"locality")," to appear beneath\nentries of structural object class ",(0,r.kt)("inlineCode",{parentName:"p"},"country"),", since the reverse does not make\nsense. The DIT Structure Rule that permitted an entry to be inserted where it\nresides in the DIT is known as that entry's ",(0,r.kt)("em",{parentName:"p"},"governing structure rule"),"."),(0,r.kt)("p",null,"DIT Content Rules circumscribe which auxiliary object classes, entries within\na region of the DIT may have, as well as what attribute types MUST, MAY, and\nMUST NOT be present within entries that fall within the purview of the DIT\nContent Rule."),(0,r.kt)("p",null,"Context Use Rules govern which contexts may be present in which attribute\nvalues within a region of the DIT. Matching use rules are used to control which\nmatching combinations are defined for usage."),(0,r.kt)("p",null,'Friend attributes are "friends" of an "anchor attribute." If the anchor\nattribute is used in a search filter, its friends will be evaluated for matches.\nIf the anchor attribute is to be returned in response from the directory, the\nfriend attributes will be returned automatically as well. Both of these cases\ncan be disabled via service controls.'),(0,r.kt)("h3",{id:"compound-entries"},"Compound Entries"),(0,r.kt)("p",null,'In many document-oriented databases, such as MongoDB, ElasticSearch, or CouchDB,\ndocuments themselves can contain "nested documents," and the directory is no\ndifferent in this regard: except these are called "child entries" and the\noverall entry within which they are a substituent is called a "compound entry."'),(0,r.kt)("p",null,"Child entries are (almost) no different than any other entry in the directory:\nthey are just normal entries, except they have the ",(0,r.kt)("inlineCode",{parentName:"p"},"child")," auxiliary object\nclass (",(0,r.kt)("inlineCode",{parentName:"p"},"2.5.6.29"),'). An entry having this object class means "I am really a part\nof my immediate superior as a compound entry, rather than being a separate\nentry."'),(0,r.kt)("p",null,"Compound entries are useful for providing relational features to the directory.\nFor example, you can have a compound entries that represent people, and child\nentries that represents computing devices they own. If you want to find\na person that resides in Florida ",(0,r.kt)("strong",{parentName:"p"},"and"),' has a certain model of device, you\ncan use the "family grouping" feature of a search to obtain only these results,\nrather than performing two separate searches for people and devices and\nperforming an inner join on the client-side.'),(0,r.kt)("h3",{id:"hierarchical-groups"},"Hierarchical Groups"),(0,r.kt)("p",null,'Entries in the directory are arranged into a hierarchy, as established already.\nHowever, sometimes there is a need for some other hierarchy that is independent\nof the underlying directory structure. X.500 directories allow this via\n"hierarchical groups," which function like a "virtual hierarchy" on top of the\ndirectory.'),(0,r.kt)("p",null,"Hierarchical groups work very simply: each member in the virtual hierarchy has\nan attribute ",(0,r.kt)("inlineCode",{parentName:"p"},"hierarchicalParent")," that points to its superior in this virtual\nhierarchy. There are other attributes that are supposed to be managed by the\ndirectory automatically:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hierarchyBelow")," is a ",(0,r.kt)("inlineCode",{parentName:"li"},"BOOLEAN")," that indicates whether a hierarchical group\nmember has subordinates in the virtual hierarchy."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hierarchyTop")," points to the most superior entry in the virtual hierarchy."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hierarchyLevel")," indicates how deep within the virtual hierarchy an entry\nresides.")),(0,r.kt)("p",null,"These are only used in searches to provide relational capabilities across this\nvirtual hierarchy. For example, if the virtual hierarchy reflects the managerial\nstructure of an organization, you can query the directory for all managers of\nemployees that have poor performance reviews."),(0,r.kt)("h3",{id:"collective-attributes"},"Collective Attributes"),(0,r.kt)("p",null,'As the directory grows, there might be a need to place the same attribute values\nwithin entries over and over again, thereby wasting data storage space. For\nexample, in a small city that falls entirely within a single postal code, every\nresident might have the exact same postal code (e.g. a "ZIP code" in the United\nStates). Instead of creating 100,000 copies of this value for 100,000 denizens,\nthe directory can store a collective variant of postal code that applies to\nall denizens automatically.'),(0,r.kt)("p",null,"Collective attributes are typically subtypes of some other non-collective\nattribute type, so that assertions that match against the collective variant\nmatch against the non-collective, and vice versa. As with other features we've\nmentioned so far, this provides relational searches. Recycling the previous\nexample, you could search for all people with a certain name residing within a\ncertain postal code."),(0,r.kt)("p",null,"This may seem precarious in that a single exception to a collective attribute\nassignment may necessitate abandoning the collective assignment of this\nattribute, and individually assigning the attribute, making us no better off\nthan before, but the X.500 specifications have this scenario covered by allowing\nentries to be marked as one-off exceptions via the ",(0,r.kt)("inlineCode",{parentName:"p"},"collectiveExclusions"),"\nattribute. If 99,999 of our denizens live in a postal code, but a single person\nlives in a different one, we can mark them as excluded from the applicability of\nthis collective attribute."),(0,r.kt)("h2",{id:"operations"},"Operations"),(0,r.kt)("p",null,'Interactions with the directory use a request-response model. The types of\nrequests and responses supported by the directory are defined as "operations."\nAs a simple example, "operations" for a padlock might be "lock" and "unlock."\n"Operations" for a video player might include "play," "pause," "fast-forward,"\netc. In a database, "operations" might include "search," or "insert."'),(0,r.kt)("p",null,'The definition of an operation includes the syntax of the parameters for it\n(the "argument type"), the parameters expected in the response (the "result\ntype"), and what types of errors might be returned by an operation. The errors\nthemselves specify what parameters they might include.'),(0,r.kt)("p",null,"For example, an operation to read an entry from a directory takes the\ndistinguished name of the entry to read in the argument. The result includes\nthe entry if it exists and if the user is authorized. If the entry does not\nexist, the user is not authorized, or some other issue makes it impossible or\nundesirable to fulfill the request, an error may be returned, indicating the\nnature of the problem."),(0,r.kt)("h2",{id:"rose-protocols-and-transport"},"ROSE Protocols and Transport"),(0,r.kt)("p",null,'In the same way that a protocol stack such as TCP/IP encapsulates messages used\nby the application layer and provides services such as in-order delivery, the\nRemote Operation Service element (ROSE) is an abstract service that "frames"\nmessages to the directory to identify whether they are requests, results,\nerrors, rejections, etc., tags requests with a unique numeric identifier so\nthey can be cancelled or monitored, and tags requests with an identifier of the\noperation type (such as a "read" or "search"). ROSE is, in other words, a\nRemote Procedure Call (RPC) mechanism.'),(0,r.kt)("p",null,'The abstract Remote Operation Service Element can be provided by the OSI\nprotocol stack via a protocol defined in the X.880-series of ITU-T\nRecommendations, but it can also be provided over the "Internet Directly-Mapped"\n(IDM) protocol defined in ITU-T Recommendation X.519 specifically for usage by\nthe directory, which runs over TCP/IP. There may be more implementations I do\nnot know about: it is defined as an abstract service so it can be provided in\nmany ways.'),(0,r.kt)("h2",{id:"binding-and-unbinding"},"Binding and Unbinding"),(0,r.kt)("p",null,'Before a Remote Operation Service Element (ROSE) can provide the Remote\nOperations Service (ROS), the "initiator" between two correspondent endpoints\nmust "bind." A bind is a special operation that performs any initial setup for\nthe ongoing ROS dialogue, which usually includes authentication, but could also\ninclude version or feature negotiation. The bind operation has no invocation\nidentifier: there may only be one bind operation outstanding at a time.'),(0,r.kt)("p",null,'When a ROS peer is done, they may (or must, depending on how you look at it),\nunbind. Unbind basically just says "I\'m done," but it could also include a\nreason why "I\'m done" such as "I\'m done, because I am suffering from an\nunrecoverable error."'),(0,r.kt)("p",null,"Requests may not be sent after unbinding. After unbinding, the dialogue is\ncomplete. However, the underlying transport may remain open, if desired; in\nconcrete terms, the TCP socket may still be kept alive and re-used for a\nsubsequent bind, perhaps to authenticate as a different user."),(0,r.kt)("h2",{id:"authentication"},"Authentication"),(0,r.kt)("p",null,"As we have established, authentication information is carried in the bind\noperation."),(0,r.kt)("p",null,"There are five forms of authentication defined in the directory specifications:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"simple"),": Authentication via a distinguished name (username) and password"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"strong"),": Authentication via a cryptographic signature proving you possess a key"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"externalProcedure"),": An authentication procedure identified by an object identifier"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"spkm"),": Simple Public-Key GSS-API Mechanism (SPKM) described in IETF RFC 2025"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sasl"),": Simple Authentication and Security Layer (SASL), which is itself a\nflexible encapsulation mechanism for many more authentication\nexchanges.")),(0,r.kt)("h2",{id:"the-dap-operations"},"The DAP Operations"),(0,r.kt)("p",null,"The directory service is provided to users via the Directory Access Protocol\n(DAP), which is a suite of 11 operations briefly described as such:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"read"),": Read a single entry"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"compare"),": Evaluate an assertion against an entry, returning whether it matches"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"abandon"),": Abandon an ongoing operation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"list"),": List the entries immediately subordinate to an entry in the DIT"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"search"),": Search for entries using a filter"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"addEntry"),": Create a new entry"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"removeEntry"),": Delete an entry"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"modifyEntry"),": Modify an entry, such as by adding attributes"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"modifyDN"),": Rename an entry, or move it and its descendants entirely"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"administerPassword"),": Reset a password of an entry"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"changePassword"),": Change a password of an entry")),(0,r.kt)("p",null,'Almost all of these operations share some parameters in their arguments (called\n"the common arguments"), and likewise, their results also share some parameters,\ncalled "the common results."'),(0,r.kt)("p",null,'The common arguments include "service controls," which can be used to specify\namong other things, how requests may be passed on to other directory servers,\nthe priority of the request, the time limit of the request, the limit on the\nnumber of entries returned from searches or listings, whether (possibly\nout-of-date) replicated data is sufficient, whether aliases should be\ndereferenced automatically, and how large of an attribute is "too large." Other\ncommon arguments can be supplied to specify what contexts should be used for\nassertions, or how compound entries are to be evaluated for matches in searches.'),(0,r.kt)("p",null,"The common results may include the name of the server that fulfilled the\nrequest, a flag indicating whether an alias was dereferenced, or attributes used\nto provide notifications, warnings, or other information to the directory user."),(0,r.kt)("h2",{id:"chaining"},"Chaining"),(0,r.kt)("p",null,'The entire directory service can be (and is likely to be) split up among a\nmultitude of servers cooperating with each other. The individual servers\nproviding the directory service are called Directory System Agents (DSAs), and\nthe clients that interact with them are called Directory User Agents (DUAs).\nSometimes, the right place for a request to be fulfilled is not the DSA that\noriginally received the request from the DUA. In other cases, the original\nrecipient of the request may only be able to partially satisfy the request, and\nmay require more information from other directory servers. To fulfill such\nrequests, directory servers do what is called "chaining," which is where they\nwrap the request in an envelope of sorts, send this request to other servers\nsaying "this is the original request, and this is what specifically I need from\nyou to fulfill it." These secondary recipients may, in turn, chain the request,\nrecursively, meaning that a single request could potentially propagate into a\nlarge number of chained messages to many DSAs.'),(0,r.kt)("p",null,'The protocol that DSAs speak with each other to provide chaining, and\ntherefore the total satisfaction of requests, is called the Directory System\nProtocol (DSP). The syntax for almost all of its operations are identical to\nthose of the Directory Access Protocol (DAP), except with a "chaining arguments"\nenvelope that encloses the analogous DAP request, result, or error.'),(0,r.kt)("p",null,'In lieu of chaining, directory servers may simply return a referral, which\nbasically says "here is the server to which you need to send your request."'),(0,r.kt)("p",null,"Directory users may indicate that they prefer chaining or that they forbid\nchaining entirely. They can also indicate that replicas of entries are\nsatisfactory--that master copies are not needed--and hence, the directory\nshould not chain requests to servers hosting the master copy if they themselves\nhave a non-master copy. (What an excellent segue to our next topic!)"),(0,r.kt)("h2",{id:"shadowing"},"Shadowing"),(0,r.kt)("p",null,'The directory supports the replication of entries as read-only copies into\nother directories for performance purposes (arguably security as well). This\nreplication is called "shadowing." Directory servers that store read-only copies\nor the "master" directory entries are said to "shadow" the "master" DSAs.'),(0,r.kt)("p",null,"Shadowing improves the throughput of the directory because read-only operations,\nsuch as searches, can be handled by an infinite number of replicas, and the\nmaster can exclusively deal with modification operations, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"addEntry"),"\nor ",(0,r.kt)("inlineCode",{parentName:"p"},"modifyEntry"),"."),(0,r.kt)("p",null,"Shadowing is very flexible and can include all entries within a subtree of the\nDIT or only a selection of said entries, and the replicated entries may receive\nall of the attributes of the master copies, or just a selection of them."),(0,r.kt)("p",null,'Shadowed information can be shadowed from other shadow DSAs as well. For this\nreason, the directory specifications make use of the terms "shadow supplier"\nand "shadow consumer" rather than "master" and "shadow," because the supplier of\nthe shadowed data could itself be a shadow.'),(0,r.kt)("p",null,"Directory users can indicate that copies will suffice for their request. Copies\nare often less authoritative than shadows, since they may contain stale or\nout-of-date information, depending on how frequently updates to the master are\npropagated to the shadows, but using copies is likely to speed up directory\noperations."),(0,r.kt)("h2",{id:"relaxation-or-tightening"},"Relaxation or Tightening"),(0,r.kt)("p",null,'Sometimes when you perform a search, you start with an idea of how many entries\nyou\'d like to receive. The directory has a mechanism for altering search\ncriteria on the fly to target the requested number of entries. This is done via\n"relaxation" which is where search criteria are altered to become less strict or\nremoved entirely to increase the number of results returned, or "tightening" in\nwhich they become more restrictive to reduce the number of results returned.'),(0,r.kt)("p",null,"There are two ways this is achieved: matching-rule substitution and\nmapping-based matching."),(0,r.kt)("p",null,"In matching-rule substitution, the matching rules used\nto compose the search filter are replaced with more or less restrictive\nequivalents. For instance, a case-sensitive search could be replaced with a\ncase-insensitive search if too few results are matching."),(0,r.kt)("p",null,"In mapping-based matching, certain filter criteria are replaced with others\nbased on exterior data the directory has. One example of this would be a\nmap of postal codes to cities. If a search is not turning up enough results, the\ndirectory can retry the request by replacing a filter selecting for a certain\ncity with a filter for all of the postal codes that intersect with the bounds of\nthe city and those neighboring them. In this sense, the directory would use its\ngeographic knowledge to search a broader area for matching entries."),(0,r.kt)("p",null,"In fact, the directory also allows users to control ",(0,r.kt)("em",{parentName:"p"},"how much broader"),' each\nsubsequent retry of the search is via an "extended area" parameter.'),(0,r.kt)("h2",{id:"signing"},"Signing"),(0,r.kt)("p",null,"Directory requests, results, and errors may be cryptographically-signed to\nprovide non-repudiation and integrity. Transport Layer Security (TLS) provides\nconfidentiality and integrity in point-to-point traffic between a client and\nserver, but it does not protect a message that is passed along a chain of\nservers. One of the servers in the chain could alter the message along the way\nunless it is signed to prove its authenticity!"),(0,r.kt)("p",null,"Even if a user does not sign his requests, he can still request that the DSA\nsign its responses, including errors."))}m.isMDXComponent=!0}}]);