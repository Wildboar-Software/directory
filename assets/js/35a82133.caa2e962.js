"use strict";(self.webpackChunkdirectory=self.webpackChunkdirectory||[]).push([[5083],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),_=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=_(e.components);return i.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),h=_(n),u=a,m=h["".concat(l,".").concat(u)]||h[u]||p[u]||r;return n?i.createElement(m,o(o({ref:t},d),{},{components:n})):i.createElement(m,o({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var _=2;_<r;_++)o[_]=n[_];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9748:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>_,toc:()=>p});var i=n(7462),a=n(3366),r=(n(7294),n(3905)),o=["components"],s={},l="Configuration",_={unversionedId:"env",id:"env",title:"Configuration",description:"Meerkat DSA is configured via environment variables. In the future, it will",source:"@site/docs/env.md",sourceDirName:".",slug:"/env",permalink:"/directory/docs/env",draft:!1,editUrl:"https://github.com/Wildboar-Software/directory/edit/main/website/docs/env.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Setup",permalink:"/directory/docs/setup"},next:{title:"The Web Admin Console",permalink:"/directory/docs/webadmin"}},d={},p=[{value:"Representation of Values",id:"representation-of-values",level:2},{value:"Updating Configuration",id:"updating-configuration",level:2},{value:"TLS and Signing Options",id:"tls-and-signing-options",level:2},{value:"Required",id:"required",level:2},{value:"DATABASE_URL",id:"database_url",level:2},{value:"LANG",id:"lang",level:2},{value:"MEERKAT_ADMINISTRATOR_EMAIL",id:"meerkat_administrator_email",level:2},{value:"MEERKAT_ADMINISTRATOR_EMAIL_PUBLIC",id:"meerkat_administrator_email_public",level:2},{value:"MEERKAT_ATTR_CERT_CHAIN_FILE",id:"meerkat_attr_cert_chain_file",level:2},{value:"MEERKAT_BIND_MIN_SLEEP_MS",id:"meerkat_bind_min_sleep_ms",level:2},{value:"MEERKAT_BIND_SLEEP_RANGE_MS",id:"meerkat_bind_sleep_range_ms",level:2},{value:"MEERKAT_BULK_INSERT_MODE",id:"meerkat_bulk_insert_mode",level:2},{value:"MEERKAT_CLIENT_CERT_ENGINE",id:"meerkat_client_cert_engine",level:2},{value:"MEERKAT_CHAINING_CHECK_SIG",id:"meerkat_chaining_check_sig",level:2},{value:"MEERKAT_CHAINING_SIGN_REQUESTS",id:"meerkat_chaining_sign_requests",level:2},{value:"MEERKAT_CHAINING_TLS_OPTIONAL",id:"meerkat_chaining_tls_optional",level:2},{value:"MEERKAT_DEFAULT_ENTRY_TTL",id:"meerkat_default_entry_ttl",level:2},{value:"MEERKAT_ECDH_CURVES",id:"meerkat_ecdh_curves",level:2},{value:"MEERKAT_ENABLE_DAP",id:"meerkat_enable_dap",level:2},{value:"MEERKAT_ENABLE_DOP",id:"meerkat_enable_dop",level:2},{value:"MEERKAT_ENABLE_DSP",id:"meerkat_enable_dsp",level:2},{value:"MEERKAT_ENTRIES_PER_SUBORDINATES_PAGE",id:"meerkat_entries_per_subordinates_page",level:2},{value:"MEERKAT_FORBID_ANONYMOUS_BIND",id:"meerkat_forbid_anonymous_bind",level:2},{value:"MEERKAT_HONOR_CIPHER_ORDER",id:"meerkat_honor_cipher_order",level:2},{value:"MEERKAT_IDM_BUFFER_SIZE",id:"meerkat_idm_buffer_size",level:2},{value:"MEERKAT_IDM_PORT",id:"meerkat_idm_port",level:2},{value:"MEERKAT_IDMS_PORT",id:"meerkat_idms_port",level:2},{value:"MEERKAT_INIT_JS",id:"meerkat_init_js",level:2},{value:"MEERKAT_ITOT_ABORT_TIMEOUT_IN_SECONDS",id:"meerkat_itot_abort_timeout_in_seconds",level:2},{value:"MEERKAT_ITOT_ACSE_PASSWORD",id:"meerkat_itot_acse_password",level:2},{value:"MEERKAT_ITOT_CHAINING",id:"meerkat_itot_chaining",level:2},{value:"MEERKAT_ITOT_MAX_NSDU_SIZE",id:"meerkat_itot_max_nsdu_size",level:2},{value:"MEERKAT_ITOT_MAX_TPDU_SIZE",id:"meerkat_itot_max_tpdu_size",level:2},{value:"MEERKAT_ITOT_MAX_TSDU_SIZE",id:"meerkat_itot_max_tsdu_size",level:2},{value:"MEERKAT_ITOT_MAX_SSDU_SIZE",id:"meerkat_itot_max_ssdu_size",level:2},{value:"MEERKAT_ITOT_MAX_PRESENTATION_CONTEXTS",id:"meerkat_itot_max_presentation_contexts",level:2},{value:"MEERKAT_ITOT_PORT",id:"meerkat_itot_port",level:2},{value:"MEERKAT_ITOTS_PORT",id:"meerkat_itots_port",level:2},{value:"MEERKAT_LCR_PARALLELISM",id:"meerkat_lcr_parallelism",level:2},{value:"MEERKAT_LDAP_BUFFER_SIZE",id:"meerkat_ldap_buffer_size",level:2},{value:"MEERKAT_LDAP_PORT",id:"meerkat_ldap_port",level:2},{value:"MEERKAT_LDAPS_PORT",id:"meerkat_ldaps_port",level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_SSL3",id:"meerkat_local_qualifier_points_for_using_ssl3",level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_STARTTLS",id:"meerkat_local_qualifier_points_for_using_starttls",level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS",id:"meerkat_local_qualifier_points_for_using_tls",level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_0",id:"meerkat_local_qualifier_points_for_using_tls_1_0",level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_1",id:"meerkat_local_qualifier_points_for_using_tls_1_1",level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_2",id:"meerkat_local_qualifier_points_for_using_tls_1_2",level:2},{value:"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_3",id:"meerkat_local_qualifier_points_for_using_tls_1_3",level:2},{value:"MEERKAT_LOG_BOUND_DN",id:"meerkat_log_bound_dn",level:2},{value:"MEERKAT_LOG_FILE",id:"meerkat_log_file",level:2},{value:"MEERKAT_LOG_FILE_MAX_FILES",id:"meerkat_log_file_max_files",level:2},{value:"MEERKAT_LOG_FILE_MAX_SIZE",id:"meerkat_log_file_max_size",level:2},{value:"MEERKAT_LOG_HTTP",id:"meerkat_log_http",level:2},{value:"MEERKAT_LOG_JSON",id:"meerkat_log_json",level:2},{value:"MEERKAT_LOG_LEVEL",id:"meerkat_log_level",level:2},{value:"MEERKAT_LOG_TAILABLE",id:"meerkat_log_tailable",level:2},{value:"MEERKAT_LOG_ZIP",id:"meerkat_log_zip",level:2},{value:"MEERKAT_LOOKUP_UNCERT_STRONG_AUTH",id:"meerkat_lookup_uncert_strong_auth",level:2},{value:"MEERKAT_MAX_CONCURRENT_OPERATIONS_PER_CONNECTION",id:"meerkat_max_concurrent_operations_per_connection",level:2},{value:"MEERKAT_MAX_CONNECTIONS",id:"meerkat_max_connections",level:2},{value:"MEERKAT_MAX_CONNECTIONS_PER_ADDRESS",id:"meerkat_max_connections_per_address",level:2},{value:"MEERKAT_MAX_IDM_PDU_SIZE",id:"meerkat_max_idm_pdu_size",level:2},{value:"MEERKAT_MAX_IDM_SEGMENTS",id:"meerkat_max_idm_segments",level:2},{value:"MEERKAT_MAX_PRE_BIND_REQUESTS",id:"meerkat_max_pre_bind_requests",level:2},{value:"MEERKAT_MIN_AUTH_LEVEL_FOR_CHAINING",id:"meerkat_min_auth_level_for_chaining",level:2},{value:"MEERKAT_MIN_AUTH_LEVEL_FOR_OB",id:"meerkat_min_auth_level_for_ob",level:2},{value:"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_CHAINING",id:"meerkat_min_auth_local_qualifier_for_chaining",level:2},{value:"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_OB",id:"meerkat_min_auth_local_qualifier_for_ob",level:2},{value:"MEERKAT_MIN_TRANSFER_SPEED_BYTES_PER_MINUTE",id:"meerkat_min_transfer_speed_bytes_per_minute",level:2},{value:"MEERKAT_MRU_VERTEX_TTL",id:"meerkat_mru_vertex_ttl",level:2},{value:"MEERKAT_MY_ACCESS_POINT_NSAPS",id:"meerkat_my_access_point_nsaps",level:2},{value:"MEERKAT_NO_COLOR",id:"meerkat_no_color",level:2},{value:"MEERKAT_NO_CONSOLE",id:"meerkat_no_console",level:2},{value:"MEERKAT_NO_TIMESTAMP",id:"meerkat_no_timestamp",level:2},{value:"MEERKAT_OB_AUTO_ACCEPT",id:"meerkat_ob_auto_accept",level:2},{value:"MEERKAT_OPEN_TOP_LEVEL",id:"meerkat_open_top_level",level:2},{value:"MEERKAT_PRIVATE_KEY_ENGINE",id:"meerkat_private_key_engine",level:2},{value:"MEERKAT_PROHIBIT_CHAINING",id:"meerkat_prohibit_chaining",level:2},{value:"MEERKAT_REMOTE_PWD_TIME_LIMIT",id:"meerkat_remote_pwd_time_limit",level:2},{value:"MEERKAT_REVEAL_USER_PWD",id:"meerkat_reveal_user_pwd",level:2},{value:"MEERKAT_SCR_PARALLELISM",id:"meerkat_scr_parallelism",level:2},{value:"MEERKAT_SCVP_ATTR_CERT_CHECKS",id:"meerkat_scvp_attr_cert_checks",level:2},{value:"MEERKAT_SCVP_ATTR_CERT_WANT_BACKS",id:"meerkat_scvp_attr_cert_want_backs",level:2},{value:"MEERKAT_SCVP_CACHED_RESPONSE",id:"meerkat_scvp_cached_response",level:2},{value:"MEERKAT_SCVP_DISCLOSE_AE_TITLE",id:"meerkat_scvp_disclose_ae_title",level:2},{value:"MEERKAT_SCVP_FULL_REQUEST_IN_RESPONSE",id:"meerkat_scvp_full_request_in_response",level:2},{value:"MEERKAT_SCVP_HASH_ALGORITHM",id:"meerkat_scvp_hash_algorithm",level:2},{value:"MEERKAT_SCVP_INHIBIT_ANY_POLICY",id:"meerkat_scvp_inhibit_any_policy",level:2},{value:"MEERKAT_SCVP_INHIBIT_POLICY_MAPPING",id:"meerkat_scvp_inhibit_policy_mapping",level:2},{value:"MEERKAT_SCVP_PROTECT_RESPONSE",id:"meerkat_scvp_protect_response",level:2},{value:"MEERKAT_SCVP_PUBLIC_KEY_CERT_CHECKS",id:"meerkat_scvp_public_key_cert_checks",level:2},{value:"MEERKAT_SCVP_PUBLIC_KEY_CERT_WANT_BACKS",id:"meerkat_scvp_public_key_cert_want_backs",level:2},{value:"MEERKAT_SCVP_REQUESTOR_TEXT",id:"meerkat_scvp_requestor_text",level:2},{value:"MEERKAT_SCVP_REQUIRE_EXPLICIT_POLICY",id:"meerkat_scvp_require_explicit_policy",level:2},{value:"MEERKAT_SCVP_RESPONSE_VALIDATION_POLICY_BY_REF",id:"meerkat_scvp_response_validation_policy_by_ref",level:2},{value:"MEERKAT_SCVP_SIGNATURE_ALGORITHM",id:"meerkat_scvp_signature_algorithm",level:2},{value:"MEERKAT_SCVP_URL",id:"meerkat_scvp_url",level:2},{value:"MEERKAT_SCVP_VALIDATION_ALGORITHM_ID",id:"meerkat_scvp_validation_algorithm_id",level:2},{value:"MEERKAT_SCVP_VALIDATION_POLICY_REF_ID",id:"meerkat_scvp_validation_policy_ref_id",level:2},{value:"MEERKAT_SENTINEL_DOMAIN",id:"meerkat_sentinel_domain",level:2},{value:"MEERKAT_SIGNING_ACCEPTABLE_CERT_POLICIES",id:"meerkat_signing_acceptable_cert_policies",level:2},{value:"MEERKAT_SIGNING_BIND_ACCEPTABLE_CERT_POLICIES",id:"meerkat_signing_bind_acceptable_cert_policies",level:2},{value:"MEERKAT_SIGNING_BIND_CRL_DP_ATTEMPTS_PER_CERT",id:"meerkat_signing_bind_crl_dp_attempts_per_cert",level:2},{value:"MEERKAT_SIGNING_BIND_MAX_ENDPOINTS_PER_CRL_DP",id:"meerkat_signing_bind_max_endpoints_per_crl_dp",level:2},{value:"MEERKAT_SIGNING_BIND_OCSP_CHECKINESS",id:"meerkat_signing_bind_ocsp_checkiness",level:2},{value:"MEERKAT_SIGNING_BIND_OCSP_MAX_REQUESTS_PER_CERT",id:"meerkat_signing_bind_ocsp_max_requests_per_cert",level:2},{value:"MEERKAT_SIGNING_BIND_OCSP_SIGN_REQUESTS",id:"meerkat_signing_bind_ocsp_sign_requests",level:2},{value:"MEERKAT_SIGNING_BIND_OCSP_TIMEOUT",id:"meerkat_signing_bind_ocsp_timeout",level:2},{value:"MEERKAT_SIGNING_BIND_OCSP_UNKNOWN_IS_FAILURE",id:"meerkat_signing_bind_ocsp_unknown_is_failure",level:2},{value:"MEERKAT_SIGNING_BIND_REMOTE_CRL_CACHE_TTL",id:"meerkat_signing_bind_remote_crl_cache_ttl",level:2},{value:"MEERKAT_SIGNING_BIND_REMOTE_CRL_CHECKINESS",id:"meerkat_signing_bind_remote_crl_checkiness",level:2},{value:"MEERKAT_SIGNING_BIND_REMOTE_CRL_SIZE_LIMIT",id:"meerkat_signing_bind_remote_crl_size_limit",level:2},{value:"MEERKAT_SIGNING_BIND_REMOTE_CRL_SUPPORTED_PROTOCOLS",id:"meerkat_signing_bind_remote_crl_supported_protocols",level:2},{value:"MEERKAT_SIGNING_BIND_REMOTE_CRL_TIMEOUT",id:"meerkat_signing_bind_remote_crl_timeout",level:2},{value:"MEERKAT_SIGNING_BIND_TOLERATE_UNAVAILABLE_REMOTE_CRL",id:"meerkat_signing_bind_tolerate_unavailable_remote_crl",level:2},{value:"MEERKAT_SIGNING_CA_FILE",id:"meerkat_signing_ca_file",level:2},{value:"MEERKAT_SIGNING_CERTS_CHAIN_FILE",id:"meerkat_signing_certs_chain_file",level:2},{value:"MEERKAT_SIGNING_CRL_DP_ATTEMPTS_PER_CERT",id:"meerkat_signing_crl_dp_attempts_per_cert",level:2},{value:"MEERKAT_SIGNING_CRL_FILE",id:"meerkat_signing_crl_file",level:2},{value:"MEERKAT_SIGNING_DISABLE_VERIFICATION",id:"meerkat_signing_disable_verification",level:2},{value:"MEERKAT_SIGNING_ERRORS_MIN_AUTH_LEVEL",id:"meerkat_signing_errors_min_auth_level",level:2},{value:"MEERKAT_SIGNING_ERRORS_MIN_AUTH_LOCAL_QUALIFIER",id:"meerkat_signing_errors_min_auth_local_qualifier",level:2},{value:"MEERKAT_SIGNING_ERRORS_MIN_AUTH_SIGNED",id:"meerkat_signing_errors_min_auth_signed",level:2},{value:"MEERKAT_SIGNING_KEY_FILE",id:"meerkat_signing_key_file",level:2},{value:"MEERKAT_SIGNING_MAX_ENDPOINTS_PER_CRL_DP",id:"meerkat_signing_max_endpoints_per_crl_dp",level:2},{value:"MEERKAT_SIGNING_MIN_AUTH_LEVEL",id:"meerkat_signing_min_auth_level",level:2},{value:"MEERKAT_SIGNING_MIN_AUTH_LOCAL_QUALIFIER",id:"meerkat_signing_min_auth_local_qualifier",level:2},{value:"MEERKAT_SIGNING_MIN_AUTH_SIGNED",id:"meerkat_signing_min_auth_signed",level:2},{value:"MEERKAT_SIGNING_OCSP_CHECKINESS",id:"meerkat_signing_ocsp_checkiness",level:2},{value:"MEERKAT_SIGNING_OCSP_MAX_REQUESTS_PER_CERT",id:"meerkat_signing_ocsp_max_requests_per_cert",level:2},{value:"MEERKAT_SIGNING_OCSP_REPLAY_WINDOW",id:"meerkat_signing_ocsp_replay_window",level:2},{value:"MEERKAT_SIGNING_OCSP_RESPONSE_SIZE_LIMIT",id:"meerkat_signing_ocsp_response_size_limit",level:2},{value:"MEERKAT_SIGNING_OCSP_SIGN_REQUESTS",id:"meerkat_signing_ocsp_sign_requests",level:2},{value:"MEERKAT_SIGNING_OCSP_TIMEOUT",id:"meerkat_signing_ocsp_timeout",level:2},{value:"MEERKAT_SIGNING_OCSP_UNKNOWN_IS_FAILURE",id:"meerkat_signing_ocsp_unknown_is_failure",level:2},{value:"MEERKAT_SIGNING_PERMITTED_ALGORITHMS",id:"meerkat_signing_permitted_algorithms",level:2},{value:"MEERKAT_SIGNING_REMOTE_CRL_CACHE_TTL",id:"meerkat_signing_remote_crl_cache_ttl",level:2},{value:"MEERKAT_SIGNING_REMOTE_CRL_CHECKINESS",id:"meerkat_signing_remote_crl_checkiness",level:2},{value:"MEERKAT_SIGNING_REMOTE_CRL_SIZE_LIMIT",id:"meerkat_signing_remote_crl_size_limit",level:2},{value:"MEERKAT_SIGNING_REMOTE_CRL_SUPPORTED_PROTOCOLS",id:"meerkat_signing_remote_crl_supported_protocols",level:2},{value:"MEERKAT_SIGNING_REMOTE_CRL_TIMEOUT",id:"meerkat_signing_remote_crl_timeout",level:2},{value:"MEERKAT_SIGNING_REQUIRED_FOR_CHAINING",id:"meerkat_signing_required_for_chaining",level:2},{value:"MEERKAT_SIGNING_REQUIRED_FOR_OB",id:"meerkat_signing_required_for_ob",level:2},{value:"MEERKAT_SIGNING_TOLERATE_UNAVAILABLE_REMOTE_CRL",id:"meerkat_signing_tolerate_unavailable_remote_crl",level:2},{value:"MEERKAT_TCP_NO_DELAY",id:"meerkat_tcp_no_delay",level:2},{value:"MEERKAT_TCP_TIMEOUT_IN_SECONDS",id:"meerkat_tcp_timeout_in_seconds",level:2},{value:"MEERKAT_TLS_ANSWER_OCSP_REQUESTS",id:"meerkat_tls_answer_ocsp_requests",level:2},{value:"MEERKAT_TLS_CA_FILE",id:"meerkat_tls_ca_file",level:2},{value:"MEERKAT_TLS_CERT_FILE",id:"meerkat_tls_cert_file",level:2},{value:"MEERKAT_TLS_CIPHERS",id:"meerkat_tls_ciphers",level:2},{value:"MEERKAT_TLS_CLIENT_CERT_AUTH",id:"meerkat_tls_client_cert_auth",level:2},{value:"MEERKAT_TLS_CRL_FILE",id:"meerkat_tls_crl_file",level:2},{value:"MEERKAT_TLS_DH_PARAM_FILE",id:"meerkat_tls_dh_param_file",level:2},{value:"MEERKAT_TLS_HANDSHAKE_TIMEOUT_IN_SECONDS",id:"meerkat_tls_handshake_timeout_in_seconds",level:2},{value:"MEERKAT_TLS_KEY_FILE",id:"meerkat_tls_key_file",level:2},{value:"MEERKAT_TLS_KEY_PASSPHRASE",id:"meerkat_tls_key_passphrase",level:2},{value:"MEERKAT_TLS_MAX_VERSION",id:"meerkat_tls_max_version",level:2},{value:"MEERKAT_TLS_MIN_VERSION",id:"meerkat_tls_min_version",level:2},{value:"MEERKAT_TLS_OCSP_CHECKINESS",id:"meerkat_tls_ocsp_checkiness",level:2},{value:"MEERKAT_TLS_OCSP_MAX_REQUESTS_PER_CERT",id:"meerkat_tls_ocsp_max_requests_per_cert",level:2},{value:"MEERKAT_TLS_OCSP_REPLAY_WINDOW",id:"meerkat_tls_ocsp_replay_window",level:2},{value:"MEERKAT_TLS_OCSP_RESPONSE_SIZE_LIMIT",id:"meerkat_tls_ocsp_response_size_limit",level:2},{value:"MEERKAT_TLS_OCSP_SIGN_REQUESTS",id:"meerkat_tls_ocsp_sign_requests",level:2},{value:"MEERKAT_TLS_OCSP_TIMEOUT",id:"meerkat_tls_ocsp_timeout",level:2},{value:"MEERKAT_TLS_OCSP_UNKNOWN_IS_FAILURE",id:"meerkat_tls_ocsp_unknown_is_failure",level:2},{value:"MEERKAT_TLS_PFX_FILE",id:"meerkat_tls_pfx_file",level:2},{value:"MEERKAT_TLS_REJECT_UNAUTHORIZED_CLIENTS",id:"meerkat_tls_reject_unauthorized_clients",level:2},{value:"MEERKAT_TLS_REJECT_UNAUTHORIZED_SERVERS",id:"meerkat_tls_reject_unauthorized_servers",level:2},{value:"MEERKAT_TLS_REQUEST_OCSP",id:"meerkat_tls_request_ocsp",level:2},{value:"MEERKAT_TLS_SESSION_TIMEOUT_IN_SECONDS",id:"meerkat_tls_session_timeout_in_seconds",level:2},{value:"MEERKAT_TLS_SIG_ALGS",id:"meerkat_tls_sig_algs",level:2},{value:"MEERKAT_TRANSCODE_DISTINGUISHED_VALUES_TO_DER",id:"meerkat_transcode_distinguished_values_to_der",level:2},{value:"MEERKAT_TRANSCODE_VALUES_TO_DER",id:"meerkat_transcode_values_to_der",level:2},{value:"MEERKAT_TRUST_ANCHORS_FILE",id:"meerkat_trust_anchors_file",level:2},{value:"MEERKAT_USE_DATABASE_WHEN_THERE_ARE_X_SUBORDINATES",id:"meerkat_use_database_when_there_are_x_subordinates",level:2},{value:"MEERKAT_VENDOR_NAME",id:"meerkat_vendor_name",level:2},{value:"MEERKAT_VENDOR_VERSION",id:"meerkat_vendor_version",level:2},{value:"MEERKAT_WEB_ADMIN_AUTH_USERNAME",id:"meerkat_web_admin_auth_username",level:2},{value:"MEERKAT_WEB_ADMIN_AUTH_PASSWORD",id:"meerkat_web_admin_auth_password",level:2},{value:"MEERKAT_WEB_ADMIN_AUTH_REALM",id:"meerkat_web_admin_auth_realm",level:2},{value:"MEERKAT_WEB_ADMIN_PORT",id:"meerkat_web_admin_port",level:2},{value:"MEERKAT_WEB_ADMIN_USE_TLS",id:"meerkat_web_admin_use_tls",level:2},{value:"NODE_ENV",id:"node_env",level:2}],h={toc:p};function u(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"Meerkat DSA is configured via environment variables. In the future, it will\nalso be configurable via command-line arguments. Environment variables that\nare specific to Meerkat DSA are namespaced such that they all start with\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_"),"."),(0,r.kt)("h2",{id:"representation-of-values"},"Representation of Values"),(0,r.kt)("p",null,"Meerkat DSA environment variables that represent boolean types will use\n",(0,r.kt)("inlineCode",{parentName:"p"},"1")," to represent TRUE and ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," to represent FALSE. This is because digits\nare more locale-independent. Most cultures would recognize ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," to mean\nTRUE and ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," to mean FALSE. In general, where boolean environment variables\nare used, anything other than ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," simply gets interpreted as FALSE."),(0,r.kt)("p",null,"Meerkat DSA environment variables that represent object identifiers only accept\nthe dot-delimited, numeric representation of the object identifier, such as\n",(0,r.kt)("inlineCode",{parentName:"p"},"2.5.4.3"),"; human-friendly names for these object identifiers are ",(0,r.kt)("em",{parentName:"p"},"not supported"),"\nby Meerkat DSA (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"id-at-commonName"),")."),(0,r.kt)("p",null,"Meerkat DSA does not validate environment variable values. If you supply\ninvalid values, you will get unspecified behavior."),(0,r.kt)("h2",{id:"updating-configuration"},"Updating Configuration"),(0,r.kt)("p",null,"Meerkat DSA reads the environment variables one time: at start up. This means\nthat, if you want to re-configure your Meerkat DSA instance, ",(0,r.kt)("strong",{parentName:"p"},"you will have to\nrestart Meerkat DSA"),"--you cannot simply modify the environment variables as it\nruns."),(0,r.kt)("h2",{id:"tls-and-signing-options"},"TLS and Signing Options"),(0,r.kt)("p",null,"You will notice a few options that ",(0,r.kt)("em",{parentName:"p"},"seem")," similar: in Meerkat DSA, TLS options\nand signing options (those pertaining to signed arguments, results, or errors)\nboth have a suite of similar configuration options. The TLS options start with\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_TLS_")," and the signing options start with ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_"),"."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"The TLS options do not affect the signing options, and vice versa. That means\nthat, if you want to configure, say, a certificate authorities file for\nverifying ",(0,r.kt)("em",{parentName:"p"},"both")," TLS peers and the signatures on signed arguments, results, and\nerrors, you will have to set both the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_TLS_CA_FILE")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_CA_FILE")," environment variables to the same value."),(0,r.kt)("p",{parentName:"admonition"},"This makes Meerkat really flexible, but it also means that you can inadvertently\nleave certain security-related settings to their default values, which might not\nbe what you intend!")),(0,r.kt)("p",null,"To further complicate this, there is another set of similar options for signed\narguments, results, and errors that only pertains to bind operations. These\noptions start with ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_BIND_"),". These environment variables override\nthe values of their equivalent ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_"),' environment variables, hence\nthey are referred to as the "bind overrides."'),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The rationale for this design is that bind operations are typically (1) more\nsecurity-sensitive, since they determine authorization for all future requests,\n(2) probable targets for brute-force and denial-of-service attacks, and (3) it\nis usually acceptable to have a somewhat high latency (like three seconds) for a\nbind operation, but not for subsequent operations. These three significant\ndifferences mean that it would be desirable for Meerkat DSA to support a\ndifferent set of signing-related configuration options that pertain only to the\nbind operation for a given protocol.")),(0,r.kt)("h2",{id:"required"},"Required"),(0,r.kt)("h2",{id:"database_url"},"DATABASE_URL"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Required"),". A database URL indicating the database to which Meerkat DSA must\nconnect for persistent storage. Meerkat DSA assumes full read-write access to\nthis database (not the DBMS, just the database). This URL may have a username\nand password. Read the\n",(0,r.kt)("a",{parentName:"p",href:"https://www.prisma.io/docs/reference/database-reference/connection-urls"},"Prisma Documentation"),"\nfor more information about this URL."),(0,r.kt)("h2",{id:"lang"},"LANG"),(0,r.kt)("p",null,"This is a standard environment variable on Unix-like systems. In Meerkat DSA,\nthis environment variable determines the locale used for log and error\nmessages."),(0,r.kt)("h2",{id:"meerkat_administrator_email"},"MEERKAT_ADMINISTRATOR_EMAIL"),(0,r.kt)("p",null,"The email that you specify here will be submitted along with telemetry events.\nThis will help Meerkat network administrators reach out to you to offer support,\ninform you of security vulnerabilities or active attacks, or contact you for\nother Meerkat DSA-related things."),(0,r.kt)("h2",{id:"meerkat_administrator_email_public"},"MEERKAT_ADMINISTRATOR_EMAIL_PUBLIC"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", the administrator email configured by\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatadministratoremail"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_ADMINISTRATOR_EMAIL"))," will be exposed in\nthe root DSE as a value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"administratorsAddress")," attribute."),(0,r.kt)("p",null,"This can be handy for allowing people and organizations to reach out to you or\nyour organization regarding your DSA, such as for GDPR data deletion requests,\nDMCA takedown notices, or to inform you of security vulnerabilities. On the\nother hand, exposing your email address could expose you to phishing, spam, or\nother security issues attendant to an exposed email address."),(0,r.kt)("h2",{id:"meerkat_attr_cert_chain_file"},"MEERKAT_ATTR_CERT_CHAIN_FILE"),(0,r.kt)("p",null,"The filepath of the chain of attribute certificates and\npublic key certificates path to use for\noutbound strong authentication (when your Meerkat DSA instance binds to\nanother DSA). The attribute certificate path supplied here will populate the\n",(0,r.kt)("inlineCode",{parentName:"p"},"attributeCertificationPath")," field of the strong credentials. Meerkat DSA does\nnot currently use this in any way other than that."),(0,r.kt)("p",null,"This file MUST contain only attribute certificates and public key certificates,\nwhich MUST have the PEM labels ",(0,r.kt)("inlineCode",{parentName:"p"},"ATTRIBUTE CERTIFICATE")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"CERTIFICATE"),",\nrespectively. The first and last PEM-encoded objects MUST be attribute\ncertificates, not public key certificates. Any public key certificate is\nassociated with the attribute certificate that follows it. There MUST NOT be\nmultiple public key certificates adjacent to each other, but there MAY be two or\nmore attribute certificates adjacent to each other."),(0,r.kt)("p",null,"Using ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," to represent an attribute certificate and ",(0,r.kt)("inlineCode",{parentName:"p"},"P")," to represent a public\nkey certificate, the following sequences are valid: ",(0,r.kt)("inlineCode",{parentName:"p"},"AAA"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"APAPA"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"APAA"),". The\nfollowing sequences are ",(0,r.kt)("em",{parentName:"p"},"invalid"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"PAA"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"AAP"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"APPA"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"APAPPA"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If this strictness seems bizarre, it is because this file is used to populate\nthis data structure (represented in ASN.1):"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-asn1"},"\nAttributeCertificationPath ::= SEQUENCE {\n  attributeCertificate  AttributeCertificate,\n  acPath                SEQUENCE OF ACPathData OPTIONAL,\n  ... }\n\nACPathData ::= SEQUENCE {\n  certificate           [0]  Certificate OPTIONAL,\n  attributeCertificate  [1]  AttributeCertificate OPTIONAL,\n  ... }\n\n")),(0,r.kt)("p",{parentName:"admonition"},"Perhaps you can see how a file, constructed as described above, can be used to\npopulate the above data structure. Since this is used for access controls or\nauthentication in some cases (not by Meerkat DSA, but perhaps by another DSA),\nit is important for there to be no ambiguity as to how a given certificate in\nthe path is to be used.")),(0,r.kt)("p",null,"The certs should be ordered by ascending authority: in other words, the Start Of\nAuthority (SOA) attribute certificate should be closest to the ",(0,r.kt)("em",{parentName:"p"},"bottom")," of the\nfile and the end-entity attribute certificate (used directly by Meerkat DSA)\nshould be closest to the ",(0,r.kt)("em",{parentName:"p"},"top")," of the file."),(0,r.kt)("p",null,"The file contents should look like this if you open them up in a text editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'-----BEGIN ATTRIBUTE CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END ATTRIBUTE CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END CERTIFICATE-----\n-----BEGIN ATTRIBUTE CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END ATTRIBUTE CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END CERTIFICATE-----\n-----BEGIN ATTRIBUTE CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END ATTRIBUTE CERTIFICATE-----\n')),(0,r.kt)("p",null,"This does not affect the production of signed arguments, results, or errors, nor\ndoes it affect TLS."),(0,r.kt)("h2",{id:"meerkat_bind_min_sleep_ms"},"MEERKAT_BIND_MIN_SLEEP_MS"),(0,r.kt)("p",null,"This is the amount of time in milliseconds (at minimum) that Meerkat DSA will\ntake to respond to a failed authentication attempt."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"This exists to stifle\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Timing_attack"},"timing attacks"),".")),(0,r.kt)("h2",{id:"meerkat_bind_sleep_range_ms"},"MEERKAT_BIND_SLEEP_RANGE_MS"),(0,r.kt)("p",null,"This is the maximum amount of time in milliseconds that Meerkat DSA will\nadd to the time taken to respond to a failed authentication attempt on top of\nthe minimum as configured by the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_BIND_MIN_SLEEP_MS")," environment\nvariable. The additional time taken in milliseconds is selected uniformly and\nat random from 0 to this number."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"This exists to stifle\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Timing_attack"},"timing attacks"),".")),(0,r.kt)("h2",{id:"meerkat_bulk_insert_mode"},"MEERKAT_BULK_INSERT_MODE"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", this enables bulk-insert mode, where all access control checks\nare disabled, some schema checks are disabled, and other validation is\ndisabled. This exists to speed up a bulk insertion of data when a directory is\nstill being set up."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Enabling this ",(0,r.kt)("em",{parentName:"p"},"disables")," access controls. This should NOT be enabled if your\ndirectory is accessible over a network to users that should not have\nunrestricted access."),(0,r.kt)("p",{parentName:"admonition"},"This SHOULD be turned off and Meerkat DSA SHOULD be restarted as soon as the\ninitial bulk loading is complete.")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The bulk loading of data does not have to be done in one session. It is possible\nto load some data, exit bulk insert mode, use the directory normally, and later\nre-enable bulk insert mode.")),(0,r.kt)("h2",{id:"meerkat_client_cert_engine"},"MEERKAT_CLIENT_CERT_ENGINE"),(0,r.kt)("p",null,"This is an open-ended string that specifies the client certificate engine that\nOpenSSL can use to obtain a client certificate."),(0,r.kt)("h2",{id:"meerkat_chaining_check_sig"},"MEERKAT_CHAINING_CHECK_SIG"),(0,r.kt)("p",null,"If not set to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", Meerkat DSA will verify the digital signatures on received\nsigned DSP results and errors. It is better security for this to remain enabled,\nbut one good reason to disable it is that DAP users might not care about the\npoint-to-point security provided by DSP signing, so long as the chained DAP\nresults are digitally signed and verifiable; for these users, this more\nstringent security could mean that their DAP requests simply fail in chaining."),(0,r.kt)("h2",{id:"meerkat_chaining_sign_requests"},"MEERKAT_CHAINING_SIGN_REQUESTS"),(0,r.kt)("p",null,"If not set to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", Meerkat DSA will digitally sign DSP arguments, results, and\nerrors."),(0,r.kt)("h2",{id:"meerkat_chaining_tls_optional"},"MEERKAT_CHAINING_TLS_OPTIONAL"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", this permits the non-usage of TLS in chaining to other DSAs. In\nother words, if this is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", this DSA will still chain operations to\nother DSAs after attempting to use StartTLS, regardless of whether StartTLS\nsucceeds."),(0,r.kt)("p",null,"If this is enabled, transported operations, data, errors, responses,\ncredentials, etc. are susceptible to inspection by intermediaries, which is a\nsecurity problem. These operations may not be susceptible to tampering (other\nthan by omission) if cryptographic signing is used."),(0,r.kt)("h2",{id:"meerkat_default_entry_ttl"},"MEERKAT_DEFAULT_ENTRY_TTL"),(0,r.kt)("p",null,"The default value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"entryTtl")," operational attribute, if an entry\nwas marked as a dynamic object using the ",(0,r.kt)("inlineCode",{parentName:"p"},"dynamicObject")," object class,\nbut the ",(0,r.kt)("inlineCode",{parentName:"p"},"entryTtl")," attribute was not supplied in the attributes of the\ncreated entry. This value is a non-negative number of seconds before the entry\nshould expire and disappear."),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc2589.html"},"IETF RFC 2589"),"."),(0,r.kt)("h2",{id:"meerkat_ecdh_curves"},"MEERKAT_ECDH_CURVES"),(0,r.kt)("p",null,"A colon-separated list of ECDH curves to use in ECDH key agreement. Each curve\ncan be an NID or name."),(0,r.kt)("h2",{id:"meerkat_enable_dap"},"MEERKAT_ENABLE_DAP"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", this disables Directory Access Protocol (DAP)."),(0,r.kt)("h2",{id:"meerkat_enable_dop"},"MEERKAT_ENABLE_DOP"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", this enables Directory Operational Binding Management Protocol\n(DOP)."),(0,r.kt)("h2",{id:"meerkat_enable_dsp"},"MEERKAT_ENABLE_DSP"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", this enables Directory System Protocol (DSP)."),(0,r.kt)("h2",{id:"meerkat_entries_per_subordinates_page"},"MEERKAT_ENTRIES_PER_SUBORDINATES_PAGE"),(0,r.kt)("p",null,"The number of entries that Meerkat DSA will load into memory at a time when\nsearching for a subordinate."),(0,r.kt)("p",null,"Meerkat DSA searches in order of ",(0,r.kt)("em",{parentName:"p"},"descending")," IDs of entries, with the theory\nbeing that larger IDs are entries that have been recently added, and recently\nadded entries are more likely to be requested than older entries. That said,\nthis can generally be set to a fairly low number for optimal results."),(0,r.kt)("h2",{id:"meerkat_forbid_anonymous_bind"},"MEERKAT_FORBID_ANONYMOUS_BIND"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", anonymous binds are declined entirely."),(0,r.kt)("h2",{id:"meerkat_honor_cipher_order"},"MEERKAT_HONOR_CIPHER_ORDER"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will attempt to use its own preferred TLS cipher\nsuites instead of the client's."),(0,r.kt)("h2",{id:"meerkat_idm_buffer_size"},"MEERKAT_IDM_BUFFER_SIZE"),(0,r.kt)("p",null,"The number of bytes in size of the IDM buffer. This innately limits the size\nof an IDM frame. This should be large enough to accomodate all well-intentioned\nrequests and responses, but small enough to prohibit nefariously large requests\nthat are intended to exhaust Meerkat DSA's memory."),(0,r.kt)("h2",{id:"meerkat_idm_port"},"MEERKAT_IDM_PORT"),(0,r.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for IDM\ntraffic."),(0,r.kt)("h2",{id:"meerkat_idms_port"},"MEERKAT_IDMS_PORT"),(0,r.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for IDMS\n(IDM over TLS) traffic."),(0,r.kt)("h2",{id:"meerkat_init_js"},"MEERKAT_INIT_JS"),(0,r.kt)("p",null,"If set, this is the filepath to an init script. At startup, Meerkat DSA will\nload this script and execute the default export or an export named ",(0,r.kt)("inlineCode",{parentName:"p"},"init"),", if\neither one exists."),(0,r.kt)("h2",{id:"meerkat_itot_abort_timeout_in_seconds"},"MEERKAT_ITOT_ABORT_TIMEOUT_IN_SECONDS"),(0,r.kt)("p",null,"The timeout after which the OSI session layer will automatically abort the\nsession connection in an ISO Transport Over TCP (ITOT) connection after not\nreceiving a response from the session peer."),(0,r.kt)("h2",{id:"meerkat_itot_acse_password"},"MEERKAT_ITOT_ACSE_PASSWORD"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Currently unused.")," Reserved for future support for ACSE-level authentication.\nThis is a fixed password that Meerkat DSA will require from ACSE initiators to\nestablish an ACSE association."),(0,r.kt)("h2",{id:"meerkat_itot_chaining"},"MEERKAT_ITOT_CHAINING"),(0,r.kt)("p",null,"By default, Meerkat DSA will chain requests to other DSAs that operate over\nISO Transport Over TCP (ITOT). This can pose some security risks, due to the\ncomplexity of the OSI networking protocols. To disable ITOT chaining, set this\nenvironment variable to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This may be desirable, since ITOT does ",(0,r.kt)("em",{parentName:"p"},"not")," provide point-to-point encryption\nand authentication like TLS. You may need to run ITOT traffic over a VPN or a\nTLS or SSH tunnel.")),(0,r.kt)("h2",{id:"meerkat_itot_max_nsdu_size"},"MEERKAT_ITOT_MAX_NSDU_SIZE"),(0,r.kt)("p",null,"The largest Network Service Data Unit (NSDU) that an ISO Transport Over TCP\n(ITOT) can buffer before being aborted or disconnected. In ISO Transport Over\nTCP (ITOT), this means the maximum size of TPKT packets, which are innately\nlimited to 65531 bytes."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"If this value is set too low, clients will not be able to send data to the\nconfigured DSA, or they will take an extremely long time to transmit. If this\nvalue is set too high, malicious clients will be able to send large payloads\nthat exhaust memory and/or compute on the DSA."),(0,r.kt)("p",{parentName:"admonition"},"This option should almost always be left alone, since TPKTs are innately limited\nto 65531 bytes in size.")),(0,r.kt)("h2",{id:"meerkat_itot_max_tpdu_size"},"MEERKAT_ITOT_MAX_TPDU_SIZE"),(0,r.kt)("p",null,"The largest Transport Protocol Data Unit (TPDU) that an ISO Transport Over TCP\n(ITOT) can transmit before being aborted or disconnected."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"If this value is set too low, clients will not be able to send data to the\nconfigured DSA, or they will take an extremely long time to transmit. If this\nvalue is set too high, malicious clients will be able to send large payloads\nthat exhaust memory and/or compute on the DSA."),(0,r.kt)("p",{parentName:"admonition"},"This option should almost always be left alone, since the ITU X.224 OSI\ntransport protocol used by the ITOT stack is limited in size by the maximum NSDU\nsize, which for ITOT, is 65531 bytes (the size limit of a TPKT).")),(0,r.kt)("h2",{id:"meerkat_itot_max_tsdu_size"},"MEERKAT_ITOT_MAX_TSDU_SIZE"),(0,r.kt)("p",null,"The largest Transport Service Data Unit (TSDU) that an ISO Transport Over TCP\n(ITOT) can buffer before being aborted or disconnected. This option defaults to\na sensible value and should generally not be changed unless there is a problem\nthat warrants it."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"If this value is set too low, clients will not be able to send data to the\nconfigured DSA, or they will take an extremely long time to transmit. If this\nvalue is set too high, malicious clients will be able to send large payloads\nthat exhaust memory and/or compute on the DSA.")),(0,r.kt)("h2",{id:"meerkat_itot_max_ssdu_size"},"MEERKAT_ITOT_MAX_SSDU_SIZE"),(0,r.kt)("p",null,"The largest Session Service Data Unit (SSDU) that an ISO Transport Over TCP\n(ITOT) can buffer before being aborted or disconnected. This option defaults to\na sensible value and should generally not be changed unless there is a problem\nthat warrants it."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"If this value is set too low, clients will not be able to send data to the\nconfigured DSA, or they will take an extremely long time to transmit. If this\nvalue is set too high, malicious clients will be able to send large payloads\nthat exhaust memory and/or compute on the DSA.")),(0,r.kt)("h2",{id:"meerkat_itot_max_presentation_contexts"},"MEERKAT_ITOT_MAX_PRESENTATION_CONTEXTS"),(0,r.kt)("p",null,"The maximum number of presentation contexts Meerkat DSA will tolerate in an\nITU X.226 OSI Presentation association when using ISO Transport Over TCP (ITOT).\nThis defaults to 10. If more than this many presentation contexts are proposed\nby a presentation peer, the presentation association will be refused."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This option exists to prevent denial-of-service attacks in which a large number\nof presentation contexts are presented.")),(0,r.kt)("h2",{id:"meerkat_itot_port"},"MEERKAT_ITOT_PORT"),(0,r.kt)("p",null,"The TCP port Meerkat DSA will listen on for ISO Transport Over TCP (ITOT)\ntraffic, as described in ",(0,r.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc1006"},"IETF RFC 1006"),".\nIf this is unset, Meerkat DSA will not listen for ITOT traffic."),(0,r.kt)("p",null,"Many legacy X.500 directory clients support ITOT."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"ISO Transport Over TCP (ITOT) does ",(0,r.kt)("strong",{parentName:"p"},"NOT")," provide point-to-point encryption or\npeer authentication like TLS does. This means that data sent over ITOT will be\nsent in clear text, meaning that ISPs, routers, and others will be able to snoop\non your directory traffic. If you expect to send traffic over untrusted\nnetworks, be sure to use VPNs, TLS tunnels, or SSH tunnels to encrypt and\nauthenticate data transmitted over the network."),(0,r.kt)("p",{parentName:"admonition"},"Meerkat DSA ",(0,r.kt)("em",{parentName:"p"},"does")," support ITOT over TLS via the\n",(0,r.kt)("a",{parentName:"p",href:"/directory/docs/env#meerkat_itots_port"},"MEERKAT_ITOTS_PORT")," configuration option, but most\nlegacy clients will not support this."),(0,r.kt)("p",{parentName:"admonition"},"To add to this, ISO Transport Over TCP (ITOT) is very complicated, because it\nentails another much more complicated networking stack operating over TCP/IP.\nBecause of its gigantic attack surface, it is strongly encouraged that you leave\nthis disabled unless you have a specific known need to support ITOT clients. IDM\ntransport should always be preferred.")),(0,r.kt)("h2",{id:"meerkat_itots_port"},"MEERKAT_ITOTS_PORT"),(0,r.kt)("p",null,"The TCP port Meerkat DSA will listen on for ISO Transport Over TCP (ITOT)\ntraffic, as described in ",(0,r.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc1006"},"IETF RFC 1006"),",\nbut encapsulated within TLS. If this is unset, Meerkat DSA will not listen for\nITOTS traffic."),(0,r.kt)("p",null,"Many legacy X.500 directory clients support ITOT, but no known legacy clients\nsupport ITOT over TLS."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"ISO Transport Over TCP (ITOT) is very complicated, because it\nentails another much more complicated networking stack operating over TCP/IP.\nBecause of its gigantic attack surface, it is strongly encouraged that you leave\nthis disabled unless you have a specific known need to support ITOT clients. IDM\ntransport should always be preferred, and IDMS even moreso.")),(0,r.kt)("h2",{id:"meerkat_lcr_parallelism"},"MEERKAT_LCR_PARALLELISM"),(0,r.kt)("p",null,"If greater than 1, Meerkat DSA will make parallel requests in the\nList Continuation Reference (LCR) procedure defined in\nITU Recommendation X.518 (2019), Section 20.4.2. This number\ndetermines the number of simultaneous chained list operations that\nMeerkat DSA will issue at a given time. If set to 0, 1, or some\nother non-sense number or non-number, Meerkat DSA will simply run\nall chained subrequests in series. More parallelism generally means\nthat the distributed list operation completes faster."),(0,r.kt)("p",null,"If this value is set too high, malicious users could issue requests\nthat propagate into so many outbound chained requests that the\nresponses act as a Distributed Denial-of-Service (DDoS)."),(0,r.kt)("p",null,"Despite this setting, Meerkat DSA will not use parallel requests\nunless the operation has priority set to ",(0,r.kt)("inlineCode",{parentName:"p"},"high"),"."),(0,r.kt)("h2",{id:"meerkat_ldap_buffer_size"},"MEERKAT_LDAP_BUFFER_SIZE"),(0,r.kt)("p",null,"The number of bytes in size of the LDAP buffer. This innately limits the size of\nan LDAP message. This should be large enough to accomodate all well-intentioned\nrequests and responses, but small enough to prohibit nefariously large requests\nthat are intended to exhaust Meerkat DSA's memory."),(0,r.kt)("h2",{id:"meerkat_ldap_port"},"MEERKAT_LDAP_PORT"),(0,r.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for LDAP\ntraffic."),(0,r.kt)("h2",{id:"meerkat_ldaps_port"},"MEERKAT_LDAPS_PORT"),(0,r.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for LDAPS\n(LDAP over TLS) traffic."),(0,r.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_ssl3"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_SSL3"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using SSLv3 to secure their traffic.'),(0,r.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_starttls"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_STARTTLS"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using StartTLS to secure their traffic.'),(0,r.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using any version of Transport Layer Security (TLS) to secure their\ntraffic.'),(0,r.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_0"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_0"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.0 to secure their traffic. These points are added\non top of the points granted via the\n',(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,r.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_1"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_1"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.1 to secure their traffic. These points are added\non top of the points granted via the\n',(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,r.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_2"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_2"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.2 to secure their traffic. These points are added\non top of the points granted via the\n',(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,r.kt)("h2",{id:"meerkat_local_qualifier_points_for_using_tls_1_3"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS_1_3"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" that Meerkat DSA grants to a client\nfor using TLS version 1.3 to secure their traffic. These points are added\non top of the points granted via the\n',(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOCAL_QUALIFIER_POINTS_FOR_USING_TLS")," environment variable."),(0,r.kt)("h2",{id:"meerkat_log_bound_dn"},"MEERKAT_LOG_BOUND_DN"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will log the distinguished names of bound clients, if\nthey have authenticated using a mechanism that relates to an entry in the DIT,\nsuch as simple authentication (as opposed to anonymous access)."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"It may be desirable to enable this for debugging integrations or for identifying\nbrute force attacks.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"It might ",(0,r.kt)("strong",{parentName:"p"},"NOT")," be desirable to enable this because doing so could have legal\nimplications. Meerkat DSA logs IP addresses. If Meerkat DSA also logs\ndistinguished names, and if distinguished names can readily be related to a real\nperson (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"C=US,ST=FL,CN=John Doe"),"), it could be argued that the logs are\nstoring Personally-Identifiable Information (PII), because the real person's IP\naddress is stored in the logs along with their identity."),(0,r.kt)("p",{parentName:"admonition"},"Consult with an attorney on the legality of using this. It may be safer to only\nenable this in corporate or home environments where no such right to privacy\nmay exist.")),(0,r.kt)("h2",{id:"meerkat_log_file"},"MEERKAT_LOG_FILE"),(0,r.kt)("p",null,"The filepath of the Meerkat DSA's log file. If set, Meerkat DSA will log to\nthis file."),(0,r.kt)("h2",{id:"meerkat_log_file_max_files"},"MEERKAT_LOG_FILE_MAX_FILES"),(0,r.kt)("p",null,"The maximum number of log files Meerkat DSA will produce before it deletes\nthe oldest one to make room for the newest one."),(0,r.kt)("p",null,"This has no effect if the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,r.kt)("h2",{id:"meerkat_log_file_max_size"},"MEERKAT_LOG_FILE_MAX_SIZE"),(0,r.kt)("p",null,"The maximum size (in bytes) of a log file before Meerkat DSA will start a new\nlog file."),(0,r.kt)("p",null,"This has no effect if the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,r.kt)("h2",{id:"meerkat_log_http"},"MEERKAT_LOG_HTTP"),(0,r.kt)("p",null,"If set to a URL, Meerkat DSA will POST log messages to this URL. This URL may\ncontain a username and password, which will make Meerkat DSA use HTTP basic\nauthentication."),(0,r.kt)("h2",{id:"meerkat_log_json"},"MEERKAT_LOG_JSON"),(0,r.kt)("p",null,"Setting this to ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," will cause log messages to be logged in JSON format instead\nof the default plain / human-friendly format. This can be useful if your logs\nare exported to an SIEM like LogRhythm, or an APM like DataDog or\nElasticSearch."),(0,r.kt)("h2",{id:"meerkat_log_level"},"MEERKAT_LOG_LEVEL"),(0,r.kt)("p",null,"This controls the logging level. Can be one of ",(0,r.kt)("inlineCode",{parentName:"p"},"debug"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"info"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"warn"),", or\n",(0,r.kt)("inlineCode",{parentName:"p"},"error"),". Log messages at or above the specified level will get logged; all\nothers will be silently discarded."),(0,r.kt)("h2",{id:"meerkat_log_tailable"},"MEERKAT_LOG_TAILABLE"),(0,r.kt)("p",null,"Setting this to ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," will...\njust read this: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/winstonjs/winston/blob/HEAD/docs/transports.md#file-transport"},"https://github.com/winstonjs/winston/blob/HEAD/docs/transports.md#file-transport"),"."),(0,r.kt)("p",null,"This has no effect if the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,r.kt)("h2",{id:"meerkat_log_zip"},"MEERKAT_LOG_ZIP"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will compress non-current log files."),(0,r.kt)("p",null,"This has no effect if the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_LOG_FILE")," environment variable is not set."),(0,r.kt)("h2",{id:"meerkat_lookup_uncert_strong_auth"},"MEERKAT_LOOKUP_UNCERT_STRONG_AUTH"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", a strong authentication attempt that does not provide\na certification path, but which ",(0,r.kt)("em",{parentName:"p"},"does")," provide a distinguished name in\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," field of the strong credentials, will result in Meerkat DSA\nreading the DSE of having the distinguished name ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," if it is present\nlocally, and, if it has object class ",(0,r.kt)("inlineCode",{parentName:"p"},"pkiCertPath")," and has attribute\nvalues of type ",(0,r.kt)("inlineCode",{parentName:"p"},"pkiPath"),", these values will be used as certification\npaths, and each will be tried until a certification path is found that\nverifies the bind token. If no such vindicating certification path is\nfound, Meerkat DSA rejects the authentication attempt. It is strongly\npreferred for clients to supply a certification path in the bind argument\nso that this lookup need not happen."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Enabling this opens up your Meerkat DSA instance to denial-of-service attacks.\nA particular lookup can be computationally expensive, and since a given user may\nhave an unlimited number of ",(0,r.kt)("inlineCode",{parentName:"p"},"pkiPath")," attribute values, this could result in a\npotentially unlimited number of certification path validations that must be done\nbefore your DSA accepts or rejects a strong authentication attempt."),(0,r.kt)("p",{parentName:"admonition"},"It is recommended to keep this disabled, unless the certification path\nitself is highly sensitive and should not be sent over the network, and\nthe potential threat of denial-of-service is controlled for.")),(0,r.kt)("p",null,"Enabling this can be useful if your users must not transmit their certification\npath over the network."),(0,r.kt)("h2",{id:"meerkat_max_concurrent_operations_per_connection"},"MEERKAT_MAX_CONCURRENT_OPERATIONS_PER_CONNECTION"),(0,r.kt)("p",null,"The number of maximum concurrent operations per connection. If a connection\nattempts more operations than this permits, they will be automatically\nrejected."),(0,r.kt)("h2",{id:"meerkat_max_connections"},"MEERKAT_MAX_CONNECTIONS"),(0,r.kt)("p",null,"The absolute maximum number of connections globally. Connections opened after\nthis maximum has been reached will be automatically closed."),(0,r.kt)("h2",{id:"meerkat_max_connections_per_address"},"MEERKAT_MAX_CONNECTIONS_PER_ADDRESS"),(0,r.kt)("p",null,"The absolute maximum number of connections permitted from a given address.\nConnections by a given address opened after this maximum has been reached will\nbe automatically closed. This is important for the prevention of\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Slowloris_(computer_security)"},"Slow Loris attacks"),"."),(0,r.kt)("h2",{id:"meerkat_max_idm_pdu_size"},"MEERKAT_MAX_IDM_PDU_SIZE"),(0,r.kt)("p",null,"The maximum size, in bytes, of an IDM PDU. IDM PDUs larger than this will be\nrejected automatically, possibly before they are even fully read."),(0,r.kt)("h2",{id:"meerkat_max_idm_segments"},"MEERKAT_MAX_IDM_SEGMENTS"),(0,r.kt)("p",null,"The maximum number of IDM segments into which an IDM client may split an IDM\nPDU. This is important for preventing a denial of service. Without this limit,\nnefarious IDM clients may submit an infinitely-large number of IDM segments and\nexhaust memory."),(0,r.kt)("h2",{id:"meerkat_max_pre_bind_requests"},"MEERKAT_MAX_PRE_BIND_REQUESTS"),(0,r.kt)("p",null,"ITU Recommendation X.519 permits clients to submit requests after the bind\nrequest has been submitted, but before the bind response or error has been\nreceived. Meerkat DSA can handle this, but it is important to limit the\nnumber of pre-bind requests so that unauthenticated users cannot flood the\nqueue with an unlimited number of pending requests and exhaust memory."),(0,r.kt)("p",null,"It is not a security vulnerability for this to be a number greater than zero,\nbut it should be a low number. It should probably not be higher than 10."),(0,r.kt)("h2",{id:"meerkat_min_auth_level_for_chaining"},"MEERKAT_MIN_AUTH_LEVEL_FOR_CHAINING"),(0,r.kt)("p",null,"The integer representation of the minimum authentication level required for\nMeerkat DSA to chain requests to other DSAs. This is a security feature to\nprevent unauthenticated (and therefore, unaccountable) users from spamming\nthe distributed directory with cumbersome (if not malicious) requests."),(0,r.kt)("p",null,'This is important, because chaining can have the effect of making a request\n"fan-out" to multiple DSAs. A nefarious request may multiply exponentially\nwithout this check in place.'),(0,r.kt)("p",null,"This defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", which corresponds to simple authentication, meaning that,\nto utilize chaining, a user must have authenticated using simple authentication\nor something stronger."),(0,r.kt)("p",null,"Possible values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0")," for no authentication / anonymous."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"1")," for simple authentication, which corresponds to any authentication\nmechanism using a password, regardless of whether that password is presented\nin plain text or with some form of hashing or encryption."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"2")," for strong authentication, which corresponds to Strong or SPKM authentication.")),(0,r.kt)("h2",{id:"meerkat_min_auth_level_for_ob"},"MEERKAT_MIN_AUTH_LEVEL_FOR_OB"),(0,r.kt)("p",null,"The integer representation of the minimum authentication level required for\nMeerkat DSA to accept DOP requests."),(0,r.kt)("p",null,"This defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", which corresponds to simple authentication, meaning that,\nto use DOP, a DSA must have authenticated using simple authentication\nor something stronger."),(0,r.kt)("p",null,"Possible values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0")," for no authentication / anonymous."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"1")," for simple authentication, which corresponds to any authentication\nmechanism using a password, regardless of whether that password is presented\nin plain text or with some form of hashing or encryption."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"2")," for strong authentication, which corresponds to Strong or SPKM authentication.")),(0,r.kt)("h2",{id:"meerkat_min_auth_local_qualifier_for_chaining"},"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_CHAINING"),(0,r.kt)("p",null,"The minimum ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" required (on top of the minimum\nauthentication level) for Meerkat DSA to chain requests to other DSAs.\nIf the minimum authentication level--as configured by the\n',(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_MIN_AUTH_LEVEL_FOR_CHAINING")," environment variable--is exceeded, this\ndoes not matter."),(0,r.kt)("p",null,'This is important, because chaining can have the effect of making a request\n"fan-out" to multiple DSAs. A nefarious request may multiply exponentially\nwithout this check in place.'),(0,r.kt)("h2",{id:"meerkat_min_auth_local_qualifier_for_ob"},"MEERKAT_MIN_AUTH_LOCAL_QUALIFIER_FOR_OB"),(0,r.kt)("p",null,"The minimum ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" required (on top of the minimum\nauthentication level) for Meerkat DSA to accept DOP requests.\nIf the minimum authentication level--as configured by the\n',(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_MIN_AUTH_LEVEL_FOR_OB")," environment variable--is exceeded, this\ndoes not matter."),(0,r.kt)("h2",{id:"meerkat_min_transfer_speed_bytes_per_minute"},"MEERKAT_MIN_TRANSFER_SPEED_BYTES_PER_MINUTE"),(0,r.kt)("p",null,"This specifies the minimum number of bytes a TCP connection is expected to\ntransfer within one minute. If the average number of bytes per minute falls\nbelow this number, the TCP socket is closed."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"This is important for the prevention of\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Slowloris_(computer_security)"},"Slow Loris attacks"),".")),(0,r.kt)("h2",{id:"meerkat_mru_vertex_ttl"},"MEERKAT_MRU_VERTEX_TTL"),(0,r.kt)("p",null,'The number of seconds (the "time to live" or "TTL") during which the most\nrecently used vertex remains cached in memory along with the connection.'),(0,r.kt)("p",null,'Meerkat DSA caches the most recently used (MRU) vertex in memory along with the\nassociation. This was implemented because users typically "statefully" navigate\nthe directory, like folders in a file system--they don\'t bounce around the DIT\nrandomly. Since there is a strong chance that the next operation a user performs\nwill be the last-used vertex or one of its subordinates, caching the most\nrecently used vertex can dramatically reduce the number of database queries and\nmake many operations extremely fast.'),(0,r.kt)("p",null,"However, these cached vertices MUST eventually expire, otherwise, users could\nhave out-of-date information or perform operations on entries to which they have\nhad their permissions revoked since the last operation."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"To be clear, use of the most recent vertex ",(0,r.kt)("strong",{parentName:"p"},"bypasses access controls"),",\nregarding ",(0,r.kt)("inlineCode",{parentName:"p"},"Browse")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"ReturnDN")," permissions. It is assumed that, if the user had\n",(0,r.kt)("inlineCode",{parentName:"p"},"Browse")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"ReturnDN")," permissions on the entry, say, three seconds ago, they\nstill do. This is a small abridgement of access controls made for the sake of\nextreme performance gains."),(0,r.kt)("p",{parentName:"admonition"},"Unless you are frequently modifying access controls, virtually any number should\nbe fine. The higher a higher cache TTL will give you better performance, but\nslower-to-react access controls and potential for data inconsistency."),(0,r.kt)("p",{parentName:"admonition"},"Note that the cached vertex lifespan is renewed on every operation, so if a user\nbrowses an entry, then you define access controls that prohibit that user from\ndiscovering that entry, the user can still discover it indefinitely for as long\nas they:"),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Remain associated"),(0,r.kt)("li",{parentName:"ol"},"Periodically rejuvenate this cache by performing an operation with this entry"),(0,r.kt)("li",{parentName:"ol"},"Do not perform any operation with any other entry on the same association"))),(0,r.kt)("p",null,"To disable this behavior entirely, set this to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),". Otherwise, this defaults to\n",(0,r.kt)("inlineCode",{parentName:"p"},"300")," (five minutes)."),(0,r.kt)("p",null,"The MRU vertex is cached whenever a ",(0,r.kt)("inlineCode",{parentName:"p"},"removeEntry")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"modifyDN")," operation is\nperformed, since these can invalidate the cache."),(0,r.kt)("h2",{id:"meerkat_my_access_point_nsaps"},"MEERKAT_MY_ACCESS_POINT_NSAPS"),(0,r.kt)("p",null,"Whitespace-separated NSAP URLs that locate this DSA. This is important for\nenabling other DSAs to chain requests to this DSA. These NSAP URLs are used to\npopulate the ",(0,r.kt)("inlineCode",{parentName:"p"},"myAccessPoint")," attribute in the Root DSE."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Do NOT include usernames and passwords in any URL\n(e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"https://username:password@example.com"),") you supply with this environment\nvariable. These URLs will be disclosed freely to all users regardless of\nauthentication or access control, so nothing sensitive should be included in\nthem at all.")),(0,r.kt)("h2",{id:"meerkat_no_color"},"MEERKAT_NO_COLOR"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not use colors in log outputs."),(0,r.kt)("h2",{id:"meerkat_no_console"},"MEERKAT_NO_CONSOLE"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not log to the console."),(0,r.kt)("h2",{id:"meerkat_no_timestamp"},"MEERKAT_NO_TIMESTAMP"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not include the timestamp in log messages."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Enabling this (thereby turning off timestamps in log messages) can make your\nlogs unusable, since you might not know when a particular concerning log event\nwas recorded. Unless you record log timestamps in some other manner, it is\nstrongly recommended that you do not enable this option.")),(0,r.kt)("h2",{id:"meerkat_ob_auto_accept"},"MEERKAT_OB_AUTO_ACCEPT"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA shall accept ALL requested operational bindings."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Your DSA is ",(0,r.kt)("strong",{parentName:"p"},"INSECURE")," if this is enabled. It means that your DSA will\nautomatically agree to:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Replicate an arbitrarily large amount of data"),(0,r.kt)("li",{parentName:"ul"},"Defer to any other DSA for chained operations"),(0,r.kt)("li",{parentName:"ul"},"Create any requested subtree within the DIT"))),(0,r.kt)("h2",{id:"meerkat_open_top_level"},"MEERKAT_OPEN_TOP_LEVEL"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not apply any access controls to adding new\nentries to the top level. Note that this does not negate access controls for\nalready-existing first-level DSEs."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This option being enabled reduces security of the system, because users can\narbitarily create new entries at the top level. Only enable this option if you\nwould not mind any connected user creating an arbitrarily large number of top\nlevel entries.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},'This is useful for testing purposes, because you can create "test subtrees"\nwithin a single DSA for the purposes of testing functionality in isolation from\nother tests.')),(0,r.kt)("h2",{id:"meerkat_private_key_engine"},"MEERKAT_PRIVATE_KEY_ENGINE"),(0,r.kt)("p",null,"This is an open-ended string that specifies the private key engine that\nOpenSSL can use to obtain a private key."),(0,r.kt)("h2",{id:"meerkat_prohibit_chaining"},"MEERKAT_PROHIBIT_CHAINING"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will not chain any requests. If you expect to operate\nyour DSA instance in isolation from all other DSAs, it is recommended to enable\nthis (meaning that chaining would be disabled)."),(0,r.kt)("h2",{id:"meerkat_remote_pwd_time_limit"},"MEERKAT_REMOTE_PWD_TIME_LIMIT"),(0,r.kt)("p",null,"The number of seconds before the remote password checking procedure (described\nin ",(0,r.kt)("a",{parentName:"p",href:"https://www.itu.int/rec/T-REC-X.511/en"},"ITU Recommendation X.511 (2019)"),",\nSection 10.2.7) times out. If this is set to 0, this procedure is never used."),(0,r.kt)("p",null,"This defaults to 0, meaning that this procedure is disabled by default."),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"It is strongly recommended to avoid enabling this feature unless the names\nof most or all entries in your DSA are NOT a secret. That is because a remote\npassword assertion will introduce significant latency into the bind operation,\nwhich can be used to oracle which entries exist."),(0,r.kt)("p",{parentName:"admonition"},"In other words, a nefarious\nuser could guess common relative distinguished names, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"CN=John Smith"),",\nand see if the bind response (or error) for that entry returns significantly\nfaster than a known non-existent entry (the nefarious user could just guess a\nrandom RDN, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"CN=qtuihqjoitjoqpoj1")," for this purpose) to determine whether\n",(0,r.kt)("inlineCode",{parentName:"p"},"CN=John Smith")," exists locally in that DSA, even if this nefarious user does not\nhave the proper permissions to discover that entry."),(0,r.kt)("p",{parentName:"admonition"},"If this feature is enabled, it is recommended that you increase the values of\nthe\n",(0,r.kt)("a",{parentName:"p",href:"#meerkat_bind_min_sleep_ms"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_BIND_MIN_SLEEP_MS"))," and\n",(0,r.kt)("a",{parentName:"p",href:"#meerkat_bind_sleep_range_ms"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_BIND_SLEEP_RANGE_MS"))," configuration\noptions, which will help to obscure when asserted credentials are chained to a\nremote DSA."),(0,r.kt)("p",{parentName:"admonition"},"In addition to the above concern, enabling this feature can slow down bind\noperations. If you are under regular brute-force attacks or are generally under\nresource strain, you may want to leave this feature disabled.")),(0,r.kt)("h2",{id:"meerkat_reveal_user_pwd"},"MEERKAT_REVEAL_USER_PWD"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will return non-zero-length ",(0,r.kt)("inlineCode",{parentName:"p"},"OCTET STRING"),"s in the\n",(0,r.kt)("inlineCode",{parentName:"p"},"encryptedString")," field of the ",(0,r.kt)("inlineCode",{parentName:"p"},"userPwd")," attribute's value. Meerkat DSA does\nnot store passwords unencrypted."),(0,r.kt)("p",null,"For reference, this is the ",(0,r.kt)("inlineCode",{parentName:"p"},"userPwd")," attribute's ASN.1 specification:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-asn1"},'\nuserPwd ATTRIBUTE ::= {\n  WITH SYNTAX              UserPwd\n  EQUALITY MATCHING RULE   userPwdMatch\n  SINGLE VALUE             TRUE\n  LDAP-SYNTAX              userPwdDescription.&id\n  LDAP-NAME                {"userPwd"}\n  ID                       id-at-userPwd }\n\nUserPwd ::= CHOICE {\n  clear                 UTF8String,\n  encrypted             SEQUENCE {\n    algorithmIdentifier   AlgorithmIdentifier{{SupportedAlgorithms}},\n    encryptedString       OCTET STRING,\n    ...},\n  ...}\n\n')),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Meerkat DSA does not do this by default because it could expose your users to\noffline dictionary attacks, which is an exponentially greater threat than\nautomated brute-force password guessing, because it can be done an order of\nmagnitude faster."),(0,r.kt)("p",{parentName:"admonition"},"If you enable this feature, attackers that have permissions to view values of\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"userPwd")," attribute can download / save those values and attempt rapid,\nrepeated guesses of the hashed password without the rate-limiting that Meerkat\nDSA imposes."),(0,r.kt)("p",{parentName:"admonition"},"It is recommended that you keep this disabled unless you know you need it for\nsome reason. If enabled, you should configure access controls to prevent\nunauthorized users from viewing values of the ",(0,r.kt)("inlineCode",{parentName:"p"},"userPwd")," attribute.")),(0,r.kt)("h2",{id:"meerkat_scr_parallelism"},"MEERKAT_SCR_PARALLELISM"),(0,r.kt)("p",null,"If greater than 1, Meerkat DSA will make parallel requests in the\nSearch Continuation Reference (SCR) procedure defined in\nITU Recommendation X.518 (2019), Section 20.4.3. This number\ndetermines the number of simultaneous chained search operations that\nMeerkat DSA will issue at a given time. If set to 0, 1, or some\nother non-sense number or non-number, Meerkat DSA will simply run\nall chained subrequests in series. More parallelism generally means\nthat the distributed search operation completes faster."),(0,r.kt)("p",null,"If this value is set too high, malicious users could issue requests\nthat propagate into so many outbound chained requests that the\nresponses act as a Distributed Denial-of-Service (DDoS)."),(0,r.kt)("p",null,"Despite this setting, Meerkat DSA will not use parallel requests\nunless the operation has priority set to ",(0,r.kt)("inlineCode",{parentName:"p"},"high"),"."),(0,r.kt)("h2",{id:"meerkat_scvp_attr_cert_checks"},"MEERKAT_SCVP_ATTR_CERT_CHECKS"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_attr_cert_want_backs"},"MEERKAT_SCVP_ATTR_CERT_WANT_BACKS"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_cached_response"},"MEERKAT_SCVP_CACHED_RESPONSE"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_disclose_ae_title"},"MEERKAT_SCVP_DISCLOSE_AE_TITLE"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_full_request_in_response"},"MEERKAT_SCVP_FULL_REQUEST_IN_RESPONSE"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_hash_algorithm"},"MEERKAT_SCVP_HASH_ALGORITHM"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_inhibit_any_policy"},"MEERKAT_SCVP_INHIBIT_ANY_POLICY"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_inhibit_policy_mapping"},"MEERKAT_SCVP_INHIBIT_POLICY_MAPPING"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_protect_response"},"MEERKAT_SCVP_PROTECT_RESPONSE"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_public_key_cert_checks"},"MEERKAT_SCVP_PUBLIC_KEY_CERT_CHECKS"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_public_key_cert_want_backs"},"MEERKAT_SCVP_PUBLIC_KEY_CERT_WANT_BACKS"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_requestor_text"},"MEERKAT_SCVP_REQUESTOR_TEXT"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_require_explicit_policy"},"MEERKAT_SCVP_REQUIRE_EXPLICIT_POLICY"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_response_validation_policy_by_ref"},"MEERKAT_SCVP_RESPONSE_VALIDATION_POLICY_BY_REF"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_signature_algorithm"},"MEERKAT_SCVP_SIGNATURE_ALGORITHM"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_url"},"MEERKAT_SCVP_URL"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_validation_algorithm_id"},"MEERKAT_SCVP_VALIDATION_ALGORITHM_ID"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_scvp_validation_policy_ref_id"},"MEERKAT_SCVP_VALIDATION_POLICY_REF_ID"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SCVP"},"Server-based Certificate Validation Protocol"),"\nis not currently supported in Meerkat DSA, so setting this environment variable\nwill have no effect. This is merely reserved for later use."),(0,r.kt)("h2",{id:"meerkat_sentinel_domain"},"MEERKAT_SENTINEL_DOMAIN"),(0,r.kt)("p",null,"This is a fully-qualified DNS name. If it contains a TXT record whose text is\n",(0,r.kt)("inlineCode",{parentName:"p"},"meerkat:kill"),", Meerkat DSA will exit as soon as it detects this. If this\nrecord's text is ",(0,r.kt)("inlineCode",{parentName:"p"},"meerkat:hibernate"),", Meerkat DSA will enter hibernation as\nsoon as it detects this."),(0,r.kt)("p",null,'This exists so that Meerkat DSA may be remotely shut down in the event that\na severe security vulnerability is discovered. It is a "remote killswitch."'),(0,r.kt)("h2",{id:"meerkat_signing_acceptable_cert_policies"},"MEERKAT_SIGNING_ACCEPTABLE_CERT_POLICIES"),(0,r.kt)("p",null,"A list of object identifiers of certificate policies that are acceptable for a\nX.509 certification path processing for certification paths used for signed arguments, results, or errors."),(0,r.kt)("p",null,"The value of this environment variable, if set, should be a comma-delimited list\nof period-delimited object identifiers of the acceptable certification\npolicies (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"1.2.3.4, 5.6.7.8"),"). Whitespace between object identifiers and\ncommas is tolerated."),(0,r.kt)("p",null,"If not set, any policy or no explicit policy will be considered acceptable for\nthe purposes of X.509 certification path processing."),(0,r.kt)("h2",{id:"meerkat_signing_bind_acceptable_cert_policies"},"MEERKAT_SIGNING_BIND_ACCEPTABLE_CERT_POLICIES"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_ACCEPTABLE_CERT_POLICIES"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_crl_dp_attempts_per_cert"},"MEERKAT_SIGNING_BIND_CRL_DP_ATTEMPTS_PER_CERT"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_CRL_DP_ATTEMPTS_PER_CERT"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_max_endpoints_per_crl_dp"},"MEERKAT_SIGNING_BIND_MAX_ENDPOINTS_PER_CRL_DP"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_MAX_ENDPOINTS_PER_CRL_DP"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_ocsp_checkiness"},"MEERKAT_SIGNING_BIND_OCSP_CHECKINESS"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_OCSP_CHECKINESS"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_ocsp_max_requests_per_cert"},"MEERKAT_SIGNING_BIND_OCSP_MAX_REQUESTS_PER_CERT"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_OCSP_MAX_REQUESTS_PER_CERT"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_ocsp_sign_requests"},"MEERKAT_SIGNING_BIND_OCSP_SIGN_REQUESTS"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_OCSP_SIGN_REQUESTS"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_ocsp_timeout"},"MEERKAT_SIGNING_BIND_OCSP_TIMEOUT"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_OCSP_TIMEOUT"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_ocsp_unknown_is_failure"},"MEERKAT_SIGNING_BIND_OCSP_UNKNOWN_IS_FAILURE"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_OCSP_UNKNOWN_IS_FAILURE"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_remote_crl_cache_ttl"},"MEERKAT_SIGNING_BIND_REMOTE_CRL_CACHE_TTL"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_REMOTE_CRL_CACHE_TTL"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_remote_crl_checkiness"},"MEERKAT_SIGNING_BIND_REMOTE_CRL_CHECKINESS"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_REMOTE_CRL_CHECKINESS"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_remote_crl_size_limit"},"MEERKAT_SIGNING_BIND_REMOTE_CRL_SIZE_LIMIT"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_REMOTE_CRL_SIZE_LIMIT"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_remote_crl_supported_protocols"},"MEERKAT_SIGNING_BIND_REMOTE_CRL_SUPPORTED_PROTOCOLS"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_REMOTE_CRL_SUPPORTED_PROTOCOLS"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_remote_crl_timeout"},"MEERKAT_SIGNING_BIND_REMOTE_CRL_TIMEOUT"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_REMOTE_CRL_TIMEOUT"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_bind_tolerate_unavailable_remote_crl"},"MEERKAT_SIGNING_BIND_TOLERATE_UNAVAILABLE_REMOTE_CRL"),(0,r.kt)("p",null,"This environment variable overrides the value of\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_TOLERATE_UNAVAILABLE_REMOTE_CRL"),"\nfor the bind operation for all application contexts / protocols."),(0,r.kt)("p",null,"In the case of DAP, DSP, DOP, and DISP, this governs the validation of the\nbind token used in strong authentication."),(0,r.kt)("h2",{id:"meerkat_signing_ca_file"},"MEERKAT_SIGNING_CA_FILE"),(0,r.kt)("p",null,"The filepath of the certificate authority certificates file to use for\nverifying signed arguments, results, and errors. This is NOT used for TLS; the\nTLS equivalent of this variable is ",(0,r.kt)("a",{parentName:"p",href:"#meerkattlscafile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_TLS_CA_FILE")),"."),(0,r.kt)("p",null,"The format of this file is the same as\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningcertschainfile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_CERTS_CHAIN_FILE")),", but there\nis no meaning imputed to the ordering of certificates in this file."),(0,r.kt)("p",null,"If this is unspecified, a default bundle of trust anchors that are built into\nthe NodeJS runtime (curated by Mozilla) are trusted. This is usually good\nenough for most use cases."),(0,r.kt)("p",null,"If this option ",(0,r.kt)("em",{parentName:"p"},"is")," specified, it does not ",(0,r.kt)("em",{parentName:"p"},"add")," to the default trust anchors\nmentioned above: it ",(0,r.kt)("em",{parentName:"p"},"overwrites")," them. That means that, if you want to add your\nown trust anchor, but still trust Mozilla's curated default trust anchors, you\nMUST obtain this bundle of certificates and add it to this file."),(0,r.kt)("p",null,"This option does ",(0,r.kt)("em",{parentName:"p"},"add")," to the trust anchors trusted with the\n",(0,r.kt)("a",{parentName:"p",href:"#meerkattrustanchorsfile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_TRUST_ANCHORS_FILE"))," file."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The reason that two configuration options exist for setting trust anchors is\nso that the more commonly used PEM format can be used, but the more extensible\nTrust Anchor List format can be used, if that is desired.")),(0,r.kt)("h2",{id:"meerkat_signing_certs_chain_file"},"MEERKAT_SIGNING_CERTS_CHAIN_FILE"),(0,r.kt)("p",null,"The filepath to a certificate chain to use for signing requests and responses\nfrom the DSA. This does not affect TLS and may be a totally different chain\nthan that used for TLS."),(0,r.kt)("p",null,"This file should have the same exact formatting as\n",(0,r.kt)("a",{parentName:"p",href:"#meerkattlscertfile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_TLS_CERT_FILE")),"."),(0,r.kt)("h2",{id:"meerkat_signing_crl_dp_attempts_per_cert"},"MEERKAT_SIGNING_CRL_DP_ATTEMPTS_PER_CERT"),(0,r.kt)("p",null,"The maximum number of CRL distribution points from which to attempt to fetch a\nremote CRL per a given X.509 certificate."),(0,r.kt)("p",null,"To limit the number of endpoints within a distribution point that get checked,\nsee\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningmaxendpointspercrldp"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_MAX_ENDPOINTS_PER_CRL_DP")),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"To clarify, a given X.509 certificate may have multiple CRL distribution points\nlisted. Each CRL distribution point may, in turn, have multiple endpoints.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This exists to prevent denial-of-service attacks by clients that present X.509\ncertificates that have an outrageously large number of CRL distribution points.")),(0,r.kt)("h2",{id:"meerkat_signing_crl_file"},"MEERKAT_SIGNING_CRL_FILE"),(0,r.kt)("p",null,"The filepath to the PEM-encoded certificate revocation list (CRL) file to use\nfor evaluating the status of certificates used for signed arguments, results,\nand errors."),(0,r.kt)("p",null,"There may be multiple CRLs concatenated together. There is no meaning imputed to\nthe ordering of CRLs in this file."),(0,r.kt)("p",null,"The file contents should look like this if you open them up in a text editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'-----BEGIN X509 CRL-----\n<Some base64-encoded data starting with "MII">\n-----END X509 CRL-----\n-----BEGIN X509 CRL-----\n<Some base64-encoded data starting with "MII">\n-----END X509 CRL-----\n-----BEGIN X509 CRL-----\n<Some base64-encoded data starting with "MII">\n-----END X509 CRL-----\n')),(0,r.kt)("h2",{id:"meerkat_signing_disable_verification"},"MEERKAT_SIGNING_DISABLE_VERIFICATION"),(0,r.kt)("p",null,"Whether no digital signatures should be checked at all. If this is set to\n",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", all digital signatures and certification paths will not be checked at all."),(0,r.kt)("p",null,"When used for bind operations using strong authentication, the signature\nwill always be treated as invalid. The rationale for this is that it\nprevents users from obtaining strong authentication with invalid\ncredentials. Users will be forced to use simple or lesser authentication."),(0,r.kt)("p",null,"For all other operations, signatures will simply be ignored, but requests\nmay be treated as signed for the purposes of validation."),(0,r.kt)("h2",{id:"meerkat_signing_errors_min_auth_level"},"MEERKAT_SIGNING_ERRORS_MIN_AUTH_LEVEL"),(0,r.kt)("p",null,"This overrides the value of\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningminauthlevel"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_MIN_AUTH_LEVEL")),",\nbut only for signed errors."),(0,r.kt)("h2",{id:"meerkat_signing_errors_min_auth_local_qualifier"},"MEERKAT_SIGNING_ERRORS_MIN_AUTH_LOCAL_QUALIFIER"),(0,r.kt)("p",null,"This overrides the value of\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningminauthlocalqualifier"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_MIN_AUTH_LOCAL_QUALIFIER")),",\nbut only for signed errors."),(0,r.kt)("h2",{id:"meerkat_signing_errors_min_auth_signed"},"MEERKAT_SIGNING_ERRORS_MIN_AUTH_SIGNED"),(0,r.kt)("p",null,"This overrides the value of\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningminauthsigned"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_MIN_AUTH_SIGNED")),",\nbut only for signed errors."),(0,r.kt)("h2",{id:"meerkat_signing_key_file"},"MEERKAT_SIGNING_KEY_FILE"),(0,r.kt)("p",null,"The filepath to the PEM-encoded PKCS #8-formatted private key to use for signing\narguments, results, and errors from this DSA. This does not affect TLS and may\nbe a totally different key than that used for TLS (which is configured via the\n",(0,r.kt)("a",{parentName:"p",href:"#meerkattlskeyfile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_TLS_KEY_FILE"))," environment variable)."),(0,r.kt)("p",null,"The file contents should look like this if you open them up in a text editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'-----BEGIN PRIVATE KEY-----\n<Some base64-encoded data starting with "MII">\n-----END PRIVATE KEY-----\n')),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This file is a secret key. Do not give it to anybody unless you are sure that\nthey should be able to impersonate / act on behalf of this Meerkat DSA instance.")),(0,r.kt)("h2",{id:"meerkat_signing_max_endpoints_per_crl_dp"},"MEERKAT_SIGNING_MAX_ENDPOINTS_PER_CRL_DP"),(0,r.kt)("p",null,"The maximum number of endpoints (URLs, directory names, etc.) to check within a\ngiven CRL distribution point listed on an X.509 certificate. This MUST be unset\nor an unsigned decimal integer."),(0,r.kt)("p",null,"To limit the number of distribution points checked, see\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningcrldpattemptspercert"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_CRL_DP_ATTEMPTS_PER_CERT")),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"To clarify, a given X.509 certificate may have multiple CRL distribution points\nlisted. Each CRL distribution point may, in turn, have multiple endpoints.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This exists to prevent denial-of-service attacks by clients present X.509\ncertificates that have an outrageously large number of endpoints listed in a\ngiven CRL distribution point.")),(0,r.kt)("h2",{id:"meerkat_signing_min_auth_level"},"MEERKAT_SIGNING_MIN_AUTH_LEVEL"),(0,r.kt)("p",null,"The integer representation of the minimum authentication level required for\nMeerkat DSA to sign results or errors to a client. If a client does not meet\nthis level of authentication, requests for signed results or errors will not\nbe honored; it will not result in an error if the client requests signed results\nor errors."),(0,r.kt)("p",null,"This is important, because digital signing can be computationally expensive, so\nit may be desirable to prevent anonymous users from overwhelming the directory\nwith unnecessary signing."),(0,r.kt)("p",null,"This defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", which corresponds to simple authentication, meaning that,\nto receive signed results or errors, a user must have authenticated using simple\nauthentication or something stronger."),(0,r.kt)("p",null,"Possible values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0")," for no authentication / anonymous."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"1")," for simple authentication, which corresponds to any authentication\nmechanism using a password, regardless of whether that password is presented\nin plain text or with some form of hashing or encryption."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"2")," for strong authentication, which corresponds to Strong or SPKM authentication.")),(0,r.kt)("p",null,"If a different setting is desired for errors only, consider setting the\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningerrorsminauthlevel"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_ERRORS_MIN_AUTH_LEVEL")),"\nenvironment variable to override this for errors."),(0,r.kt)("h2",{id:"meerkat_signing_min_auth_local_qualifier"},"MEERKAT_SIGNING_MIN_AUTH_LOCAL_QUALIFIER"),(0,r.kt)("p",null,"The minimum ",(0,r.kt)("inlineCode",{parentName:"p"},"localQualifier"),' "points" required (on top of the minimum\nauthentication level) for Meerkat DSA to sign results or errors for a given\nclient / association. This shall be a positive integer.'),(0,r.kt)("p",null,"If the minimum authentication level--as configured by the\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_SIGNING_MIN_AUTH_LEVEL")," environment variable--is exceeded, this value\ndoes not matter."),(0,r.kt)("p",null,"If a different setting is desired for errors only, consider setting the\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningerrorsminauthlocalqualifier"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_ERRORS_MIN_AUTH_LOCAL_QUALIFIER")),"\nenvironment variable to override this for errors."),(0,r.kt)("h2",{id:"meerkat_signing_min_auth_signed"},"MEERKAT_SIGNING_MIN_AUTH_SIGNED"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," a client association shall have signed arguments for a given\noperation in order to receive signed results or errors."),(0,r.kt)("p",null,"If a different setting is desired for errors only, consider setting the\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningerrorsminauthsigned"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_ERRORS_MIN_AUTH_SIGNED")),"\nenvironment variable to override this for errors."),(0,r.kt)("h2",{id:"meerkat_signing_ocsp_checkiness"},"MEERKAT_SIGNING_OCSP_CHECKINESS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," or unset, this DSA will not check with OCSP responders for the\nstatus of an asserted certificate used in producing signed arguments, results,\nor errors. If greater than zero, this DSA will check\nwith OCSP responders for the status of an asserted certificate (if an OCSP\nresponder is defined for that certificate)\n",(0,r.kt)("del",{parentName:"p"},"and cache the result for this value's number of seconds"),"."),(0,r.kt)("h2",{id:"meerkat_signing_ocsp_max_requests_per_cert"},"MEERKAT_SIGNING_OCSP_MAX_REQUESTS_PER_CERT"),(0,r.kt)("p",null,"The maximum number of OCSP responders to check with before giving up for a given\ncertificate. This MUST be an unsigned integer, or unset. If unset, this defaults\nto ",(0,r.kt)("inlineCode",{parentName:"p"},"3"),"."),(0,r.kt)("p",null,"This only applies to OCSP responses obtained in the verification of signed\narguments, results, and errors--not TLS peers. The equivalent of this\nconfiguration option for TLS peers is\n",(0,r.kt)("a",{parentName:"p",href:"#meerkattlsocspmaxrequestspercert"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_TLS_OCSP_MAX_REQUESTS_PER_CERT")),"."),(0,r.kt)("h2",{id:"meerkat_signing_ocsp_replay_window"},"MEERKAT_SIGNING_OCSP_REPLAY_WINDOW"),(0,r.kt)("p",null,"The number of seconds by which the OCSP ",(0,r.kt)("inlineCode",{parentName:"p"},"producedAt")," time and ",(0,r.kt)("inlineCode",{parentName:"p"},"thisUpdate"),"\ntime may differ from the current time before an OCSP response is\nconsidered invalid on the grounds of being a possible\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Replay_attack"},"replay attack"),"."),(0,r.kt)("p",null,"This only affects OCSP verification of signed arguments, results, or errors; the\nequivalent of this configuration option that controls OCSP verification for TLS\nis ",(0,r.kt)("a",{parentName:"p",href:"#meerkattlsocspreplaywindow"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_TLS_OCSP_REPLAY_WINDOW")),"."),(0,r.kt)("p",null,"An attacker's ability to replay an OCSP response is not too dangerous as long as\nthis threshold is low (in other words, the window is small). If the replay\nwindow is large, it means that, if an attacker can intercept your communication\nwith the OCSP responder, he can replay the OCSP response to illegitimately make\nit appear as though the certificate is still valid. If the replay window is too\nsmall, such as 1 second, then a slight variation in the OCSP responder's system\nclock could mean that Meerkat DSA rejects the response as a \"replay\" (speciously). This is like the ",(0,r.kt)("inlineCode",{parentName:"p"},"clockskew")," configuration option in MIT's\nKerberos implementation."),(0,r.kt)("p",null,"It is recommended that you leave this at the ",(0,r.kt)("strong",{parentName:"p"},"default value of 15 seconds"),"."),(0,r.kt)("h2",{id:"meerkat_signing_ocsp_response_size_limit"},"MEERKAT_SIGNING_OCSP_RESPONSE_SIZE_LIMIT"),(0,r.kt)("p",null,"The maximum size in bytes of OCSP responses. If an OCSP response is fetched and\nit exceeds this size, Meerkat DSA will cancel fetching it, and/or refuse to\ndecode it. This limit should NOT be considered exact."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This is important because OCSP requests can be configured to be submitted\nautomatically by Meerkat DSA to any endpoint listed on an X.509 certificate\npresented by a client / association. This prevents a malicious user from\npresenting Meerkat DSA with a malicious X.509 certificate that defers to a\nmaliciously-designed OCSP responder that responds with an exhaustively large\npayload that inundates this Meerkat DSA instance.")),(0,r.kt)("h2",{id:"meerkat_signing_ocsp_sign_requests"},"MEERKAT_SIGNING_OCSP_SIGN_REQUESTS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will use its signing key to digitally sign OCSP\nrequests issued to verify signed arguments, results, or errors, and present its\nsigning certificate chain to the OCSP responder."),(0,r.kt)("h2",{id:"meerkat_signing_ocsp_timeout"},"MEERKAT_SIGNING_OCSP_TIMEOUT"),(0,r.kt)("p",null,"The number of seconds for a given OCSP responder to respond before Meerkat DSA\nabandons the request. If set, this MUST be an unsigned decimal integer. This\nsetting only applies to the verification of signed arguments, results, and\nerrors; the equivalent setting for TLS is\n",(0,r.kt)("a",{parentName:"p",href:"#meerkattlsocsptimeout"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_TLS_OCSP_TIMEOUT")),"."),(0,r.kt)("h2",{id:"meerkat_signing_ocsp_unknown_is_failure"},"MEERKAT_SIGNING_OCSP_UNKNOWN_IS_FAILURE"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will treat OCSP responses that indicate that a\ncertificate's status is ",(0,r.kt)("inlineCode",{parentName:"p"},"unknown")," as a failure, as though the certificate was\n",(0,r.kt)("inlineCode",{parentName:"p"},"revoked"),". This only applies to verification of signed arguments, results, or\nerrors--not OCSP responses received via TLS."),(0,r.kt)("h2",{id:"meerkat_signing_permitted_algorithms"},"MEERKAT_SIGNING_PERMITTED_ALGORITHMS"),(0,r.kt)("p",null,"A comma-delimited list of dot-formatted object identifiers of signing algorithms\nthat are permitted for verifying signed arguments, results, and errors.\nWhitespace is tolerated between object identifiers and commas."),(0,r.kt)("p",null,"If specified, only the intersection of this list and Meerkat DSA's innately\nsupported signature algorithms will be tolerated in digital signatures. If not\nspecified, Meerkat will tolerate the use of any of its supported signature\nalgorithms."),(0,r.kt)("h2",{id:"meerkat_signing_remote_crl_cache_ttl"},"MEERKAT_SIGNING_REMOTE_CRL_CACHE_TTL"),(0,r.kt)("p",null,"The number of seconds during which a fetched remote CRL shall remain in the\ncache of remote CRLs. If set, this MUST be an unsigned decimal integer. If not\nset, this defaults to 300 (five minutes)."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This is important, because CRLs can be quite large, and downloading a CRL for\nevery single request can inundate Meerkat DSA (or any program, for that matter).")),(0,r.kt)("h2",{id:"meerkat_signing_remote_crl_checkiness"},"MEERKAT_SIGNING_REMOTE_CRL_CHECKINESS"),(0,r.kt)("p",null,"Determines how aggressively this DSA demands to check remote CRLs."),(0,r.kt)("p",null,"Possible values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0"),", meaning ",(0,r.kt)("em",{parentName:"li"},"never")," check remote CRLs."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"1"),", meaning ",(0,r.kt)("em",{parentName:"li"},"only")," check remote CRLs when the ",(0,r.kt)("inlineCode",{parentName:"li"},"cRLDistributionPoints"),' X.509v3\nextension is marked as "critical."'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"2"),", meaning ",(0,r.kt)("em",{parentName:"li"},"always")," check remote CRLs, even if the ",(0,r.kt)("inlineCode",{parentName:"li"},"cRLDistributionPoints"),"\nX.509v3 extension is ",(0,r.kt)("em",{parentName:"li"},"not"),' marked as "critical."')),(0,r.kt)("h2",{id:"meerkat_signing_remote_crl_size_limit"},"MEERKAT_SIGNING_REMOTE_CRL_SIZE_LIMIT"),(0,r.kt)("p",null,'The maximum size in bytes of remote CRLs. If a remote CRL is fetched and it\nexceeds this size, Meerkat DSA will cancel fetching it. This limit should NOT be considered exact. When used by LDAP, which can return multiple objects in\na single "fetch," the size limit applies to the entire response packet. When\nused by DAP, this applies per-attribute, but remote DSAs may ignore this.'),(0,r.kt)("h2",{id:"meerkat_signing_remote_crl_supported_protocols"},"MEERKAT_SIGNING_REMOTE_CRL_SUPPORTED_PROTOCOLS"),(0,r.kt)("p",null,'The protcols to be supported by remote CRL fetching, identified by their URL\nscheme equivalents, e.g. "http", "ftp", "ldaps", etc. If ',(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),", all\nsupported fetching protocols will be allowed. Protocols MUST be separated by\ncommas and optional whitespace."),(0,r.kt)("h2",{id:"meerkat_signing_remote_crl_timeout"},"MEERKAT_SIGNING_REMOTE_CRL_TIMEOUT"),(0,r.kt)("p",null,"The number of seconds for a given CRL distribution point to respond before\nMeerkat DSA abandons the request. If specified, this MUST be an unsigned decimal\ninteger. If unspecified, this defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"5")," (five seconds)."),(0,r.kt)("h2",{id:"meerkat_signing_required_for_chaining"},"MEERKAT_SIGNING_REQUIRED_FOR_CHAINING"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will NOT chain DAP operations that have not been\nsigned."),(0,r.kt)("h2",{id:"meerkat_signing_required_for_ob"},"MEERKAT_SIGNING_REQUIRED_FOR_OB"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will reject Directory Operational Binding Management\nProtocol (DOP) requests that are not signed."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This exists because operational binding management is an extremely\nsecurity-sensitive aspect of directory management. Requiring signing is a great\nway to prevent hacking attempts via malicious DOP requests.")),(0,r.kt)("h2",{id:"meerkat_signing_tolerate_unavailable_remote_crl"},"MEERKAT_SIGNING_TOLERATE_UNAVAILABLE_REMOTE_CRL"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", unavailable remote CRLs will not be treated as a failure for the\npurposes of certification path validation."),(0,r.kt)("h2",{id:"meerkat_tcp_no_delay"},"MEERKAT_TCP_NO_DELAY"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will disable Nagle's algorithm for TCP connections.\nThis exists as a slight performance enhancement. There is little reason to use\nthis."),(0,r.kt)("h2",{id:"meerkat_tcp_timeout_in_seconds"},"MEERKAT_TCP_TIMEOUT_IN_SECONDS"),(0,r.kt)("p",null,"The amount of time (in seconds) after receiving no bytes from the TCP socket\nafter which the TCP connection will be reset."),(0,r.kt)("h2",{id:"meerkat_tls_answer_ocsp_requests"},"MEERKAT_TLS_ANSWER_OCSP_REQUESTS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will answer OCSP requests submitted as a part of the\nTLS handshake."),(0,r.kt)("h2",{id:"meerkat_tls_ca_file"},"MEERKAT_TLS_CA_FILE"),(0,r.kt)("p",null,"The filepath of the certificate authority certificates file to use for TLS. This\nis used both for validating TLS clients that connect to Meerkat DSA and TLS\nservers to which Meerkat DSA connects as a client (such as in chained\noperations)."),(0,r.kt)("p",null,"The format of this file is the same as ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_TLS_CERT_FILE"),", but there is no\nmeaning imputed to the ordering of certificates in this file."),(0,r.kt)("p",null,"If this is unspecified, a default bundle of trust anchors that are built into\nthe NodeJS runtime (curated by Mozilla) are trusted. This is usually good\nenough for most use cases."),(0,r.kt)("p",null,"If this option ",(0,r.kt)("em",{parentName:"p"},"is")," specified, it does not ",(0,r.kt)("em",{parentName:"p"},"add")," to the default trust anchors\nmentioned above: it ",(0,r.kt)("em",{parentName:"p"},"overwrites")," them. That means that, if you want to add your\nown trust anchor, but still trust Mozilla's curated default trust anchors, you\nMUST obtain this bundle of certificates and add it to this file."),(0,r.kt)("p",null,"This does not affect the verification of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningcafile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_CA_FILE")),"."),(0,r.kt)("h2",{id:"meerkat_tls_cert_file"},"MEERKAT_TLS_CERT_FILE"),(0,r.kt)("p",null,"The filepath of the PEM-encoded X.509 certificate chain to use for TLS. The\ncerts should be ordered by ascending authority: in other words, the certificate\nauthority / trust anchor certificate should be closest to the ",(0,r.kt)("em",{parentName:"p"},"bottom")," of the\nfile and the end-entity certificate (used directly by Meerkat DSA) should be\nclosest to the ",(0,r.kt)("em",{parentName:"p"},"top")," of the file."),(0,r.kt)("p",null,"The file contents should look like this if you open them up in a text editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'-----BEGIN CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n<Some base64-encoded data starting with "MII">\n-----END CERTIFICATE-----\n')),(0,r.kt)("p",null,"This does not affect the production of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningcertschainfile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_CERTS_CHAIN_FILE")),"."),(0,r.kt)("h2",{id:"meerkat_tls_ciphers"},"MEERKAT_TLS_CIPHERS"),(0,r.kt)("p",null,"The OpenSSL-formatted cipher list to use for TLS."),(0,r.kt)("h2",{id:"meerkat_tls_client_cert_auth"},"MEERKAT_TLS_CLIENT_CERT_AUTH"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will demand client certificate authentication to\nestablish a TLS socket with a client."),(0,r.kt)("p",null,"Note that there is little point to enabling this if non-TLS versions of the\ndirectory protocols are enabled."),(0,r.kt)("h2",{id:"meerkat_tls_crl_file"},"MEERKAT_TLS_CRL_FILE"),(0,r.kt)("p",null,"The filepath to the PEM-encoded certificate revocation list (CRL) file to use\nfor evaluating the status of TLS client certificates. There may be multiple\nCRLs concatenated together. There is no meaning imputed to the ordering of CRLs\nin this file."),(0,r.kt)("p",null,"The file contents should look like this if you open them up in a text editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'-----BEGIN X509 CRL-----\n<Some base64-encoded data starting with "MII">\n-----END X509 CRL-----\n-----BEGIN X509 CRL-----\n<Some base64-encoded data starting with "MII">\n-----END X509 CRL-----\n-----BEGIN X509 CRL-----\n<Some base64-encoded data starting with "MII">\n-----END X509 CRL-----\n')),(0,r.kt)("p",null,"This does not affect the verification of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningcrlfile"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_CRL_FILE")),"."),(0,r.kt)("h2",{id:"meerkat_tls_dh_param_file"},"MEERKAT_TLS_DH_PARAM_FILE"),(0,r.kt)("p",null,"The filepath to the Diffie-Hellman parameters to use to enable Perfect Forward\nSecrecy (PFS)."),(0,r.kt)("h2",{id:"meerkat_tls_handshake_timeout_in_seconds"},"MEERKAT_TLS_HANDSHAKE_TIMEOUT_IN_SECONDS"),(0,r.kt)("p",null,"The number of seconds before completing the handshake after which a TLS socket\nwill be closed."),(0,r.kt)("h2",{id:"meerkat_tls_key_file"},"MEERKAT_TLS_KEY_FILE"),(0,r.kt)("p",null,"The filepath to the PEM-encoded PKCS #8-formatted private key to use for TLS."),(0,r.kt)("p",null,"The file contents should look like this if you open them up in a text editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'-----BEGIN PRIVATE KEY-----\n<Some base64-encoded data starting with "MII">\n-----END PRIVATE KEY-----\n')),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This file is a secret key. Do not give it to anybody unless you are sure that\nthey should be able to impersonate / act on behalf of this Meerkat DSA instance.")),(0,r.kt)("p",null,"This does not affect the production of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningkey"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_KEY")),"."),(0,r.kt)("h2",{id:"meerkat_tls_key_passphrase"},"MEERKAT_TLS_KEY_PASSPHRASE"),(0,r.kt)("p",null,"The password to use to decrypt the private key to use for TLS."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This value is a secret. Do not give it to anybody unless you are sure that\nthey should be able to impersonate / act on behalf of this Meerkat DSA instance.")),(0,r.kt)("h2",{id:"meerkat_tls_max_version"},"MEERKAT_TLS_MAX_VERSION"),(0,r.kt)("p",null,"The maximum TLS version supported as a string. Possible values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1.3")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1.2")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1.1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1"))),(0,r.kt)("h2",{id:"meerkat_tls_min_version"},"MEERKAT_TLS_MIN_VERSION"),(0,r.kt)("p",null,"The minimum TLS version supported. Possible values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1.3")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1.2")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1.1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TLSv1"))),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Avoid setting this value to ",(0,r.kt)("inlineCode",{parentName:"p"},"TLSv1.1")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"TLSv1")," unless absolutely necessary.\nThese versions of TLS are much less secure. (Though, still better than no\nTLS at all.)")),(0,r.kt)("h2",{id:"meerkat_tls_ocsp_checkiness"},"MEERKAT_TLS_OCSP_CHECKINESS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," or unset, this DSA will not check with OCSP responders for the\nstatus of an asserted certificate used in TLS. If greater than zero, this DSA\nwill check with OCSP responders for the status of an asserted certificate (if an\nOCSP responder is defined for that certificate)\n",(0,r.kt)("del",{parentName:"p"},"and cache the result for this value's number of seconds"),"."),(0,r.kt)("p",null,"This does not affect the verification of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningocspcheckiness"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_OCSP_CHECKINESS")),"."),(0,r.kt)("h2",{id:"meerkat_tls_ocsp_max_requests_per_cert"},"MEERKAT_TLS_OCSP_MAX_REQUESTS_PER_CERT"),(0,r.kt)("p",null,"The maximum number of OCSP responders to check with before giving up for a given\ncertificate. This MUST be an unsigned integer, or unset. If unset, this defaults\nto ",(0,r.kt)("inlineCode",{parentName:"p"},"3"),"."),(0,r.kt)("p",null,"This only applies to OCSP responses obtained in the verification TLS peers--not\nsigned arguments, results, or errors. The equivalent of this\nconfiguration option for signed arguments, results, or errors is\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningocspmaxrequestspercert"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_OCSP_MAX_REQUESTS_PER_CERT")),"."),(0,r.kt)("h2",{id:"meerkat_tls_ocsp_replay_window"},"MEERKAT_TLS_OCSP_REPLAY_WINDOW"),(0,r.kt)("p",null,"The number of seconds by which the OCSP ",(0,r.kt)("inlineCode",{parentName:"p"},"producedAt")," time and ",(0,r.kt)("inlineCode",{parentName:"p"},"thisUpdate"),"\ntime may differ from the current time before an OCSP response is\nconsidered invalid on the grounds of being a possible\n",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Replay_attack"},"replay attack"),"."),(0,r.kt)("p",null,"This only affects OCSP verification for TLS and does not affect OCSP\nverification for signed arguments, results, or errors; that is controlled by\nthe ",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningocspreplaywindow"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_OCSP_REPLAY_WINDOW"))," configuration option."),(0,r.kt)("p",null,"An attacker's ability to replay an OCSP response is not too dangerous as long as\nthis threshold is low (in other words, the window is small). If the replay\nwindow is large, it means that, if an attacker can intercept your communication\nwith the OCSP responder, he can replay the OCSP response to illegitimately make\nit appear as though the certificate is still valid. If the replay window is too\nsmall, such as 1 second, then a slight variation in the OCSP responder's system\nclock could mean that Meerkat DSA rejects the response as a \"replay\" (speciously). This is like the ",(0,r.kt)("inlineCode",{parentName:"p"},"clockskew")," configuration option in MIT's\nKerberos implementation."),(0,r.kt)("p",null,"It is recommended that you leave this at the ",(0,r.kt)("strong",{parentName:"p"},"default value of 15 seconds"),"."),(0,r.kt)("h2",{id:"meerkat_tls_ocsp_response_size_limit"},"MEERKAT_TLS_OCSP_RESPONSE_SIZE_LIMIT"),(0,r.kt)("p",null,"The maximum size in bytes of OCSP responses. If an OCSP response is fetched and\nit exceeds this size, Meerkat DSA will cancel fetching it, and/or refuse to\ndecode it. This limit should NOT be considered exact."),(0,r.kt)("p",null,"This only affects OCSP verification for TLS and does not affect OCSP\nverification for signed arguments, results, or errors; that is controlled by\nthe ",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningocspresponsesizelimit"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_OCSP_RESPONSE_SIZE_LIMIT"))," configuration option."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This is important because OCSP requests can be configured to be submitted\nautomatically by Meerkat DSA to any endpoint listed on an X.509 certificate\npresented by a client / association. This prevents a malicious user from\npresenting Meerkat DSA with a malicious X.509 certificate that defers to a\nmaliciously-designed OCSP responder that responds with an exhaustively large\npayload that inundates this Meerkat DSA instance.")),(0,r.kt)("h2",{id:"meerkat_tls_ocsp_sign_requests"},"MEERKAT_TLS_OCSP_SIGN_REQUESTS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will use its signing key to digitally sign OCSP\nrequests issued in relation to TLS, and present its\nsigning certificate chain to the OCSP responder."),(0,r.kt)("p",null,"This does not affect the verification of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningocspsignrequests"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_OCSP_SIGN_REQUESTS")),"."),(0,r.kt)("h2",{id:"meerkat_tls_ocsp_timeout"},"MEERKAT_TLS_OCSP_TIMEOUT"),(0,r.kt)("p",null,"The number of seconds for a given OCSP responder to respond before Meerkat DSA\nabandons the request. If set, this MUST be an unsigned decimal integer."),(0,r.kt)("p",null,"This does not affect the verification of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningocsptimeout"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_OCSP_TIMEOUT")),"."),(0,r.kt)("h2",{id:"meerkat_tls_ocsp_unknown_is_failure"},"MEERKAT_TLS_OCSP_UNKNOWN_IS_FAILURE"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will treat OCSP responses that indicate that a\ncertificate's status is ",(0,r.kt)("inlineCode",{parentName:"p"},"unknown")," as a failure, as though the certificate was\n",(0,r.kt)("inlineCode",{parentName:"p"},"revoked"),". This only applies to verification OCSP responses received via TLS and\ndoes not affect the verification of signed arguments, results, or errors."),(0,r.kt)("p",null,"This does not affect the verification of signed arguments, results, or errors;\nthe equivalent of this environment variable that affects signing is:\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatsigningocspunknownisfailure"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_SIGNING_OCSP_UNKNOWN_IS_FAILURE")),"."),(0,r.kt)("h2",{id:"meerkat_tls_pfx_file"},"MEERKAT_TLS_PFX_FILE"),(0,r.kt)("p",null,"The filepath to a PFX / PKCS #12 file to use for TLS."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This is a security-sensitive file that contains both your X.509 certificate\nchain as well as your private key. Do NOT give this file to anybody that should\nnot be able to impersonate / act on behalf of this Meerkat DSA instance.")),(0,r.kt)("h2",{id:"meerkat_tls_reject_unauthorized_clients"},"MEERKAT_TLS_REJECT_UNAUTHORIZED_CLIENTS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will refuse to establish a TLS session with a\nclient that does not present a valid X.509 certification path that can be trusted\naccording to the trust anchors defined in the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_TLS_CA_FILE")," file. This\nis used to enable TLS client certificate authentication, otherwise known as\nMutual TLS (mTLS). This defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", meaning that it will be disabled."),(0,r.kt)("h2",{id:"meerkat_tls_reject_unauthorized_servers"},"MEERKAT_TLS_REJECT_UNAUTHORIZED_SERVERS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", Meerkat DSA will NOT refuse to establish a TLS session with a\nserver that does not present a valid X.509 certification path that can be trusted\naccording to the trust anchors defined in the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_TLS_CA_FILE")," file. This\ndefaults to enabled, meaning that the identities of TLS servers will be checked\nas is usually expected from TLS."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"It is a security vulnerability to set this to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", because Meerkat DSA will not\ncheck the identities of peers that it connects to over TLS!")),(0,r.kt)("h2",{id:"meerkat_tls_request_ocsp"},"MEERKAT_TLS_REQUEST_OCSP"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),", Meerkat DSA will request OCSP stapling from TLS peers to which\nit acts as a client and validate the stapled OCSP responses, if present. This\napplies to both TLS clients and TLS servers."),(0,r.kt)("h2",{id:"meerkat_tls_session_timeout_in_seconds"},"MEERKAT_TLS_SESSION_TIMEOUT_IN_SECONDS"),(0,r.kt)("p",null,"The time after which a TLS session will expire and a TLS client will have to\nnegotiate a new pre-master secret."),(0,r.kt)("h2",{id:"meerkat_tls_sig_algs"},"MEERKAT_TLS_SIG_ALGS"),(0,r.kt)("p",null,"Colon-separated list of supported signature algorithms. The list can contain\ndigest algorithms (SHA256, MD5 etc.), public key algorithms (RSA-PSS, ECDSA\netc.), combination of both (e.g 'RSA+SHA384') or TLS v1.3 scheme names (e.g.\nrsa_pss_pss_sha512)."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"I copied the above from the NodeJS documentation.")),(0,r.kt)("h2",{id:"meerkat_transcode_distinguished_values_to_der"},"MEERKAT_TRANSCODE_DISTINGUISHED_VALUES_TO_DER"),(0,r.kt)("p",null,"Currently unused."),(0,r.kt)("h2",{id:"meerkat_transcode_values_to_der"},"MEERKAT_TRANSCODE_VALUES_TO_DER"),(0,r.kt)("p",null,"Currently unused."),(0,r.kt)("h2",{id:"meerkat_trust_anchors_file"},"MEERKAT_TRUST_ANCHORS_FILE"),(0,r.kt)("p",null,"The filepath of the Trust Anchor List file. See\n",(0,r.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc5914"},"IETF RFC 5914"),". This file\ncontains information on the trust anchors to be used for verifying\nsigned arguments, results, and errors."),(0,r.kt)("p",null,"The trust anchor list shall be encapsulated in a Cryptographic Message Syntax\n(CMS) message. It does not need to be the top-level object, however. It can be\nnested within authenticated data, signed data, or digested data objects, as\ndefined in ",(0,r.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc5652"},"IETF RFC 5652"),"."),(0,r.kt)("p",null,"This file may also be PEM-encoded. The PEM label must be ",(0,r.kt)("inlineCode",{parentName:"p"},"TRUST ANCHOR LIST"),",\nsuch that the file looks like this when opened in a text editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"-----BEGIN TRUST ANCHOR LIST-----\n<Some base64-encoded data>\n-----END TRUST ANCHOR LIST-----\n")),(0,r.kt)("p",null,"This file is NOT used for verifying TLS peers."),(0,r.kt)("h2",{id:"meerkat_use_database_when_there_are_x_subordinates"},"MEERKAT_USE_DATABASE_WHEN_THERE_ARE_X_SUBORDINATES"),(0,r.kt)("p",null,"Even if subordinates are cached in memory, Meerkat DSA will directly query the\ndatabase to find a specific subordinate instead of iterating through the\nin-memory entries when there are more than this many subordinates in memory."),(0,r.kt)("h2",{id:"meerkat_vendor_name"},"MEERKAT_VENDOR_NAME"),(0,r.kt)("p",null,"Overrides the name of the vendor of this DSA, which is displayed in the root DSE\nas the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorName")," attribute. If this is unset, the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorName"),' attribute will\nread "Wildboar Software" regardless of the server\'s locale or language settings.'),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Revealing that you are using a Meerkat DSA instance may make it easier for\nmalicious users to profile your DSA in cyberattack attempts. For instance, if it\nis known that there is a new security vulnerability in Meerkat DSA, malicious\nusers may search for DSAs whose ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorName")," attribute indicates that the DSA\nis made by Wildboar Software. To disable the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorName")," from displaying that\nthis DSA is made by Wildboar Software, set the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_VENDOR_NAME")," environment\nvariable to an empty string (",(0,r.kt)("inlineCode",{parentName:"p"},'""'),").")),(0,r.kt)("p",null,"The benefit of not disabling this is that, if there are bugs in how Meerkat DSA\n(or a given version of it) is implemented, clients can use this version\ninformation for possible workarounds. Minor discrepancies in implementation can\nbe handled by clients when the vendor name and version can be discovered."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_VENDOR_NAME")," to an empty string will also disable the\ndisplay of the vendor version, since it is assumed that desire for secrecy of\nthe vendor version implies a desire for secrecy of the vendor version as well.\nThe reverse is ",(0,r.kt)("em",{parentName:"p"},"not")," true; it may be acceptable to disclose the vendor name, but\nnot the specific version number."),(0,r.kt)("p",{parentName:"admonition"},"Even still, administrators ",(0,r.kt)("em",{parentName:"p"},"SHOULD")," set ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_VENDOR_VERSION")," to an empty\nstring if version privacy is desired, since this behavior may change in the\nfuture.")),(0,r.kt)("h2",{id:"meerkat_vendor_version"},"MEERKAT_VENDOR_VERSION"),(0,r.kt)("p",null,"Overrides the reported version of this DSA, which is displayed in the root DSE\nas the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorVersion")," attribute. If this is unset, the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorVersion"),'\nattribute will read "Meerkat DSA, Version X.X.X", where "X.X.X" is the version\nnumber, regardless of the server\'s locale or language settings. Everything said\nin this section is also true for the similar ',(0,r.kt)("inlineCode",{parentName:"p"},"fullVendorVersion")," attribute used\nby OpenDJ."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Revealing that you are using a specific version of Meerkat DSA instance may make\nit easier for malicious users to profile your DSA in cyberattack attempts. For\ninstance, if it is known that there is a new security vulnerability in Meerkat\nDSA, malicious users may search for DSAs whose ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorVersion")," attribute\nindicates that the DSA is still susceptible to the security vulnerability. To\ndisable the ",(0,r.kt)("inlineCode",{parentName:"p"},"vendorName")," from displaying the version, set the\n",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_VENDOR_VERSION")," environment variable to an empty string (",(0,r.kt)("inlineCode",{parentName:"p"},'""'),").")),(0,r.kt)("p",null,"The benefit of not disabling this is that, if there are bugs in how Meerkat DSA\n(or a given version of it) is implemented, clients can use this version\ninformation for possible workarounds. Minor discrepancies in implementation can\nbe handled by clients when the vendor name and version can be discovered."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_VENDOR_NAME")," to an empty string will also disable the\ndisplay of the vendor version, since it is assumed that desire for secrecy of\nthe vendor version implies a desire for secrecy of the vendor version as well.\nThe reverse is ",(0,r.kt)("em",{parentName:"p"},"not")," true; it may be acceptable to disclose the vendor name, but\nnot the specific version number."),(0,r.kt)("p",{parentName:"admonition"},"Even still, administrators ",(0,r.kt)("em",{parentName:"p"},"SHOULD")," set ",(0,r.kt)("inlineCode",{parentName:"p"},"MEERKAT_VENDOR_VERSION")," to an empty\nstring if version privacy is desired, since this behavior may change in the\nfuture.")),(0,r.kt)("h2",{id:"meerkat_web_admin_auth_username"},"MEERKAT_WEB_ADMIN_AUTH_USERNAME"),(0,r.kt)("p",null,"If set, this is the username that the web admin console will expect as part of\nHTTP basic authentication."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"HTTP Basic Authentication will only be enabled if both the\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatwebadminauthusername"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_WEB_ADMIN_AUTH_USERNAME"))," and\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatwebadminauthpassword"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_WEB_ADMIN_AUTH_PASSWORD"))," environment\nvariables are set.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"HTTP Basic Authentication transmits your username and password in the clear\n(without encryption). This means that you should secure your communication with\nthe web admin console by ensuring that\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatwebadminusetls"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_WEB_ADMIN_USE_TLS"))," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," and that\n",(0,r.kt)("a",{parentName:"p",href:"/directory/docs/tls"},"TLS is configured")," (otherwise, the former environment variable will\nhave no effect). Otherwise, intermediaries may be able to sniff your password."),(0,r.kt)("p",{parentName:"admonition"},"Since this password is not well-protected, it is highly recommended that you\nalso ensure that this password is not used for any other services. This password\nshould be unique to Meerkat DSA's web admin console, and not used as the\npassword for any entry in your DSA.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Using passwords in general is vastly inferior to TLS client certificate\nauthentication. HTTP Basic Authentication was implemented in Meerkat DSA so that\nadmininstrators could have a modicum of security with little upfront setup, but\nit is ",(0,r.kt)("strong",{parentName:"p"},"highly recommended")," that administrators configure a secure reverse\nproxy, such as Nginx, Caddy, or Apache, to use TLS client certificate\nauthentication, rather than relying on the security of a password. Even better\nyet, the web admin console should only be accessible behind a VPN, or have some\nkind of network access controls to prevent users from accessing it entirely.")),(0,r.kt)("h2",{id:"meerkat_web_admin_auth_password"},"MEERKAT_WEB_ADMIN_AUTH_PASSWORD"),(0,r.kt)("p",null,"If set, this is the password that the web admin console will expect as part of\nHTTP basic authentication."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"HTTP Basic Authentication will only be enabled if both the\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatwebadminauthusername"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_WEB_ADMIN_AUTH_USERNAME"))," and\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatwebadminauthpassword"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_WEB_ADMIN_AUTH_PASSWORD"))," environment\nvariables are set.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"HTTP Basic Authentication transmits your username and password in the clear\n(without encryption). This means that you should secure your communication with\nthe web admin console by ensuring that\n",(0,r.kt)("a",{parentName:"p",href:"#meerkatwebadminusetls"},(0,r.kt)("inlineCode",{parentName:"a"},"MEERKAT_WEB_ADMIN_USE_TLS"))," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," and that\n",(0,r.kt)("a",{parentName:"p",href:"/directory/docs/tls"},"TLS is configured")," (otherwise, the former environment variable will\nhave no effect). Otherwise, intermediaries may be able to sniff your password."),(0,r.kt)("p",{parentName:"admonition"},"Since this password is not well-protected, it is highly recommended that you\nalso ensure that this password is not used for any other services. This password\nshould be unique to Meerkat DSA's web admin console, and not used as the\npassword for any entry in your DSA.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Using passwords in general is vastly inferior to TLS client certificate\nauthentication. HTTP Basic Authentication was implemented in Meerkat DSA so that\nadmininstrators could have a modicum of security with little upfront setup, but\nit is ",(0,r.kt)("strong",{parentName:"p"},"highly recommended")," that administrators configure a secure reverse\nproxy, such as Nginx, Caddy, or Apache, to use TLS client certificate\nauthentication, rather than relying on the security of a password. Even better\nyet, the web admin console should only be accessible behind a VPN, or have some\nkind of network access controls to prevent users from accessing it entirely.")),(0,r.kt)("h2",{id:"meerkat_web_admin_auth_realm"},"MEERKAT_WEB_ADMIN_AUTH_REALM"),(0,r.kt)("p",null,"If set, this is the realm that the web admin console will expect as part of\nHTTP basic authentication."),(0,r.kt)("p",null,"This has no effect other than controlling the realm displayed to the end user.\n(If it is displayed at all.)"),(0,r.kt)("h2",{id:"meerkat_web_admin_port"},"MEERKAT_WEB_ADMIN_PORT"),(0,r.kt)("p",null,"If set, this names a TCP port on which Meerkat DSA listens locally for the\nweb admin console."),(0,r.kt)("h2",{id:"meerkat_web_admin_use_tls"},"MEERKAT_WEB_ADMIN_USE_TLS"),(0,r.kt)("p",null,"If set to ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),", the web admin console will ",(0,r.kt)("em",{parentName:"p"},"not")," use HTTPS and use HTTP instead."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This will have no effect if TLS is not configured in Meerkat DSA in the first\nplace.")),(0,r.kt)("p",null,"If TLS is enabled, the web admin console will use the same TLS configuration\nthat the directory services are configured to use."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"You should only disable TLS on the web admin console if you are using a reverse\nproxy that provides TLS.")),(0,r.kt)("h2",{id:"node_env"},"NODE_ENV"),(0,r.kt)("p",null,"This is a standard NodeJS-related environment variable. This should be set to\n",(0,r.kt)("inlineCode",{parentName:"p"},"production")," unless you are actually developing Meerkat DSA."))}u.isMDXComponent=!0}}]);