<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-setup">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Setup | Meerkat DSA</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wildboar-software.github.io/directory/docs/setup"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="directory, x500, x.500, ldap, database, meerkat, dsa, distributed"><meta data-rh="true" name="copyright" content="Copyright (c) 2021 Jonathan M. Wilbur &lt;jonathan@wilbur.space&gt;."><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Setup | Meerkat DSA"><meta data-rh="true" name="description" content="System Requirements"><meta data-rh="true" property="og:description" content="System Requirements"><link data-rh="true" rel="icon" href="/directory/img/boar-head-rune-circle.svg"><link data-rh="true" rel="canonical" href="https://wildboar-software.github.io/directory/docs/setup"><link data-rh="true" rel="alternate" href="https://wildboar-software.github.io/directory/docs/setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://wildboar-software.github.io/directory/docs/setup" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-177382419-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="icon" href="/directory/img/boar-head-rune-circle.svg">
<link rel="manifest" href="/directory/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)"><link rel="stylesheet" href="/directory/assets/css/styles.98760b4a.css">
<link rel="preload" href="/directory/assets/js/runtime~main.7fa09793.js" as="script">
<link rel="preload" href="/directory/assets/js/main.9c643b5d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/directory/"><div class="navbar__logo"><img src="/directory/img/boar-head-rune-circle-black.svg" alt="Wildboar Software Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/directory/img/boar-head-rune-circle.svg" alt="Wildboar Software Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Meerkat DSA</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/directory/docs/setup">Get Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/directory/docs/docs">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/directory/docs/specs">X.500 Specifications</a><a class="navbar__item navbar__link" href="/directory/docs/demo">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Wildboar-Software/directory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/directory/docs/docs">How to use this documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/directory/docs/intro">X.500</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/directory/docs/setup">Meerkat DSA</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/directory/docs/setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/env">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/webadmin">The Web Admin Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/database">Database Administration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/authorization">Authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/logging-monitoring">Logging and Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/schema">Schema Administration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/networking">Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/tls">Transport Layer Security (TLS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/online-pki">Online PKI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/signing">Signed Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/opbinding">Operational Bindings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/dynamic">Dynamic Entries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/administration">Administration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/advice">Advice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/usage">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/zonal">Zonal Matching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/attr-cert">Attribute Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/telemetry">Telemetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/conformance">Conformance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/deviations-nuances">Deviations and Nuances</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/information-disclosure">Information Disclosure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/roadmap">Roadmap</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/directory/docs/x500cli">Clients</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/directory/docs/tutorial01">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/directory/docs/asn1">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/directory/docs/changelog-meerkat">Change Logs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/directory/docs/versioning">For Developers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/directory/docs/support">Support / Help</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/directory/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Meerkat DSA</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Setup</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Setup</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-requirements">System Requirements<a class="hash-link" href="#system-requirements" title="Direct link to heading">​</a></h2><p>Meerkat DSA requires NodeJS version 17 or higher. With heavy usage, you can
expect Meerkat DSA&#x27;s memory usage to get up to 300MB. It would be wise to
anticipate the extreme and ensure that Meerkat DSA has at least 500MB of memory.</p><p>In addition to this, Meerkat DSA needs a database (as detailed below), which may
take a lot more memory. You may also wish to set up a reverse HTTP proxy such as
Nginx, Caddy, or Apache, which will also consume some resources.</p><p>Added together, you should probably have no less than 1 GB of memory free for
Meerkat DSA, the database, and a reverse proxy (if used).</p><p>Meerkat DSA has only been tested on x86-64 platforms, so no guarantees can be
made about how it will run on other architectures. Meerkat DSA should run just
fine on Windows, Mac OS, Linux, and possibly more operating systems, and it has
been briefly tested on all three.</p><p>X.500 directory traffic is typically not time-sensitive, so high latency is
usually tolerable. However, the network may need to be able to afford high
throughput, since certain operations, such as <code>search</code> and <code>list</code>, can
potentially return a lot of data all at once.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation--deployment">Installation / Deployment<a class="hash-link" href="#installation--deployment" title="Direct link to heading">​</a></h2><p>It is recommended that you install Meerkat DSA in a Kubernetes cluster using
Helm. However, Meerkat DSA can be installed as a Docker Compose app and can also
run locally.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="database">Database<a class="hash-link" href="#database" title="Direct link to heading">​</a></h3><p>In any case that you deploy Meerkat DSA, you will need to configure a MySQL
database that will hold the DSA&#x27;s data. Ideally, you should use a secure
password and TLS to secure the connection to the database. It is also strongly
recommended that Meerkat DSA coexist in a physically nearby location to the
database so that latency is low; if your Meerkat DSA instance has to send its
queries to a MySQL database on the other side of the planet, it will mean that
Meerkat DSA will respond slowly to requests!</p><p>You will need to manually create a database within your database server that
Meerkat DSA can use exclusively. Conventionally, this is named <code>directory</code>, but
you can name it anything you want as long as you configure your <code>DATABASE_URL</code>
to use that database.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The <code>bitnami/mysql</code> Helm chart will allow you to define a database to create
on startup, so you will not need to manually log into this database server to
create this database. Different container images may also allow you to define
a database to create on startup as well.</p></div></div><p>The MySQL database will then need to be seeded with database schema. In
technical terms, we need to &quot;deploy a migration&quot; to the database. You will need
a user account that has all permissions to alter database schema. It is fine if
this is a root / administrator account, since this will only be used once. How
you actually deploy the migration will depend on how you have deployed Meerkat
DSA, so this will be described on a case-by-case basis in the sections to
follow.</p><p>After the database migration is complete, you can run Meerkat DSA with a
database account having just create + read + update + delete permissions for
the database.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bitnami-helm-chart">Bitnami Helm Chart<a class="hash-link" href="#bitnami-helm-chart" title="Direct link to heading">​</a></h4><p>One of the easiest ways to get a MySQL instance ready to go in a Kubernetes
cluster is the
<a href="https://artifacthub.io/packages/helm/bitnami/mysql" target="_blank" rel="noopener noreferrer">Bitnami Helm chart</a>.</p><p>Here is one way to do this:</p><p>Run this command to create a secret in Kubernetes:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl create secret generic </span><span class="token operator">&lt;</span><span class="token plain">your secret name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --from-literal</span><span class="token operator">=</span><span class="token plain">mysql-root-password</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your root password</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --from-literal</span><span class="token operator">=</span><span class="token plain">mysql-replication-password</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your rep password</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --from-literal</span><span class="token operator">=</span><span class="token plain">mysql-password</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your other password</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --namespace</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your namespace</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Add the Bitnami Helm repo via this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">helm repo </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> bitnami https://charts.bitnami.com/bitnami</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, install MySQL from the Bitnami Helm repo via this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">helm </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">your database name</span><span class="token operator">&gt;</span><span class="token plain"> bitnami/mysql </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --set auth.existingSecret</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your secret name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --set auth.database</span><span class="token operator">=</span><span class="token plain">directory </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --atomic </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --namespace</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your namespace</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">​</a></h3><p>Meerkat DSA is configured through environment variables. These environment
variables and their effects are documented <a href="/directory/docs/env">here</a>.</p><p>At minimum, you MUST define <code>DATABASE_URL</code>. Besides that, you SHOULD define the
following other environment variables:</p><ul><li><code>MEERKAT_SIGNING_CERTS_CHAIN_FILE</code>, which is documented <a href="/directory/docs/env#meerkatsigningcertschainfile">here</a>.</li><li><code>MEERKAT_SIGNING_KEY_FILE</code>, which is documented <a href="/directory/docs/env#meerkatsigningkeyfile">here</a>.</li><li><code>MEERKAT_TLS_CERT_FILE</code>, which is documented <a href="/directory/docs/env#meerkattlscertfile">here</a>.</li><li><code>MEERKAT_TLS_KEY_FILE</code>, which is documented <a href="/directory/docs/env#meerkattlskeyfile">here</a>.</li><li><code>NODE_ENV</code>, which should always be set to <code>production</code> unless you are
debugging or developing Meerkat DSA.</li><li><code>LANG</code>, which should be set to the locale identifier for your desired locale.
This will determine the language used for logging as well as the language for
error messages. For American English, this should be <code>en_US.utf8</code>.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The <code>LANG</code> environment variable will NOT affect the web administration console.
The web administration console does not support internationalization at all.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="local">Local<a class="hash-link" href="#local" title="Direct link to heading">​</a></h3><p>To do this, you must have Node.js version 17 or higher installed. This will
also install Node Package Manager (<code>npm</code>). You will also need Git installed.
You will also need a MySQL database somewhere ofr</p><p>You can run Meerkat DSA locally by cloning the
<a href="https://github.com/Wildboar-Software/directory" target="_blank" rel="noopener noreferrer">source repository for Meerkat DSA</a>
by running <code>git clone https://github.com/Wildboar-Software/directory</code>.</p><p>Then run <code>npm install</code>. This will install all of the dependencies for this
project to build and work.</p><p>Run <code>npx nx run meerkat:build:production</code> to build Meerkat DSA for the system
you are running. This will put the compiled output into
<code>./dist/apps/meerkat/main.js</code>. You can run this JavaScript file via
<code>node ./dist/apps/meerkat/main.js</code>, however, it will probably not work right
away.</p><p>You will need to configure Meerkat DSA using environment variables. How
you do this will depend on whether you are using Windows, Linux, Mac, or some
other operating system, but you can look at what you need to get it up and
running on the <a href="/directory/docs/env">Configuration Environment Variables documentation</a>.</p><p>There is technically only one environment variable that is required, which is
<code>DATABASE_URL</code>. Set this to the URL of your database.</p><p>Once you have your environment variables defined to configure Meerkat DSA as
you&#x27;d like, you will need to actually configure the database with the schema
needed to store Meerkat DSA&#x27;s data, which you can do by running
<code>npx prisma migrate deploy --schema=apps/meerkat/src/prisma/schema.prisma</code>.</p><p>Then run <code>node ./dist/apps/meerkat/main.js</code>. You should see your application
start up on the console (unless you turned off console logging).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker--docker-compose">Docker / Docker-Compose<a class="hash-link" href="#docker--docker-compose" title="Direct link to heading">​</a></h3><p>You can define your own Docker-Compose stack that will pull the Meerkat DSA
image <code>ghcr.io/wildboar-software/meerkat-dsa</code> and wire it up to a MySQL
database, but the
<a href="https://github.com/Wildboar-Software/directory" target="_blank" rel="noopener noreferrer">source repository for Meerkat DSA</a>
has a
<a href="https://github.com/Wildboar-Software/directory/blob/master/pkg/docker-compose.yaml" target="_blank" rel="noopener noreferrer">starter template</a>
that you can use.</p><p>The starter template will create a MySQL database, deploy the migrations to it,
and start Meerkat DSA. Pretty much all you have to do is configure the
environment variables and mount volumes for your signing key and cert, your
TLS key and cert, your CA certificates bundle, your CRLs, your init script, and
any other files that you may want to be in the container.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a class="hash-link" href="#kubernetes" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>There is a lot that goes into using Kubernetes and Helm--far more than I could
possibly teach you in this documentation. Therefore, this documentation will
assume that you have a working understanding of Kubernetes.</p></div></div><p>As with Docker-Compose, you may define your own Kubernetes manifests to deploy
Meerkat DSA, however, <a href="https://wildboarsoftware.com/en" target="_blank" rel="noopener noreferrer">Wildboar Software</a> has
defined a <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm</a> chart for easy installation and removal.</p><p>To install via Helm, first you must have <code>helm</code> installed, which you can do by
following <a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer">these instructions</a>. You must
also have a Kubernetes cluster running.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Note that you do not have to run the official Kubernetes control
plane. There are plenty of other great alternatives such as K3s, Microk8s, and
Minikube, all of which should work, and some of which are more suitable for
lower-powered devices.</p></div></div><p>If you haven&#x27;t <a href="#database">set up the database</a>, by now, do so.</p><p>When you have <code>helm</code> installed, a Kubernetes cluster up and running, and you
have authenticated to the cluster, you need to define a Kubernetes secret that
your Meerkat DSA deployment can use to access your database. This needs to be
a Kubernetes <code>Secret</code> and not a <code>ConfigMap</code>, because your database URL will most
likely include a username and password. You can create this secret using this
command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl create secret generic </span><span class="token operator">&lt;</span><span class="token plain">your secret name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --from-literal</span><span class="token operator">=</span><span class="token plain">databaseUrl</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your database url</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --namespace</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">your namespace</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Obviously, substitute <code>&lt;your secret name&gt;</code>, <code>&lt;your database url&gt;</code>, and
<code>&lt;your namespace&gt;</code> in the example above. The Kubernetes secret MUST have the
key <code>databaseUrl</code>. You CANNOT name this something else. Note that
Wildboar Software&#x27;s Helm chart, by default, will seek to mount a secret named
<code>meerkat-database-secret</code>, so this is what you SHOULD name this secret, unless
you have multiple DSA instances that you expect to run.</p><p>There may be other secrets that you wish to create, such as the signing secret
and TLS secret. These can be done with a slightly different command. Both of
these secrets are of type <code>kubernetes.io/tls</code> and can be created using the
command <code>kubectl create secret tls ...</code>.</p><p>When you have created all of the <code>ConfigMap</code>s and <code>Secret</code>s you plan to create,
run these commands to deploy Meerkat DSA:</p><ol><li>Run <code>helm repo add wildboar https://wildboarprod.blob.core.windows.net/helm-charts</code>.
This will install Wildboar Software&#x27;s Helm repository to your saved list of
repositories so you can use Helm charts defined by Wildboar Software.</li><li>Run <code>helm repo update</code>. This will update your local cache of all Helm charts
that are available in your configured repositories.</li><li>Run <code>helm install &lt;release-name&gt; wildboar/meerkat-dsa ...</code>, but replace
<code>&lt;release-name&gt;</code> with any name you choose for your Meerkat DSA deployment,
and replace the <code>...</code> with any other command arguments you need to supply to
Helm to customize your deployment. At a minimum, you may want to append
<code>--set databaseSecretName=&lt;your database secret name&gt;</code>. If you want your
instance to be publicly accessible, add <code>--set service.type=LoadBalancer</code> to
that command.</li></ol><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>You should configure Kubernetes
<a href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity" target="_blank" rel="noopener noreferrer">inter-pod affinity</a>
so that your Meerkat DSA runs on the same node as your database to minimize
latency. It does not seem like there is an easy way to do this using the Helm
CLI alone: you might have to define a values override file. See
<code>.github/workflows/main.yml</code> within this repository for an example
(specifically, the <code>deploy_demo</code> job).</p></div></div><p>If you want access to the web admin console, add
<code>--set dangerouslyExposeWebAdmin=true</code> to the command above, but be sure to
configure authentication for it or put it behind a secure reverse HTTP proxy
that requires authentication and TLS. Client TLS authentication would be even
better than basic authentication.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Access to the web administration console means full permission to do anything.
It is highly recommended that you not only configure
<a href="/directory/docs/webadmin#authentication">authentication</a> for it, but also use Kubernetes
<a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" target="_blank" rel="noopener noreferrer">Network Policy</a>
to ensure that other pods cannot even reach it.</p><p>As an even more secure measure, you may simply not expose a service for that pod
at all, requiring that you use
<a href="https://kubernetes.io/docs/tasks/access-application-cluster/port-forward-access-application-cluster/#forward-a-local-port-to-a-port-on-the-pod" target="_blank" rel="noopener noreferrer"><code>kubectl port-forward</code></a>
to access it. This means that only your Kubernetes cluster administrators would
be able to reach the web admin console, but this might work for your use case.</p></div></div><p>You can see example deployments to Kubernetes clusters in Bash scripts
<a href="https://github.com/Wildboar-Software/directory/blob/master/scripts/publish.sh" target="_blank" rel="noopener noreferrer">here</a>
and in GitHub Actions YAML configuration
<a href="https://github.com/Wildboar-Software/directory/blob/master/.github/workflows/main.yml" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dsa-initialization">DSA Initialization<a class="hash-link" href="#dsa-initialization" title="Direct link to heading">​</a></h2><p>When your DSA comes online, if there is not root DSE, your DSA will create it.
Otherwise, there are no entries in existence.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-control">Access Control<a class="hash-link" href="#access-control" title="Direct link to heading">​</a></h2><p>At this point, your DSA will be world-readable and world-writeable. If you do
not want this, you will need to implement access controls. To do this, you will
need to define an Access Control Specific Area (ACSA) that spans the entirety of
your autonomous administrative area. To do this, you will need to do these
things in this specific order (details to follow):</p><ol><li><p>Create an administrative user.</p></li><li><p>Set a password for the administrative user.</p></li><li><p>Create an administrative point, then</p></li><li><p>Create access control subentries under this administrative point, then</p></li><li><p>Add the <code>id-ar-accessControlSpecificArea</code> value to the <code>administrativeRole</code>
attribute of the administrative point, and set the <code>accessControlScheme</code>
attribute of the administrative point.</p><ul><li><code>basicAccessControlScheme</code></li><li><code>simplifiedAccessControlScheme</code></li><li><code>rule-based-access-control</code></li><li><code>rule-and-basic-access-control</code></li><li><code>rule-and-simple-access-control</code></li></ul></li></ol><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>If you create the administrative point with an ACSA role before creating the
subentries, you might be locked out, unable to read or write anything including
and below that administrative point! This is because an absence of Access
Control Information (ACI) items, as would be present in subentries, indicates
a denial of access. Creating the ACSA administrative point is the switch that
turns access control on. Ensure you configure your ACI items in your ACSA and
ACIA subentries are configured to allow you to continue to set up your DSA!</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-administrative-user">Creating the administrative user<a class="hash-link" href="#creating-the-administrative-user" title="Direct link to heading">​</a></h3><p>You will need to create a DSE of type <code>entry</code> that will represent the
administrator of the DSA. There are no requirements as to what object classes
this entry must have.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-a-password-for-the-administrative-user">Set a password for the administrative user<a class="hash-link" href="#set-a-password-for-the-administrative-user" title="Direct link to heading">​</a></h3><p>This administrator&#x27;s DSE should have a password set through the
<code>administerPassword</code> operation, which will set a password for this entry. The
password SHOULD NOT be set using the <code>modifyEntry</code> or <code>addEntry</code> operation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-administrative-point">Creating the administrative point<a class="hash-link" href="#creating-the-administrative-point" title="Direct link to heading">​</a></h3><p>You may use an existing administrative point if you&#x27;d like, but, again, anything
in your DSA that is not enclosed by an ACSA admininstrative point will be
world-readable and world-writeable. This administrative point MUST NOT have the
<code>id-ar-accessControlSpecificArea</code> role value present in its <code>administrativeRole</code>
attribute (for right now).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-access-control-subentries">Creating access control subentries<a class="hash-link" href="#creating-access-control-subentries" title="Direct link to heading">​</a></h3><p>You will need to create access control subentries beneath your soon-to-be
access control administrative point. These subentries contain Access Control
Information (ACI) items. These subentries shall:</p><ul><li>Have an <code>objectClass</code> attribute having a value <code>accessControlSubentry</code>.</li><li>Have a <code>prescriptiveACI</code> attribute with values.</li></ul><p>Defining what ACI items are here is outside of scope for this documentation, but
the ACI items that you define SHOULD:</p><ul><li>Allow administrators all permissions to all entries.</li><li>Allow users to read and write to their own entries,<ul><li>Including:<ul><li>Changing their passwords</li><li>Deleting their entry</li></ul></li><li>Excluding:<ul><li>Modifying operational attributes</li></ul></li></ul></li><li>Allow unauthenticated / anonymous users to only read non-sensitive entries and
attributes, if any.</li></ul><p>When defining ACI items, keep in mind that the server will apply a configurable
local qualifier to the calculated <code>AuthenticationLevel</code> for a user based on
whether the connection is secured through Transport Layer Security (TLS) or some
other means. The &quot;points&quot; that Meerkat assigns to a connection secured as such
is determined by the value of the environment variable
<code>AUTH_LEVEL_LOCAL_QUALIFIER_POINTS_FOR_TLS</code>. This environment variable shall
contain a reasonably-sized (not extremely large) integer.</p><p>The ACI items you define SHOULD be few in number, and, for performance reasons,
all ACI items within an ACSA SHOULD have distinct <code>precedence</code> values.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="making-the-administrative-point-an-access-control-administrative-point">Making the administrative point an access control administrative point<a class="hash-link" href="#making-the-administrative-point-an-access-control-administrative-point" title="Direct link to heading">​</a></h3><p>You should then define an access control administrative point. This can overlap
with your autonomous administrative point. This is a DSE of type <code>admPoint</code> that
has an <code>administrativeRole</code> attribute having value
<code>id-ar-accessControlSpecificArea</code>.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>If you do not have access control administrative points defined, your DSA will
be world-readable and world-writeable!</p></div></div><p>One this point exists, your access control will activate.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Wildboar-Software/directory/edit/main/website/docs/setup.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/directory/docs/uses"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Uses</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/directory/docs/env"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#system-requirements" class="table-of-contents__link toc-highlight">System Requirements</a></li><li><a href="#installation--deployment" class="table-of-contents__link toc-highlight">Installation / Deployment</a><ul><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#local" class="table-of-contents__link toc-highlight">Local</a></li><li><a href="#docker--docker-compose" class="table-of-contents__link toc-highlight">Docker / Docker-Compose</a></li><li><a href="#kubernetes" class="table-of-contents__link toc-highlight">Kubernetes</a></li></ul></li><li><a href="#dsa-initialization" class="table-of-contents__link toc-highlight">DSA Initialization</a></li><li><a href="#access-control" class="table-of-contents__link toc-highlight">Access Control</a><ul><li><a href="#creating-the-administrative-user" class="table-of-contents__link toc-highlight">Creating the administrative user</a></li><li><a href="#set-a-password-for-the-administrative-user" class="table-of-contents__link toc-highlight">Set a password for the administrative user</a></li><li><a href="#creating-the-administrative-point" class="table-of-contents__link toc-highlight">Creating the administrative point</a></li><li><a href="#creating-access-control-subentries" class="table-of-contents__link toc-highlight">Creating access control subentries</a></li><li><a href="#making-the-administrative-point-an-access-control-administrative-point" class="table-of-contents__link toc-highlight">Making the administrative point an access control administrative point</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Wildboar Software. Built with Docusaurus.</div></div></div></footer></div>
<script src="/directory/assets/js/runtime~main.7fa09793.js"></script>
<script src="/directory/assets/js/main.9c643b5d.js"></script>
</body>
</html>