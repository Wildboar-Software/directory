<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-logging-monitoring" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Logging and Monitoring | Meerkat DSA</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wildboar-software.github.io/directory/docs/logging-monitoring"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="directory, x500, x.500, ldap, database, meerkat, dsa, distributed"><meta data-rh="true" name="copyright" content="Copyright (c) 2021 Jonathan M. Wilbur &lt;jonathan@wilbur.space&gt;."><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Logging and Monitoring | Meerkat DSA"><meta data-rh="true" name="description" content="Meerkat DSA supports internationalized logging, and using different formats."><meta data-rh="true" property="og:description" content="Meerkat DSA supports internationalized logging, and using different formats."><link data-rh="true" rel="icon" href="/directory/img/boar-head-rune-circle.svg"><link data-rh="true" rel="canonical" href="https://wildboar-software.github.io/directory/docs/logging-monitoring"><link data-rh="true" rel="alternate" href="https://wildboar-software.github.io/directory/docs/logging-monitoring" hreflang="en"><link data-rh="true" rel="alternate" href="https://wildboar-software.github.io/directory/docs/logging-monitoring" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-177382419-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>



<link rel="icon" href="/directory/img/boar-head-rune-circle.svg">
<link rel="manifest" href="/directory/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)"><link rel="stylesheet" href="/directory/assets/css/styles.1ef47c0e.css">
<script src="/directory/assets/js/runtime~main.0e203777.js" defer="defer"></script>
<script src="/directory/assets/js/main.5cb0fc94.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/directory/"><div class="navbar__logo"><img src="/directory/img/boar-head-rune-circle-black.svg" alt="Wildboar Software Logo" class="themedComponent_DHUr themedComponent--light_DIHH"><img src="/directory/img/boar-head-rune-circle.svg" alt="Wildboar Software Logo" class="themedComponent_DHUr themedComponent--dark_Bv2M"></div><b class="navbar__title text--truncate">Meerkat DSA</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/directory/docs/setup">Get Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/directory/docs/docs">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/directory/docs/specs">X.500 Specifications</a><a class="navbar__item navbar__link" href="/directory/docs/demo">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Wildboar-Software/directory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bmvg"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV"><div class="docsWrapper_XLvK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docRoot_HciC"><aside class="theme-doc-sidebar-container docSidebarContainer_e5ai"><div class="sidebarViewport_N8x0"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/directory/docs/docs">How to use this documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/directory/docs/intro">X.500</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/directory/docs/setup">Meerkat DSA</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/env">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/webadmin">The Web Admin Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/database">Database Administration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/authorization">Authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/directory/docs/logging-monitoring">Logging and Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/schema">Schema Administration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/networking">Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/distributed">Distributed Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/tls">Transport Layer Security (TLS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/online-pki">Online PKI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/signing">Signed Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/opbinding">Operational Bindings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/shadowing">Shadowing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/dynamic">Dynamic Entries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/administration">Administration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/advice">Advice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/usage">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/zonal">Zonal Matching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/attr-cert">Attribute Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/conformance">Conformance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/deviations-nuances">Deviations and Nuances</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/information-disclosure">Information Disclosure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/directory/docs/roadmap">Roadmap</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/directory/docs/x500cli">Clients and Libraries</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/directory/docs/tutorial01">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/directory/docs/asn1">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/directory/docs/changelog-meerkat">Change Logs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/directory/docs/versioning">For Developers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/directory/docs/support">Support / Help</a></li></ul></nav></div></div></aside><main class="docMainContainer_namt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/directory/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Meerkat DSA</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Logging and Monitoring</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Logging and Monitoring</h1></header>
<p>Meerkat DSA supports internationalized logging, and using different formats.
Under the hood, Meerkat DSA uses <a href="https://logtape.org/" target="_blank" rel="noopener noreferrer">LogTape</a> for logging.
By default, Meerkat DSA logs plain text to the console with ANSI coloring. JSON
logging is supported and recommended.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="internationalization">Internationalization<a href="#internationalization" class="hash-link" aria-label="Direct link to Internationalization" title="Direct link to Internationalization">​</a></h2>
<p>The language of the logging used by Meerkat DSA is determined by the system&#x27;s
environment variable <code>LANG</code>. If your selected language is not supported, English
will be used as a default.</p>
<p>Currently, only English is supported, but future editions may support other
languages.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="log-levels">Log Levels<a href="#log-levels" class="hash-link" aria-label="Direct link to Log Levels" title="Direct link to Log Levels">​</a></h2>
<p>In Meerkat DSA, there are four log levels, which are common to many
applications. Their meanings are described below:</p>
<ul>
<li><code>debug</code>-level messages are messages that log requests and responses, which
can be useful for seeing error messages. Note that errors in requests will
be logged at <code>debug</code> level, not <code>error</code> or <code>warn</code>.</li>
<li><code>info</code>-level messages are messages that may serve as important &quot;landmarks&quot;
for DSA administrators, but which have little value by themselves, such as
seeing that the server began listening, or that a client connected.</li>
<li><code>warn</code>-level messages are messages that indicate a potential problem with
the DSA, confidentiality, data integrity, availability, etc.</li>
<li><code>error</code>-level messages are messages that have emerged from errors that
require administrator attention, such as data corruption, loops, invalid
schema, database connectivity issues, resource constraints, etc.</li>
</ul>
<p>In theory, other log levels may be supported later on.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="customizing-logging-the-simple-way">Customizing Logging the Simple Way<a href="#customizing-logging-the-simple-way" class="hash-link" aria-label="Direct link to Customizing Logging the Simple Way" title="Direct link to Customizing Logging the Simple Way">​</a></h2>
<p>You can configure logging through environment variables. The following may be
used to configure logging to either the console (the default) or rotated log
files:</p>
<ul>
<li>Setting <code>MEERKAT_NO_COLOR</code> or <code>NO_COLOR</code> to <code>1</code> will disable colored logging
output. The latter is a <a href="https://no-color.org/" target="_blank" rel="noopener noreferrer">standard</a>.</li>
<li>Setting <code>MEERKAT_LOG_LEVEL</code> to a log level will log all messages having a
severity at that level or higher. It may be set to <code>debug</code>, <code>info</code>, <code>warn</code>,
or <code>error</code>, in order of decreasing verbosity. The default is <code>info</code>.</li>
<li>Setting <code>MEERKAT_LOG_JSON</code> to <code>1</code> will cause Meerkat DSA to output logs in
JSON format.</li>
<li>Setting <code>MEERKAT_NO_CONSOLE</code> to <code>1</code> will disable logging to the console.
Note that if you have no other log transport configured, no logs will be
collected at all.</li>
<li>Setting <code>MEERKAT_LOG_FILE</code> to the file path of a file to write logs will
cause Meerkat DSA to write logs to that file.</li>
<li><code>MEERKAT_LOG_FILE_MAX_SIZE</code> controls the number of bytes permitted in a
log file before it is rotated out for a new log file. This has no effect if
<code>MEERKAT_LOG_FILE</code> is not set.</li>
<li><code>MEERKAT_LOG_FILE_MAX_FILES</code> controls the maximum number of log files
before which Meerkat DSA deletes the oldest one.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="logging-via-syslog">Logging via Syslog<a href="#logging-via-syslog" class="hash-link" aria-label="Direct link to Logging via Syslog" title="Direct link to Logging via Syslog">​</a></h2>
<p>In addition to the above configuration, you may configure Meerkat DSA to log via
Syslog using the following environment variables:</p>
<ul>
<li><code>MEERKAT_LOG_SYSLOG</code> - Set this to <code>1</code> to enable logging via Syslog. You do
not need any further configuration if your logs are going to localhost over
UDP port 514 and you don&#x27;t care about the app name.</li>
<li><code>MEERKAT_LOG_SYSLOG_APP_NAME</code> - Set this to change the application name in
Syslog logs. By default, this is set to <code>meerkat</code>.</li>
<li><code>MEERKAT_LOG_SYSLOG_HOST</code> - Set this to the hostname of the Syslog server to
which you want your logs sent. This defaults to <code>localhost</code>.</li>
<li><code>MEERKAT_LOG_SYSLOG_PORT</code> - Set this to the UDP or TCP port number to which
you want your logs sent. This defaults to <code>514</code>.</li>
<li><code>MEERKAT_LOG_SYSLOG_TCP</code> - If set to <code>1</code>, Syslog events will be sent over TCP
instead of UDP. This gives you reliable and in-order transport at the expense
of performance.</li>
<li><code>MEERKAT_LOG_SYSLOG_TIMEOUT</code> - The number of milliseconds (in decimal digits)
before a connection timeout. This defaults to <code>5000</code>.</li>
<li><code>MEERKAT_LOG_SYSLOG_TLS</code> - If set to <code>1</code>, use Syslog over Transport Layer
Security (TLS). If you do not use this, your Syslog events will <em>not</em> be
encrypted or tamper-proof.</li>
<li><code>MEERKAT_LOG_SYSLOG_REJECT_UNAUTH</code> - If set to <code>1</code>, ignore invalid X.509
certificates from the Syslog server. This option is insecure, but some TLS is
probably better than none.</li>
<li><code>MEERKAT_LOG_SYSLOG_CA</code> - File path to a file containing PEM-encoded X.509
public key certificates which will serve as trust anchors for verifying the
Syslog server.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_IZjC alert alert--secondary"><div class="admonitionHeading_uVvU"><span class="admonitionIcon_HiR3"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_bl22"><p>Meerkat DSA was only going to support console or file logging since those are
the universal and standard--if not the preferred--ways to log things in modern
apps, but support for Syslog required only a tiny additional dependency (with no
transitive dependencies) to work, so it was an obvious choice. In contrast,
something like Windows Event Viewer, Sentry, OpenTelemetry, or AWS Cloudwatch
logging would have required huge dependencies and those can&#x27;t be tested as
easily.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="snmp-monitoring">SNMP Monitoring<a href="#snmp-monitoring" class="hash-link" aria-label="Direct link to SNMP Monitoring" title="Direct link to SNMP Monitoring">​</a></h2>
<p>Meerkat DSA will support SNMP monitoring in a paid version in the future.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="why-are-errors-logged-at-debug-level">&quot;Why are errors logged at DEBUG level?&quot;<a href="#why-are-errors-logged-at-debug-level" class="hash-link" aria-label="Direct link to &quot;Why are errors logged at DEBUG level?&quot;" title="Direct link to &quot;Why are errors logged at DEBUG level?&quot;">​</a></h2>
<p>When a user gets an error as a result of doing something wrong, (e.g. creating
an entry where they are not allowed by access control, or creating an entry that
does not conform to schema requirements), it is not an <em>issue</em> for Meerkat DSA
to respond with an error: it is expected behavior, in fact. The logs are meant
for DSA administrators, not users, and therefore the level or log messages
should reflect the level of attention that an administrator should pay to a
message. Error messages should be displayed, say, if the database is corrupted,
the server is configured insecurely, resource utilization is unusually high,
connections are getting dropped, etc.</p>
<p>Note that some user-facing errors <em>will</em> show up in non-debug level log
messages: namely invalid authentication attempts. Invalid authentication
attempts are logged at WARN level, because repeated invalid attempts could
indicate a brute-force password-guessing attack, or some other hacking attempt,
which might warrant administrative intervention.</p>
<p>Also note that, in the future, a large number of errors may result in
error-level messages (as well as connections being dropped or blocked), because
an unusually large number of errors may also indicate attempted hacking.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="why-log-connection-ids-instead-of-ip-addresses">&quot;Why log connection IDs instead of IP addresses?&quot;<a href="#why-log-connection-ids-instead-of-ip-addresses" class="hash-link" aria-label="Direct link to &quot;Why log connection IDs instead of IP addresses?&quot;" title="Direct link to &quot;Why log connection IDs instead of IP addresses?&quot;">​</a></h2>
<p>There is a lot of information that goes into a connection / association:</p>
<ul>
<li>Bound DN</li>
<li>Auth Level</li>
<li>Address family</li>
<li>Remote address</li>
<li>Remote port</li>
<li>Protocol</li>
<li>Whether TLS is used</li>
</ul>
<p>Therefore, to avoid duplicating all of this information, it makes sense just to
log, upon binding, all of this information one time alongside the UUID assigned
to the association, so that from there out, the first message containing this
UUID can be used to correlate the UUID to all of these data.</p>
<p>Also, it makes it easier to redact Personally-Identifiable Information (PII), if
IP addresses count as such.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="what-is-this-could_ban-i-see-in-the-log-messages">&quot;What is this COULD_BAN I see in the log messages?&quot;<a href="#what-is-this-could_ban-i-see-in-the-log-messages" class="hash-link" aria-label="Direct link to &quot;What is this COULD_BAN I see in the log messages?&quot;" title="Direct link to &quot;What is this COULD_BAN I see in the log messages?&quot;">​</a></h2>
<p>It is inevitable that, if a valuable directory service is created, nefarious
users will attempt to hack it. Log messages that <em>could</em> indicate malicious
behavior are prefixed with <code>COULD_BAN=</code> followed by the IPv6 and IPv4 addresses
of the offending client. This easily identifiable and parseable pattern is
deliberately added so that Meerkat DSA log messages can be parsed by tools like
<a href="https://www.fail2ban.org/wiki/index.php/Main_Page" target="_blank" rel="noopener noreferrer">Fail2Ban</a>, so that offending
IP addresses can be blocked.</p>
<div class="theme-admonition theme-admonition-warning admonition_IZjC alert alert--warning"><div class="admonitionHeading_uVvU"><span class="admonitionIcon_HiR3"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_bl22"><p>If you are using a reverse proxy, such as Nginx, these IP addresses might be for
the proxy and not for the actual offending client. If you automatically block IP
addresses using Fail2Ban and these IP addresses are for the reverse proxy,
you&#x27;ll inadvertently block all traffic from your reverse proxy, which will make
your DSA inaccessible to everybody!</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="who-caused-this-error">&quot;Who Caused This Error?&quot;<a href="#who-caused-this-error" class="hash-link" aria-label="Direct link to &quot;Who Caused This Error?&quot;" title="Direct link to &quot;Who Caused This Error?&quot;">​</a></h2>
<ul>
<li>In the error, you should see a UUID, which is the association ID.</li>
<li>Scroll up in the logs until you find the host name that corresponds to this.</li>
</ul>
<p>In this case below, the UUID <code>b64d9434-c760-48ce-a287-1b0ae549138b</code> belongs to
a Directory Access Protocol (DAP) association that originated from the IP
address <code>127.0.0.1</code> (the localhost), with the remote port being <code>42692</code>.</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#F8F8F2"><span class="token plain">2022-07-26T02:01:01.104Z [info]:        IPv6:::ffff:127.0.0.1:42692: IDM transport established.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2022-07-26T02:01:02.115Z [info]:        IPv6://::ffff:127.0.0.1/42692: DAP association b64d9434-c760-48ce-a287-1b0ae549138b bound anonymously.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2022-07-26T02:01:02.133Z [debug]:       Received DAP request with invoke ID 2140052278 and operation 1 from connection b64d9434-c760-48ce-a287-1b0ae549138b.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2022-07-26T02:01:02.149Z [warn]:        b64d9434-c760-48ce-a287-1b0ae549138b/2140052278: NameError Target entry not found.</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that, if you are seeking to prosecute nefarious users that exhibit illegal,
malicious behavior towards your directory infrastructure, you should retain both
the IP address and the port number, since the user of
Network Address Translation (NAT) means that the one or more people or devices
could be sharing that IP address.</p>
<div class="theme-admonition theme-admonition-warning admonition_IZjC alert alert--warning"><div class="admonitionHeading_uVvU"><span class="admonitionIcon_HiR3"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_bl22"><p>If you are using a reverse proxy, such as Nginx, in front of your Meerkat DSA
instance, make the IP addresses you are preserving are not for the proxy!</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Wildboar-Software/directory/edit/main/website/docs/logging-monitoring.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_g62E"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/directory/docs/authentication"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Authentication</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/directory/docs/schema"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Schema Administration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#internationalization" class="table-of-contents__link toc-highlight">Internationalization</a></li><li><a href="#log-levels" class="table-of-contents__link toc-highlight">Log Levels</a></li><li><a href="#customizing-logging-the-simple-way" class="table-of-contents__link toc-highlight">Customizing Logging the Simple Way</a></li><li><a href="#logging-via-syslog" class="table-of-contents__link toc-highlight">Logging via Syslog</a></li><li><a href="#snmp-monitoring" class="table-of-contents__link toc-highlight">SNMP Monitoring</a></li><li><a href="#why-are-errors-logged-at-debug-level" class="table-of-contents__link toc-highlight">&quot;Why are errors logged at DEBUG level?&quot;</a></li><li><a href="#why-log-connection-ids-instead-of-ip-addresses" class="table-of-contents__link toc-highlight">&quot;Why log connection IDs instead of IP addresses?&quot;</a></li><li><a href="#what-is-this-could_ban-i-see-in-the-log-messages" class="table-of-contents__link toc-highlight">&quot;What is this COULD_BAN I see in the log messages?&quot;</a></li><li><a href="#who-caused-this-error" class="table-of-contents__link toc-highlight">&quot;Who Caused This Error?&quot;</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022-2025 Wildboar Software. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>